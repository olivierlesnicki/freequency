/**
 * @license almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

/*!
 * jQuery JavaScript Library v2.1.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-05-01T17:11Z
 */

/*!
 * Sizzle CSS Selector Engine v1.10.19
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-04-18
 */

//     Underscore.js 1.6.0
//     http://underscorejs.org
//     (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.

//     (c) 2010-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Backbone may be freely distributed under the MIT license.
//     For all details and documentation:
//     http://backbonejs.org

// https://raw.github.com/danro/easing-js - license info

// This code may be freely distributed under the MIT license

// http://danro.mit-license.org/

// Easing Equations (c) 2003 Robert Penner, BSD license

/*

	Backbone adaptor plugin
	=======================

	Version 0.1.0. Copyright 2013 @rich_harris, MIT licensed.

	This plugin allows Ractive.js to work seamlessly with Backbone.Model and
	Backbone.Collection instances.

	For more information see ractivejs.org/examples/backbone and
	https://github.com/Rich-Harris/Ractive/wiki/Adaptors.

	==========================

	Troubleshooting: If you're using a module system in your app (AMD or
	something more nodey) then you may need to change the paths below,
	where it says `require( 'ractive' )` or `define([ 'Ractive' ]...)`.

	==========================

	Usage: Include this file on your page below Ractive, e.g:

	    <script src='lib/Ractive.js'></script>
	    <script src='lib/Ractive-Backbone.js'></script>

	Or, if you're using a module loader, require this module:

	    define( function ( require ) {
	      var Ractive = require( 'Ractive' );

	      // requiring the plugins will 'activate' them - no need to use
	      // the return value
	      require( 'Ractive.plugins' );
	    });

	Then tell Ractive to expect Backbone objects by adding an `adaptors` property:

	    var ractive = new Ractive({
	      el: myContainer,
	      template: myTemplate,
	      data: { foo: myBackboneModel, bar: myBackboneCollection },
	      adaptors: [ 'Backbone' ]
	    });

*/

/**
 * @license RequireJS text 2.0.12 Copyright (c) 2010-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

/**
 * Dragdealer.js 0.9.7
 * http://github.com/skidding/dragdealer
 *
 * (c) 2010+ Ovidiu CherecheÈ™
 * http://skidding.mit-license.org
 */

/*
 *
 *  jQuery $.getImageData Plugin 0.3
 *  http://www.maxnov.com/getimagedata
 *  
 *  Written by Max Novakovic (http://www.maxnov.com/)
 *  Date: Thu Jan 13 2011
 *
 * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 *  
 *  Includes jQuery JSONP Core Plugin 2.4.0 (2012-08-21)
 *  https://github.com/jaubourg/jquery-jsonp
 *  Copyright 2012, Julian Aubourg
 *  Released under the MIT License.
 * 
 * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 *  
 *  Copyright 2011, Max Novakovic
 *  Dual licensed under the MIT or GPL Version 2 licenses.
 *  http://www.maxnov.com/getimagedata/#license
 * 
 */

/*

Superfast Blur - a fast Box Blur For Canvas

Version: 	0.5
Author:		Mario Klingemann
Contact: 	mario@quasimondo.com
Website:	http://www.quasimondo.com/BoxBlurForCanvas
Twitter:	@quasimondo

In case you find this class useful - especially in commercial projects -
I am not totally unhappy for a small donation to my PayPal account
mario@quasimondo.de

Or support me on flattr:
https://flattr.com/thing/140066/Superfast-Blur-a-pretty-fast-Box-Blur-Effect-for-CanvasJavascript

Copyright (c) 2011 Mario Klingemann

Permission is hereby granted, free of charge, to any person
obtaining a copy of this software and associated documentation
files (the "Software"), to deal in the Software without
restriction, including without limitation the rights to use,
copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following
conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
OTHER DEALINGS IN THE SOFTWARE.
*/

/*

StackBlur - a fast almost Gaussian Blur For Canvas

Version: 	0.5
Author:		Mario Klingemann
Contact: 	mario@quasimondo.com
Website:	http://www.quasimondo.com/StackBlurForCanvas
Twitter:	@quasimondo

In case you find this class useful - especially in commercial projects -
I am not totally unhappy for a small donation to my PayPal account
mario@quasimondo.de

Or support me on flattr: 
https://flattr.com/thing/72791/StackBlur-a-fast-almost-Gaussian-Blur-Effect-for-CanvasJavascript

Copyright (c) 2010 Mario Klingemann

Permission is hereby granted, free of charge, to any person
obtaining a copy of this software and associated documentation
files (the "Software"), to deal in the Software without
restriction, including without limitation the rights to use,
copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following
conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
OTHER DEALINGS IN THE SOFTWARE.
*/

!function(){var t,e,n;!function(r){function i(t,e){return b.call(t,e)}function o(t,e){var n,r,i,o,s,a,u,c,l,h,f,p=e&&e.split("/"),d=y.map,g=d&&d["*"]||{};if(t&&"."===t.charAt(0))if(e){for(p=p.slice(0,p.length-1),t=t.split("/"),s=t.length-1,y.nodeIdCompat&&k.test(t[s])&&(t[s]=t[s].replace(k,"")),t=p.concat(t),l=0;l<t.length;l+=1)if(f=t[l],"."===f)t.splice(l,1),l-=1;else if(".."===f){if(1===l&&(".."===t[2]||".."===t[0]))break;l>0&&(t.splice(l-1,2),l-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((p||g)&&d){for(n=t.split("/"),l=n.length;l>0;l-=1){if(r=n.slice(0,l).join("/"),p)for(h=p.length;h>0;h-=1)if(i=d[p.slice(0,h).join("/")],i&&(i=i[r])){o=i,a=l;break}if(o)break;!u&&g&&g[r]&&(u=g[r],c=l)}!o&&u&&(o=u,a=c),o&&(n.splice(0,a,o),t=n.join("/"))}return t}function s(t,e){return function(){return p.apply(r,x.call(arguments,0).concat([t,e]))}}function a(t){return function(e){return o(e,t)}}function u(t){return function(e){v[t]=e}}function c(t){if(i(m,t)){var e=m[t];delete m[t],w[t]=!0,f.apply(r,e)}if(!i(v,t)&&!i(w,t))throw new Error("No "+t);return v[t]}function l(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function h(t){return function(){return y&&y.config&&y.config[t]||{}}}var f,p,d,g,v={},m={},y={},w={},b=Object.prototype.hasOwnProperty,x=[].slice,k=/\.js$/;d=function(t,e){var n,r=l(t),i=r[0];return t=r[1],i&&(i=o(i,e),n=c(i)),i?t=n&&n.normalize?n.normalize(t,a(e)):o(t,e):(t=o(t,e),r=l(t),i=r[0],t=r[1],i&&(n=c(i))),{f:i?i+"!"+t:t,n:t,pr:i,p:n}},g={require:function(t){return s(t)},exports:function(t){var e=v[t];return"undefined"!=typeof e?e:v[t]={}},module:function(t){return{id:t,uri:"",exports:v[t],config:h(t)}}},f=function(t,e,n,o){var a,l,h,f,p,y,b=[],x=typeof n;if(o=o||t,"undefined"===x||"function"===x){for(e=!e.length&&n.length?["require","exports","module"]:e,p=0;p<e.length;p+=1)if(f=d(e[p],o),l=f.f,"require"===l)b[p]=g.require(t);else if("exports"===l)b[p]=g.exports(t),y=!0;else if("module"===l)a=b[p]=g.module(t);else if(i(v,l)||i(m,l)||i(w,l))b[p]=c(l);else{if(!f.p)throw new Error(t+" missing "+l);f.p.load(f.n,s(o,!0),u(l),{}),b[p]=v[l]}h=n?n.apply(v[t],b):void 0,t&&(a&&a.exports!==r&&a.exports!==v[t]?v[t]=a.exports:h===r&&y||(v[t]=h))}else t&&(v[t]=n)},t=e=p=function(t,e,n,i,o){if("string"==typeof t)return g[t]?g[t](e):c(d(t,e).f);if(!t.splice){if(y=t,y.deps&&p(y.deps,y.callback),!e)return;e.splice?(t=e,e=n,n=null):t=r}return e=e||function(){},"function"==typeof n&&(n=i,i=o),i?f(r,t,e,n):setTimeout(function(){f(r,t,e,n)},4),p},p.config=function(t){return p(t)},t._defined=v,n=function(t,e,n){e.splice||(n=e,e=[]),i(v,t)||i(m,t)||(m[t]=[t,e,n])},n.amd={jQuery:!0}}(),n("almond",function(){}),function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function r(t){var e=t.length,n=te.type(t);return"function"===n||te.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function i(t,e,n){if(te.isFunction(e))return te.grep(t,function(t,r){return!!e.call(t,r,t)!==n});if(e.nodeType)return te.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(ue.test(e))return te.filter(e,t,n);e=te.filter(e,t)}return te.grep(t,function(t){return X.call(e,t)>=0!==n})}function o(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function s(t){var e=ge[t]={};return te.each(t.match(de)||[],function(t,n){e[n]=!0}),e}function a(){K.removeEventListener("DOMContentLoaded",a,!1),t.removeEventListener("load",a,!1),te.ready()}function u(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=te.expando+Math.random()}function c(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(xe,"-$1").toLowerCase(),n=t.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:be.test(n)?te.parseJSON(n):n}catch(i){}we.set(t,e,n)}else n=void 0;return n}function l(){return!0}function h(){return!1}function f(){try{return K.activeElement}catch(t){}}function p(t,e){return te.nodeName(t,"table")&&te.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function d(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function g(t){var e=De.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function v(t,e){for(var n=0,r=t.length;r>n;n++)ye.set(t[n],"globalEval",!e||ye.get(e[n],"globalEval"))}function m(t,e){var n,r,i,o,s,a,u,c;if(1===e.nodeType){if(ye.hasData(t)&&(o=ye.access(t),s=ye.set(e,o),c=o.events)){delete s.handle,s.events={};for(i in c)for(n=0,r=c[i].length;r>n;n++)te.event.add(e,i,c[i][n])}we.hasData(t)&&(a=we.access(t),u=te.extend({},a),we.set(e,u))}}function y(t,e){var n=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&te.nodeName(t,e)?te.merge([t],n):n}function w(t,e){var n=e.nodeName.toLowerCase();"input"===n&&_e.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function b(e,n){var r,i=te(n.createElement(e)).appendTo(n.body),o=t.getDefaultComputedStyle&&(r=t.getDefaultComputedStyle(i[0]))?r.display:te.css(i[0],"display");return i.detach(),o}function x(t){var e=K,n=Be[t];return n||(n=b(t,e),"none"!==n&&n||(He=(He||te("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=He[0].contentDocument,e.write(),e.close(),n=b(t,e),He.detach()),Be[t]=n),n}function k(t,e,n){var r,i,o,s,a=t.style;return n=n||Ue(t),n&&(s=n.getPropertyValue(e)||n[e]),n&&(""!==s||te.contains(t.ownerDocument,t)||(s=te.style(t,e)),$e.test(s)&&We.test(e)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function E(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function T(t,e){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),r=e,i=Ge.length;i--;)if(e=Ge[i]+n,e in t)return e;return r}function _(t,e,n){var r=ze.exec(e);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):e}function N(t,e,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=te.css(t,n+Ee[o],!0,i)),r?("content"===n&&(s-=te.css(t,"padding"+Ee[o],!0,i)),"margin"!==n&&(s-=te.css(t,"border"+Ee[o]+"Width",!0,i))):(s+=te.css(t,"padding"+Ee[o],!0,i),"padding"!==n&&(s+=te.css(t,"border"+Ee[o]+"Width",!0,i)));return s}function C(t,e,n){var r=!0,i="width"===e?t.offsetWidth:t.offsetHeight,o=Ue(t),s="border-box"===te.css(t,"boxSizing",!1,o);if(0>=i||null==i){if(i=k(t,e,o),(0>i||null==i)&&(i=t.style[e]),$e.test(i))return i;r=s&&(Y.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+N(t,e,n||(s?"border":"content"),r,o)+"px"}function S(t,e){for(var n,r,i,o=[],s=0,a=t.length;a>s;s++)r=t[s],r.style&&(o[s]=ye.get(r,"olddisplay"),n=r.style.display,e?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&Te(r)&&(o[s]=ye.access(r,"olddisplay",x(r.nodeName)))):(i=Te(r),"none"===n&&i||ye.set(r,"olddisplay",i?n:te.css(r,"display"))));for(s=0;a>s;s++)r=t[s],r.style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?o[s]||"":"none"));return t}function A(t,e,n,r,i){return new A.prototype.init(t,e,n,r,i)}function O(){return setTimeout(function(){Ye=void 0}),Ye=te.now()}function R(t,e){var n,r=0,i={height:t};for(e=e?1:0;4>r;r+=2-e)n=Ee[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function L(t,e,n){for(var r,i=(rn[e]||[]).concat(rn["*"]),o=0,s=i.length;s>o;o++)if(r=i[o].call(n,e,t))return r}function M(t,e,n){var r,i,o,s,a,u,c,l,h=this,f={},p=t.style,d=t.nodeType&&Te(t),g=ye.get(t,"fxshow");n.queue||(a=te._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,te.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],c=te.css(t,"display"),l="none"===c?ye.get(t,"olddisplay")||x(t.nodeName):c,"inline"===l&&"none"===te.css(t,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in e)if(i=e[r],Ze.exec(i)){if(delete e[r],o=o||"toggle"===i,i===(d?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;d=!0}f[r]=g&&g[r]||te.style(t,r)}else c=void 0;if(te.isEmptyObject(f))"inline"===("none"===c?x(t.nodeName):c)&&(p.display=c);else{g?"hidden"in g&&(d=g.hidden):g=ye.access(t,"fxshow",{}),o&&(g.hidden=!d),d?te(t).show():h.done(function(){te(t).hide()}),h.done(function(){var e;ye.remove(t,"fxshow");for(e in f)te.style(t,e,f[e])});for(r in f)s=L(d?g[r]:0,r,h),r in g||(g[r]=s.start,d&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}}function j(t,e){var n,r,i,o,s;for(n in t)if(r=te.camelCase(n),i=e[r],o=t[n],te.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),s=te.cssHooks[r],s&&"expand"in s){o=s.expand(o),delete t[r];for(n in o)n in t||(t[n]=o[n],e[n]=i)}else e[r]=i}function F(t,e,n){var r,i,o=0,s=nn.length,a=te.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=Ye||O(),n=Math.max(0,c.startTime+c.duration-e),r=n/c.duration||0,o=1-r,s=0,u=c.tweens.length;u>s;s++)c.tweens[s].run(o);return a.notifyWith(t,[c,o,n]),1>o&&u?n:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:te.extend({},e),opts:te.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Ye||O(),duration:n.duration,tweens:[],createTween:function(e,n){var r=te.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(r),r},stop:function(e){var n=0,r=e?c.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)c.tweens[n].run(1);return e?a.resolveWith(t,[c,e]):a.rejectWith(t,[c,e]),this}}),l=c.props;for(j(l,c.opts.specialEasing);s>o;o++)if(r=nn[o].call(c,t,l,c.opts))return r;return te.map(l,L,c),te.isFunction(c.opts.start)&&c.opts.start.call(t,c),te.fx.timer(te.extend(u,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function I(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(de)||[];if(te.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function D(t,e,n,r){function i(a){var u;return o[a]=!0,te.each(t[a]||[],function(t,a){var c=a(e,n,r);return"string"!=typeof c||s||o[c]?s?!(u=c):void 0:(e.dataTypes.unshift(c),i(c),!1)}),u}var o={},s=t===En;return i(e.dataTypes[0])||!o["*"]&&i("*")}function P(t,e){var n,r,i=te.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&te.extend(!0,t,r),t}function q(t,e,n){for(var r,i,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function H(t,e,n,r){var i,o,s,a,u,c={},l=t.dataTypes.slice();if(l[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=c[u+" "+o]||c["* "+o],!s)for(i in c)if(a=i.split(" "),a[1]===o&&(s=c[u+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[i]:c[i]!==!0&&(o=a[0],l.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function B(t,e,n,r){var i;if(te.isArray(e))te.each(e,function(e,i){n||Cn.test(t)?r(t,i):B(t+"["+("object"==typeof i?e:"")+"]",i,n,r)});else if(n||"object"!==te.type(e))r(t,e);else for(i in e)B(t+"["+i+"]",e[i],n,r)}function W(t){return te.isWindow(t)?t:9===t.nodeType&&t.defaultView}var $=[],U=$.slice,V=$.concat,z=$.push,X=$.indexOf,Q={},J=Q.toString,G=Q.hasOwnProperty,Y={},K=t.document,Z="2.1.1",te=function(t,e){return new te.fn.init(t,e)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ne=/^-ms-/,re=/-([\da-z])/gi,ie=function(t,e){return e.toUpperCase()};te.fn=te.prototype={jquery:Z,constructor:te,selector:"",length:0,toArray:function(){return U.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:U.call(this)},pushStack:function(t){var e=te.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return te.each(this,t,e)},map:function(t){return this.pushStack(te.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(U.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:z,sort:$.sort,splice:$.splice},te.extend=te.fn.extend=function(){var t,e,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||te.isFunction(s)||(s={}),a===u&&(s=this,a--);u>a;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],r=t[e],s!==r&&(c&&r&&(te.isPlainObject(r)||(i=te.isArray(r)))?(i?(i=!1,o=n&&te.isArray(n)?n:[]):o=n&&te.isPlainObject(n)?n:{},s[e]=te.extend(c,o,r)):void 0!==r&&(s[e]=r));return s},te.extend({expando:"jQuery"+(Z+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===te.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!te.isArray(t)&&t-parseFloat(t)>=0},isPlainObject:function(t){return"object"!==te.type(t)||t.nodeType||te.isWindow(t)?!1:t.constructor&&!G.call(t.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?Q[J.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=te.trim(t),t&&(1===t.indexOf("use strict")?(e=K.createElement("script"),e.text=t,K.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(ne,"ms-").replace(re,ie)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var i,o=0,s=t.length,a=r(t);if(n){if(a)for(;s>o&&(i=e.apply(t[o],n),i!==!1);o++);else for(o in t)if(i=e.apply(t[o],n),i===!1)break}else if(a)for(;s>o&&(i=e.call(t[o],o,t[o]),i!==!1);o++);else for(o in t)if(i=e.call(t[o],o,t[o]),i===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(ee,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(r(Object(t))?te.merge(n,"string"==typeof t?[t]:t):z.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:X.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;n>r;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r,i=[],o=0,s=t.length,a=!n;s>o;o++)r=!e(t[o],o),r!==a&&i.push(t[o]);return i},map:function(t,e,n){var i,o=0,s=t.length,a=r(t),u=[];if(a)for(;s>o;o++)i=e(t[o],o,n),null!=i&&u.push(i);else for(o in t)i=e(t[o],o,n),null!=i&&u.push(i);return V.apply([],u)},guid:1,proxy:function(t,e){var n,r,i;return"string"==typeof e&&(n=t[e],e=t,t=n),te.isFunction(t)?(r=U.call(arguments,2),i=function(){return t.apply(e||this,r.concat(U.call(arguments)))},i.guid=t.guid=t.guid||te.guid++,i):void 0},now:Date.now,support:Y}),te.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Q["[object "+e+"]"]=e.toLowerCase()});var oe=function(t){function e(t,e,n,r){var i,o,s,a,u,c,h,p,d,g;if((e?e.ownerDocument||e:H)!==L&&R(e),e=e||L,n=n||[],!t||"string"!=typeof t)return n;if(1!==(a=e.nodeType)&&9!==a)return[];if(j&&!r){if(i=ye.exec(t))if(s=i[1]){if(9===a){if(o=e.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(s))&&P(e,o)&&o.id===s)return n.push(o),n}else{if(i[2])return Z.apply(n,e.getElementsByTagName(t)),n;if((s=i[3])&&x.getElementsByClassName&&e.getElementsByClassName)return Z.apply(n,e.getElementsByClassName(s)),n}if(x.qsa&&(!F||!F.test(t))){if(p=h=q,d=e,g=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(c=_(t),(h=e.getAttribute("id"))?p=h.replace(be,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",u=c.length;u--;)c[u]=p+f(c[u]);d=we.test(t)&&l(e.parentNode)||e,g=c.join(",")}if(g)try{return Z.apply(n,d.querySelectorAll(g)),n}catch(v){}finally{h||e.removeAttribute("id")}}}return C(t.replace(ue,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>k.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[q]=!0,t}function i(t){var e=L.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),r=t.length;r--;)k.attrHandle[n[r]]=e}function s(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Q)-(~t.sourceIndex||Q);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function c(t){return r(function(e){return e=+e,r(function(n,r){for(var i,o=t([],n.length,e),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function l(t){return t&&typeof t.getElementsByTagName!==X&&t}function h(){}function f(t){for(var e=0,n=t.length,r="";n>e;e++)r+=t[e].value;return r}function p(t,e,n){var r=e.dir,i=n&&"parentNode"===r,o=W++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||i)return t(e,n,o)}:function(e,n,s){var a,u,c=[B,o];if(s){for(;e=e[r];)if((1===e.nodeType||i)&&t(e,n,s))return!0}else for(;e=e[r];)if(1===e.nodeType||i){if(u=e[q]||(e[q]={}),(a=u[r])&&a[0]===B&&a[1]===o)return c[2]=a[2];if(u[r]=c,c[2]=t(e,n,s))return!0}}}function d(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function g(t,n,r){for(var i=0,o=n.length;o>i;i++)e(t,n[i],r);return r}function v(t,e,n,r,i){for(var o,s=[],a=0,u=t.length,c=null!=e;u>a;a++)(o=t[a])&&(!n||n(o,r,i))&&(s.push(o),c&&e.push(a));return s}function m(t,e,n,i,o,s){return i&&!i[q]&&(i=m(i)),o&&!o[q]&&(o=m(o,s)),r(function(r,s,a,u){var c,l,h,f=[],p=[],d=s.length,m=r||g(e||"*",a.nodeType?[a]:a,[]),y=!t||!r&&e?m:v(m,f,t,a,u),w=n?o||(r?t:d||i)?[]:s:y;if(n&&n(y,w,a,u),i)for(c=v(w,p),i(c,[],a,u),l=c.length;l--;)(h=c[l])&&(w[p[l]]=!(y[p[l]]=h));if(r){if(o||t){if(o){for(c=[],l=w.length;l--;)(h=w[l])&&c.push(y[l]=h);o(null,w=[],c,u)}for(l=w.length;l--;)(h=w[l])&&(c=o?ee.call(r,h):f[l])>-1&&(r[c]=!(s[c]=h))}}else w=v(w===s?w.splice(d,w.length):w),o?o(null,s,w,u):Z.apply(s,w)})}function y(t){for(var e,n,r,i=t.length,o=k.relative[t[0].type],s=o||k.relative[" "],a=o?1:0,u=p(function(t){return t===e},s,!0),c=p(function(t){return ee.call(e,t)>-1},s,!0),l=[function(t,n,r){return!o&&(r||n!==S)||((e=n).nodeType?u(t,n,r):c(t,n,r))}];i>a;a++)if(n=k.relative[t[a].type])l=[p(d(l),n)];else{if(n=k.filter[t[a].type].apply(null,t[a].matches),n[q]){for(r=++a;i>r&&!k.relative[t[r].type];r++);return m(a>1&&d(l),a>1&&f(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(ue,"$1"),n,r>a&&y(t.slice(a,r)),i>r&&y(t=t.slice(r)),i>r&&f(t))}l.push(n)}return d(l)}function w(t,n){var i=n.length>0,o=t.length>0,s=function(r,s,a,u,c){var l,h,f,p=0,d="0",g=r&&[],m=[],y=S,w=r||o&&k.find.TAG("*",c),b=B+=null==y?1:Math.random()||.1,x=w.length;for(c&&(S=s!==L&&s);d!==x&&null!=(l=w[d]);d++){if(o&&l){for(h=0;f=t[h++];)if(f(l,s,a)){u.push(l);break}c&&(B=b)}i&&((l=!f&&l)&&p--,r&&g.push(l))}if(p+=d,i&&d!==p){for(h=0;f=n[h++];)f(g,m,s,a);if(r){if(p>0)for(;d--;)g[d]||m[d]||(m[d]=Y.call(u));m=v(m)}Z.apply(u,m),c&&!r&&m.length>0&&p+n.length>1&&e.uniqueSort(u)}return c&&(B=b,S=y),g};return i?r(s):s}var b,x,k,E,T,_,N,C,S,A,O,R,L,M,j,F,I,D,P,q="sizzle"+-new Date,H=t.document,B=0,W=0,$=n(),U=n(),V=n(),z=function(t,e){return t===e&&(O=!0),0},X="undefined",Q=1<<31,J={}.hasOwnProperty,G=[],Y=G.pop,K=G.push,Z=G.push,te=G.slice,ee=G.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",re="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe=ie.replace("w","w#"),se="\\["+re+"*("+ie+")(?:"+re+"*([*^$|!~]?=)"+re+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+oe+"))|)"+re+"*\\]",ae=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+se+")*)|.*)\\)|)",ue=new RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g"),ce=new RegExp("^"+re+"*,"+re+"*"),le=new RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),he=new RegExp("="+re+"*([^\\]'\"]*?)"+re+"*\\]","g"),fe=new RegExp(ae),pe=new RegExp("^"+oe+"$"),de={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie.replace("w","w*")+")"),ATTR:new RegExp("^"+se),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:new RegExp("^(?:"+ne+")$","i"),needsContext:new RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},ge=/^(?:input|select|textarea|button)$/i,ve=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,we=/[+~]/,be=/'|\\/g,xe=new RegExp("\\\\([\\da-f]{1,6}"+re+"?|("+re+")|.)","ig"),ke=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Z.apply(G=te.call(H.childNodes),H.childNodes),G[H.childNodes.length].nodeType}catch(Ee){Z={apply:G.length?function(t,e){K.apply(t,te.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}x=e.support={},T=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},R=e.setDocument=function(t){var e,n=t?t.ownerDocument||t:H,r=n.defaultView;return n!==L&&9===n.nodeType&&n.documentElement?(L=n,M=n.documentElement,j=!T(n),r&&r!==r.top&&(r.addEventListener?r.addEventListener("unload",function(){R()},!1):r.attachEvent&&r.attachEvent("onunload",function(){R()})),x.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=i(function(t){return t.appendChild(n.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=me.test(n.getElementsByClassName)&&i(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),x.getById=i(function(t){return M.appendChild(t).id=q,!n.getElementsByName||!n.getElementsByName(q).length}),x.getById?(k.find.ID=function(t,e){if(typeof e.getElementById!==X&&j){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},k.filter.ID=function(t){var e=t.replace(xe,ke);return function(t){return t.getAttribute("id")===e}}):(delete k.find.ID,k.filter.ID=function(t){var e=t.replace(xe,ke);return function(t){var n=typeof t.getAttributeNode!==X&&t.getAttributeNode("id");return n&&n.value===e}}),k.find.TAG=x.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==X?e.getElementsByTagName(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},k.find.CLASS=x.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==X&&j?e.getElementsByClassName(t):void 0},I=[],F=[],(x.qsa=me.test(n.querySelectorAll))&&(i(function(t){t.innerHTML="<select msallowclip=''><option selected=''></option></select>",t.querySelectorAll("[msallowclip^='']").length&&F.push("[*^$]="+re+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||F.push("\\["+re+"*(?:value|"+ne+")"),t.querySelectorAll(":checked").length||F.push(":checked")}),i(function(t){var e=n.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&F.push("name"+re+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),F.push(",.*:")})),(x.matchesSelector=me.test(D=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&i(function(t){x.disconnectedMatch=D.call(t,"div"),D.call(t,"[s!='']:x"),I.push("!=",ae)}),F=F.length&&new RegExp(F.join("|")),I=I.length&&new RegExp(I.join("|")),e=me.test(M.compareDocumentPosition),P=e||me.test(M.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},z=e?function(t,e){if(t===e)return O=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r?r:(r=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&r||!x.sortDetached&&e.compareDocumentPosition(t)===r?t===n||t.ownerDocument===H&&P(H,t)?-1:e===n||e.ownerDocument===H&&P(H,e)?1:A?ee.call(A,t)-ee.call(A,e):0:4&r?-1:1)}:function(t,e){if(t===e)return O=!0,0;var r,i=0,o=t.parentNode,a=e.parentNode,u=[t],c=[e];if(!o||!a)return t===n?-1:e===n?1:o?-1:a?1:A?ee.call(A,t)-ee.call(A,e):0;if(o===a)return s(t,e);for(r=t;r=r.parentNode;)u.unshift(r);for(r=e;r=r.parentNode;)c.unshift(r);for(;u[i]===c[i];)i++;return i?s(u[i],c[i]):u[i]===H?-1:c[i]===H?1:0},n):L},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==L&&R(t),n=n.replace(he,"='$1']"),!(!x.matchesSelector||!j||I&&I.test(n)||F&&F.test(n)))try{var r=D.call(t,n);if(r||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(i){}return e(n,L,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==L&&R(t),P(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==L&&R(t);var n=k.attrHandle[e.toLowerCase()],r=n&&J.call(k.attrHandle,e.toLowerCase())?n(t,e,!j):void 0;return void 0!==r?r:x.attributes||!j?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,i=0;if(O=!x.detectDuplicates,A=!x.sortStable&&t.slice(0),t.sort(z),O){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return A=null,t},E=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=E(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=E(e);return n},k=e.selectors={cacheLength:50,createPseudo:r,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(xe,ke),t[3]=(t[3]||t[4]||t[5]||"").replace(xe,ke),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return de.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&fe.test(n)&&(e=_(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(xe,ke).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=$[t+" "];return e||(e=new RegExp("(^|"+re+")"+t+"("+re+"|$)"))&&$(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==X&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var c,l,h,f,p,d,g=o!==s?"nextSibling":"previousSibling",v=e.parentNode,m=a&&e.nodeName.toLowerCase(),y=!u&&!a;if(v){if(o){for(;g;){for(h=e;h=h[g];)if(a?h.nodeName.toLowerCase()===m:1===h.nodeType)return!1;d=g="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?v.firstChild:v.lastChild],s&&y){for(l=v[q]||(v[q]={}),c=l[t]||[],p=c[0]===B&&c[1],f=c[0]===B&&c[2],h=p&&v.childNodes[p];h=++p&&h&&h[g]||(f=p=0)||d.pop();)if(1===h.nodeType&&++f&&h===e){l[t]=[B,p,f];break}}else if(y&&(c=(e[q]||(e[q]={}))[t])&&c[0]===B)f=c[1];else for(;(h=++p&&h&&h[g]||(f=p=0)||d.pop())&&((a?h.nodeName.toLowerCase()!==m:1!==h.nodeType)||!++f||(y&&((h[q]||(h[q]={}))[t]=[B,f]),h!==e)););return f-=i,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(t,n){var i,o=k.pseudos[t]||k.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[q]?o(n):o.length>1?(i=[t,t,"",n],k.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,i=o(t,n),s=i.length;s--;)r=ee.call(t,i[s]),t[r]=!(e[r]=i[s])}):function(t){return o(t,0,i)}):o}},pseudos:{not:r(function(t){var e=[],n=[],i=N(t.replace(ue,"$1"));return i[q]?r(function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return function(e){return(e.textContent||e.innerText||E(e)).indexOf(t)>-1}}),lang:r(function(t){return pe.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(xe,ke).toLowerCase(),function(e){var n;do if(n=j?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===M},focus:function(t){return t===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!k.pseudos.empty(t)},header:function(t){return ve.test(t.nodeName)},input:function(t){return ge.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[0>n?n+e:n]}),even:c(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var r=0>n?n+e:n;--r>=0;)t.push(r);return t}),gt:c(function(t,e,n){for(var r=0>n?n+e:n;++r<e;)t.push(r);return t})}},k.pseudos.nth=k.pseudos.eq;
for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[b]=a(b);for(b in{submit:!0,reset:!0})k.pseudos[b]=u(b);return h.prototype=k.filters=k.pseudos,k.setFilters=new h,_=e.tokenize=function(t,n){var r,i,o,s,a,u,c,l=U[t+" "];if(l)return n?0:l.slice(0);for(a=t,u=[],c=k.preFilter;a;){(!r||(i=ce.exec(a)))&&(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),r=!1,(i=le.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ue," ")}),a=a.slice(r.length));for(s in k.filter)!(i=de[s].exec(a))||c[s]&&!(i=c[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?e.error(t):U(t,u).slice(0)},N=e.compile=function(t,e){var n,r=[],i=[],o=V[t+" "];if(!o){for(e||(e=_(t)),n=e.length;n--;)o=y(e[n]),o[q]?r.push(o):i.push(o);o=V(t,w(i,r)),o.selector=t}return o},C=e.select=function(t,e,n,r){var i,o,s,a,u,c="function"==typeof t&&t,h=!r&&_(t=c.selector||t);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&x.getById&&9===e.nodeType&&j&&k.relative[o[1].type]){if(e=(k.find.ID(s.matches[0].replace(xe,ke),e)||[])[0],!e)return n;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=de.needsContext.test(t)?0:o.length;i--&&(s=o[i],!k.relative[a=s.type]);)if((u=k.find[a])&&(r=u(s.matches[0].replace(xe,ke),we.test(o[0].type)&&l(e.parentNode)||e))){if(o.splice(i,1),t=r.length&&f(o),!t)return Z.apply(n,r),n;break}}return(c||N(t,h))(r,e,!j,n,we.test(t)&&l(e.parentNode)||e),n},x.sortStable=q.split("").sort(z).join("")===q,x.detectDuplicates=!!O,R(),x.sortDetached=i(function(t){return 1&t.compareDocumentPosition(L.createElement("div"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||o(ne,function(t,e,n){var r;return n?void 0:t[e]===!0?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),e}(t);te.find=oe,te.expr=oe.selectors,te.expr[":"]=te.expr.pseudos,te.unique=oe.uniqueSort,te.text=oe.getText,te.isXMLDoc=oe.isXML,te.contains=oe.contains;var se=te.expr.match.needsContext,ae=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ue=/^.[^:#\[\.,]*$/;te.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?te.find.matchesSelector(r,t)?[r]:[]:te.find.matches(t,te.grep(e,function(t){return 1===t.nodeType}))},te.fn.extend({find:function(t){var e,n=this.length,r=[],i=this;if("string"!=typeof t)return this.pushStack(te(t).filter(function(){for(e=0;n>e;e++)if(te.contains(i[e],this))return!0}));for(e=0;n>e;e++)te.find(t,i[e],r);return r=this.pushStack(n>1?te.unique(r):r),r.selector=this.selector?this.selector+" "+t:t,r},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&se.test(t)?te(t):t||[],!1).length}});var ce,le=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,he=te.fn.init=function(t,e){var n,r;if(!t)return this;if("string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:le.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||ce).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof te?e[0]:e,te.merge(this,te.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:K,!0)),ae.test(n[1])&&te.isPlainObject(e))for(n in e)te.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return r=K.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=K,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):te.isFunction(t)?"undefined"!=typeof ce.ready?ce.ready(t):t(te):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),te.makeArray(t,this))};he.prototype=te.fn,ce=te(K);var fe=/^(?:parents|prev(?:Until|All))/,pe={children:!0,contents:!0,next:!0,prev:!0};te.extend({dir:function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&te(t).is(n))break;r.push(t)}return r},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),te.fn.extend({has:function(t){var e=te(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(te.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,r=0,i=this.length,o=[],s=se.test(t)||"string"!=typeof t?te(t,e||this.context):0;i>r;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&te.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?te.unique(o):o)},index:function(t){return t?"string"==typeof t?X.call(te(t),this[0]):X.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(te.unique(te.merge(this.get(),te(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),te.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return te.dir(t,"parentNode")},parentsUntil:function(t,e,n){return te.dir(t,"parentNode",n)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return te.dir(t,"nextSibling")},prevAll:function(t){return te.dir(t,"previousSibling")},nextUntil:function(t,e,n){return te.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return te.dir(t,"previousSibling",n)},siblings:function(t){return te.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return te.sibling(t.firstChild)},contents:function(t){return t.contentDocument||te.merge([],t.childNodes)}},function(t,e){te.fn[t]=function(n,r){var i=te.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=te.filter(r,i)),this.length>1&&(pe[t]||te.unique(i),fe.test(t)&&i.reverse()),this.pushStack(i)}});var de=/\S+/g,ge={};te.Callbacks=function(t){t="string"==typeof t?ge[t]||s(t):te.extend({},t);var e,n,r,i,o,a,u=[],c=!t.once&&[],l=function(s){for(e=t.memory&&s,n=!0,a=i||0,i=0,o=u.length,r=!0;u&&o>a;a++)if(u[a].apply(s[0],s[1])===!1&&t.stopOnFalse){e=!1;break}r=!1,u&&(c?c.length&&l(c.shift()):e?u=[]:h.disable())},h={add:function(){if(u){var n=u.length;!function s(e){te.each(e,function(e,n){var r=te.type(n);"function"===r?t.unique&&h.has(n)||u.push(n):n&&n.length&&"string"!==r&&s(n)})}(arguments),r?o=u.length:e&&(i=n,l(e))}return this},remove:function(){return u&&te.each(arguments,function(t,e){for(var n;(n=te.inArray(e,u,n))>-1;)u.splice(n,1),r&&(o>=n&&o--,a>=n&&a--)}),this},has:function(t){return t?te.inArray(t,u)>-1:!(!u||!u.length)},empty:function(){return u=[],o=0,this},disable:function(){return u=c=e=void 0,this},disabled:function(){return!u},lock:function(){return c=void 0,e||h.disable(),this},locked:function(){return!c},fireWith:function(t,e){return!u||n&&!c||(e=e||[],e=[t,e.slice?e.slice():e],r?c.push(e):l(e)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},te.extend({Deferred:function(t){var e=[["resolve","done",te.Callbacks("once memory"),"resolved"],["reject","fail",te.Callbacks("once memory"),"rejected"],["notify","progress",te.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var t=arguments;return te.Deferred(function(n){te.each(e,function(e,o){var s=te.isFunction(t[e])&&t[e];i[o[1]](function(){var t=s&&s.apply(this,arguments);t&&te.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?te.extend(t,r):r}},i={};return r.pipe=r.then,te.each(e,function(t,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),t&&t.call(i,i),i},when:function(t){var e,n,r,i=0,o=U.call(arguments),s=o.length,a=1!==s||t&&te.isFunction(t.promise)?s:0,u=1===a?t:te.Deferred(),c=function(t,n,r){return function(i){n[t]=this,r[t]=arguments.length>1?U.call(arguments):i,r===e?u.notifyWith(n,r):--a||u.resolveWith(n,r)}};if(s>1)for(e=new Array(s),n=new Array(s),r=new Array(s);s>i;i++)o[i]&&te.isFunction(o[i].promise)?o[i].promise().done(c(i,r,o)).fail(u.reject).progress(c(i,n,e)):--a;return a||u.resolveWith(r,o),u.promise()}});var ve;te.fn.ready=function(t){return te.ready.promise().done(t),this},te.extend({isReady:!1,readyWait:1,holdReady:function(t){t?te.readyWait++:te.ready(!0)},ready:function(t){(t===!0?--te.readyWait:te.isReady)||(te.isReady=!0,t!==!0&&--te.readyWait>0||(ve.resolveWith(K,[te]),te.fn.triggerHandler&&(te(K).triggerHandler("ready"),te(K).off("ready"))))}}),te.ready.promise=function(e){return ve||(ve=te.Deferred(),"complete"===K.readyState?setTimeout(te.ready):(K.addEventListener("DOMContentLoaded",a,!1),t.addEventListener("load",a,!1))),ve.promise(e)},te.ready.promise();var me=te.access=function(t,e,n,r,i,o,s){var a=0,u=t.length,c=null==n;if("object"===te.type(n)){i=!0;for(a in n)te.access(t,e,a,n[a],!0,o,s)}else if(void 0!==r&&(i=!0,te.isFunction(r)||(s=!0),c&&(s?(e.call(t,r),e=null):(c=e,e=function(t,e,n){return c.call(te(t),n)})),e))for(;u>a;a++)e(t[a],n,s?r:r.call(t[a],a,e(t[a],n)));return i?t:c?e.call(t):u?e(t[0],n):o};te.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},u.uid=1,u.accepts=te.acceptData,u.prototype={key:function(t){if(!u.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=u.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(r){e[this.expando]=n,te.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var r,i=this.key(t),o=this.cache[i];if("string"==typeof e)o[e]=n;else if(te.isEmptyObject(o))te.extend(this.cache[i],e);else for(r in e)o[r]=e[r];return o},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var r;return void 0===e||e&&"string"==typeof e&&void 0===n?(r=this.get(t,e),void 0!==r?r:this.get(t,te.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r,i,o=this.key(t),s=this.cache[o];if(void 0===e)this.cache[o]={};else{te.isArray(e)?r=e.concat(e.map(te.camelCase)):(i=te.camelCase(e),e in s?r=[e,i]:(r=i,r=r in s?[r]:r.match(de)||[])),n=r.length;for(;n--;)delete s[r[n]]}},hasData:function(t){return!te.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var ye=new u,we=new u,be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,xe=/([A-Z])/g;te.extend({hasData:function(t){return we.hasData(t)||ye.hasData(t)},data:function(t,e,n){return we.access(t,e,n)},removeData:function(t,e){we.remove(t,e)},_data:function(t,e,n){return ye.access(t,e,n)},_removeData:function(t,e){ye.remove(t,e)}}),te.fn.extend({data:function(t,e){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(i=we.get(o),1===o.nodeType&&!ye.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(r=s[n].name,0===r.indexOf("data-")&&(r=te.camelCase(r.slice(5)),c(o,r,i[r])));ye.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){we.set(this,t)}):me(this,function(e){var n,r=te.camelCase(t);if(o&&void 0===e){if(n=we.get(o,t),void 0!==n)return n;if(n=we.get(o,r),void 0!==n)return n;if(n=c(o,r,void 0),void 0!==n)return n}else this.each(function(){var n=we.get(this,r);we.set(this,r,e),-1!==t.indexOf("-")&&void 0!==n&&we.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){we.remove(this,t)})}}),te.extend({queue:function(t,e,n){var r;return t?(e=(e||"fx")+"queue",r=ye.get(t,e),n&&(!r||te.isArray(n)?r=ye.access(t,e,te.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=te.queue(t,e),r=n.length,i=n.shift(),o=te._queueHooks(t,e),s=function(){te.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ye.get(t,n)||ye.access(t,n,{empty:te.Callbacks("once memory").add(function(){ye.remove(t,[e+"queue",n])})})}}),te.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?te.queue(this[0],t):void 0===e?this:this.each(function(){var n=te.queue(this,t,e);te._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&te.dequeue(this,t)})},dequeue:function(t){return this.each(function(){te.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=te.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)n=ye.get(o[s],t+"queueHooks"),n&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(e)}});var ke=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ee=["Top","Right","Bottom","Left"],Te=function(t,e){return t=e||t,"none"===te.css(t,"display")||!te.contains(t.ownerDocument,t)},_e=/^(?:checkbox|radio)$/i;!function(){var t=K.createDocumentFragment(),e=t.appendChild(K.createElement("div")),n=K.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),Y.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",Y.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Ne="undefined";Y.focusinBubbles="onfocusin"in t;var Ce=/^key/,Se=/^(?:mouse|pointer|contextmenu)|click/,Ae=/^(?:focusinfocus|focusoutblur)$/,Oe=/^([^.]*)(?:\.(.+)|)$/;te.event={global:{},add:function(t,e,n,r,i){var o,s,a,u,c,l,h,f,p,d,g,v=ye.get(t);if(v)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=te.guid++),(u=v.events)||(u=v.events={}),(s=v.handle)||(s=v.handle=function(e){return typeof te!==Ne&&te.event.triggered!==e.type?te.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(de)||[""],c=e.length;c--;)a=Oe.exec(e[c])||[],p=g=a[1],d=(a[2]||"").split(".").sort(),p&&(h=te.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,h=te.event.special[p]||{},l=te.extend({type:p,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&te.expr.match.needsContext.test(i),namespace:d.join(".")},o),(f=u[p])||(f=u[p]=[],f.delegateCount=0,h.setup&&h.setup.call(t,r,d,s)!==!1||t.addEventListener&&t.addEventListener(p,s,!1)),h.add&&(h.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,l):f.push(l),te.event.global[p]=!0)},remove:function(t,e,n,r,i){var o,s,a,u,c,l,h,f,p,d,g,v=ye.hasData(t)&&ye.get(t);if(v&&(u=v.events)){for(e=(e||"").match(de)||[""],c=e.length;c--;)if(a=Oe.exec(e[c])||[],p=g=a[1],d=(a[2]||"").split(".").sort(),p){for(h=te.event.special[p]||{},p=(r?h.delegateType:h.bindType)||p,f=u[p]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)l=f[o],!i&&g!==l.origType||n&&n.guid!==l.guid||a&&!a.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(f.splice(o,1),l.selector&&f.delegateCount--,h.remove&&h.remove.call(t,l));s&&!f.length&&(h.teardown&&h.teardown.call(t,d,v.handle)!==!1||te.removeEvent(t,p,v.handle),delete u[p])}else for(p in u)te.event.remove(t,p+e[c],n,r,!0);te.isEmptyObject(u)&&(delete v.handle,ye.remove(t,"events"))}},trigger:function(e,n,r,i){var o,s,a,u,c,l,h,f=[r||K],p=G.call(e,"type")?e.type:e,d=G.call(e,"namespace")?e.namespace.split("."):[];if(s=a=r=r||K,3!==r.nodeType&&8!==r.nodeType&&!Ae.test(p+te.event.triggered)&&(p.indexOf(".")>=0&&(d=p.split("."),p=d.shift(),d.sort()),c=p.indexOf(":")<0&&"on"+p,e=e[te.expando]?e:new te.Event(p,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=d.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:te.makeArray(n,[e]),h=te.event.special[p]||{},i||!h.trigger||h.trigger.apply(r,n)!==!1)){if(!i&&!h.noBubble&&!te.isWindow(r)){for(u=h.delegateType||p,Ae.test(u+p)||(s=s.parentNode);s;s=s.parentNode)f.push(s),a=s;a===(r.ownerDocument||K)&&f.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=f[o++])&&!e.isPropagationStopped();)e.type=o>1?u:h.bindType||p,l=(ye.get(s,"events")||{})[e.type]&&ye.get(s,"handle"),l&&l.apply(s,n),l=c&&s[c],l&&l.apply&&te.acceptData(s)&&(e.result=l.apply(s,n),e.result===!1&&e.preventDefault());return e.type=p,i||e.isDefaultPrevented()||h._default&&h._default.apply(f.pop(),n)!==!1||!te.acceptData(r)||c&&te.isFunction(r[p])&&!te.isWindow(r)&&(a=r[c],a&&(r[c]=null),te.event.triggered=p,r[p](),te.event.triggered=void 0,a&&(r[c]=a)),e.result}},dispatch:function(t){t=te.event.fix(t);var e,n,r,i,o,s=[],a=U.call(arguments),u=(ye.get(this,"events")||{})[t.type]||[],c=te.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,t)!==!1){for(s=te.event.handlers.call(this,t,u),e=0;(i=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(o.namespace))&&(t.handleObj=o,t.data=o.data,r=((te.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a),void 0!==r&&(t.result=r)===!1&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,r,i,o,s=[],a=e.delegateCount,u=t.target;if(a&&u.nodeType&&(!t.button||"click"!==t.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==t.type){for(r=[],n=0;a>n;n++)o=e[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?te(i,this).index(u)>=0:te.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&s.push({elem:u,handlers:r})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,r,i,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||K,r=n.documentElement,i=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[te.expando])return t;var e,n,r,i=t.type,o=t,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=Se.test(i)?this.mouseHooks:Ce.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,t=new te.Event(o),e=r.length;e--;)n=r[e],t[n]=o[n];return t.target||(t.target=K),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==f()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&te.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return te.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,r){var i=te.extend(new te.Event,n,{type:t,isSimulated:!0,originalEvent:{}});r?te.event.trigger(i,null,e):te.event.dispatch.call(e,i),i.isDefaultPrevented()&&n.preventDefault()}},te.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},te.Event=function(t,e){return this instanceof te.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?l:h):this.type=t,e&&te.extend(this,e),this.timeStamp=t&&t.timeStamp||te.now(),void(this[te.expando]=!0)):new te.Event(t,e)},te.Event.prototype={isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=l,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=l,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=l,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},te.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){te.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return(!i||i!==r&&!te.contains(r,i))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),Y.focusinBubbles||te.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){te.event.simulate(e,t.target,te.event.fix(t),!0)};te.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=ye.access(r,e);i||r.addEventListener(t,n,!0),ye.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ye.access(r,e)-1;i?ye.access(r,e,i):(r.removeEventListener(t,n,!0),ye.remove(r,e))}}}),te.fn.extend({on:function(t,e,n,r,i){var o,s;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(s in t)this.on(s,e,n,t[s],i);return this}if(null==n&&null==r?(r=e,n=e=void 0):null==r&&("string"==typeof e?(r=n,n=void 0):(r=n,n=e,e=void 0)),r===!1)r=h;else if(!r)return this;return 1===i&&(o=r,r=function(t){return te().off(t),o.apply(this,arguments)},r.guid=o.guid||(o.guid=te.guid++)),this.each(function(){te.event.add(this,t,r,n,e)})},one:function(t,e,n,r){return this.on(t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,te(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=h),this.each(function(){te.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){te.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?te.event.trigger(t,e,n,!0):void 0}});var Re=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Le=/<([\w:]+)/,Me=/<|&#?\w+;/,je=/<(?:script|style|link)/i,Fe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ie=/^$|\/(?:java|ecma)script/i,De=/^true\/(.*)/,Pe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,qe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};qe.optgroup=qe.option,qe.tbody=qe.tfoot=qe.colgroup=qe.caption=qe.thead,qe.th=qe.td,te.extend({clone:function(t,e,n){var r,i,o,s,a=t.cloneNode(!0),u=te.contains(t.ownerDocument,t);if(!(Y.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||te.isXMLDoc(t)))for(s=y(a),o=y(t),r=0,i=o.length;i>r;r++)w(o[r],s[r]);if(e)if(n)for(o=o||y(t),s=s||y(a),r=0,i=o.length;i>r;r++)m(o[r],s[r]);else m(t,a);return s=y(a,"script"),s.length>0&&v(s,!u&&y(t,"script")),a},buildFragment:function(t,e,n,r){for(var i,o,s,a,u,c,l=e.createDocumentFragment(),h=[],f=0,p=t.length;p>f;f++)if(i=t[f],i||0===i)if("object"===te.type(i))te.merge(h,i.nodeType?[i]:i);else if(Me.test(i)){for(o=o||l.appendChild(e.createElement("div")),s=(Le.exec(i)||["",""])[1].toLowerCase(),a=qe[s]||qe._default,o.innerHTML=a[1]+i.replace(Re,"<$1></$2>")+a[2],c=a[0];c--;)o=o.lastChild;te.merge(h,o.childNodes),o=l.firstChild,o.textContent=""}else h.push(e.createTextNode(i));for(l.textContent="",f=0;i=h[f++];)if((!r||-1===te.inArray(i,r))&&(u=te.contains(i.ownerDocument,i),o=y(l.appendChild(i),"script"),u&&v(o),n))for(c=0;i=o[c++];)Ie.test(i.type||"")&&n.push(i);return l},cleanData:function(t){for(var e,n,r,i,o=te.event.special,s=0;void 0!==(n=t[s]);s++){if(te.acceptData(n)&&(i=n[ye.expando],i&&(e=ye.cache[i]))){if(e.events)for(r in e.events)o[r]?te.event.remove(n,r):te.removeEvent(n,r,e.handle);ye.cache[i]&&delete ye.cache[i]}delete we.cache[n[we.expando]]}}}),te.fn.extend({text:function(t){return me(this,function(t){return void 0===t?te.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=p(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=p(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,r=t?te.filter(t,this):this,i=0;null!=(n=r[i]);i++)e||1!==n.nodeType||te.cleanData(y(n)),n.parentNode&&(e&&te.contains(n.ownerDocument,n)&&v(y(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(te.cleanData(y(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return te.clone(this,t,e)})},html:function(t){return me(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!je.test(t)&&!qe[(Le.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Re,"<$1></$2>");try{for(;r>n;n++)e=this[n]||{},1===e.nodeType&&(te.cleanData(y(e,!1)),e.innerHTML=t);e=0}catch(i){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,te.cleanData(y(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=V.apply([],t);var n,r,i,o,s,a,u=0,c=this.length,l=this,h=c-1,f=t[0],p=te.isFunction(f);if(p||c>1&&"string"==typeof f&&!Y.checkClone&&Fe.test(f))return this.each(function(n){var r=l.eq(n);p&&(t[0]=f.call(this,n,r.html())),r.domManip(t,e)});if(c&&(n=te.buildFragment(t,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(i=te.map(y(n,"script"),d),o=i.length;c>u;u++)s=n,u!==h&&(s=te.clone(s,!0,!0),o&&te.merge(i,y(s,"script"))),e.call(this[u],s,u);if(o)for(a=i[i.length-1].ownerDocument,te.map(i,g),u=0;o>u;u++)s=i[u],Ie.test(s.type||"")&&!ye.access(s,"globalEval")&&te.contains(a,s)&&(s.src?te._evalUrl&&te._evalUrl(s.src):te.globalEval(s.textContent.replace(Pe,"")))}return this}}),te.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){te.fn[t]=function(t){for(var n,r=[],i=te(t),o=i.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),te(i[s])[e](n),z.apply(r,n.get());return this.pushStack(r)}});var He,Be={},We=/^margin/,$e=new RegExp("^("+ke+")(?!px)[a-z%]+$","i"),Ue=function(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)};!function(){function e(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",i.appendChild(o);var e=t.getComputedStyle(s,null);n="1%"!==e.top,r="4px"===e.width,i.removeChild(o)}var n,r,i=K.documentElement,o=K.createElement("div"),s=K.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",Y.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(s),t.getComputedStyle&&te.extend(Y,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==r&&e(),r},reliableMarginRight:function(){var e,n=s.appendChild(K.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",i.appendChild(o),e=!parseFloat(t.getComputedStyle(n,null).marginRight),i.removeChild(o),e}}))}(),te.swap=function(t,e,n,r){var i,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];i=n.apply(t,r||[]);for(o in e)t.style[o]=s[o];return i};var Ve=/^(none|table(?!-c[ea]).+)/,ze=new RegExp("^("+ke+")(.*)$","i"),Xe=new RegExp("^([+-])=("+ke+")","i"),Qe={position:"absolute",visibility:"hidden",display:"block"},Je={letterSpacing:"0",fontWeight:"400"},Ge=["Webkit","O","Moz","ms"];te.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=k(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,s,a=te.camelCase(e),u=t.style;return e=te.cssProps[a]||(te.cssProps[a]=T(u,a)),s=te.cssHooks[e]||te.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(i=s.get(t,!1,r))?i:u[e]:(o=typeof n,"string"===o&&(i=Xe.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(te.css(t,e)),o="number"),null!=n&&n===n&&("number"!==o||te.cssNumber[a]||(n+="px"),Y.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,r))||(u[e]=n)),void 0)}},css:function(t,e,n,r){var i,o,s,a=te.camelCase(e);return e=te.cssProps[a]||(te.cssProps[a]=T(t.style,a)),s=te.cssHooks[e]||te.cssHooks[a],s&&"get"in s&&(i=s.get(t,!0,n)),void 0===i&&(i=k(t,e,r)),"normal"===i&&e in Je&&(i=Je[e]),""===n||n?(o=parseFloat(i),n===!0||te.isNumeric(o)?o||0:i):i}}),te.each(["height","width"],function(t,e){te.cssHooks[e]={get:function(t,n,r){return n?Ve.test(te.css(t,"display"))&&0===t.offsetWidth?te.swap(t,Qe,function(){return C(t,e,r)}):C(t,e,r):void 0},set:function(t,n,r){var i=r&&Ue(t);return _(t,n,r?N(t,e,r,"border-box"===te.css(t,"boxSizing",!1,i),i):0)}}}),te.cssHooks.marginRight=E(Y.reliableMarginRight,function(t,e){return e?te.swap(t,{display:"inline-block"},k,[t,"marginRight"]):void 0}),te.each({margin:"",padding:"",border:"Width"},function(t,e){te.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[t+Ee[r]+e]=o[r]||o[r-2]||o[0];return i}},We.test(t)||(te.cssHooks[t+e].set=_)}),te.fn.extend({css:function(t,e){return me(this,function(t,e,n){var r,i,o={},s=0;if(te.isArray(e)){for(r=Ue(t),i=e.length;i>s;s++)o[e[s]]=te.css(t,e[s],!1,r);return o}return void 0!==n?te.style(t,e,n):te.css(t,e)},t,e,arguments.length>1)},show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Te(this)?te(this).show():te(this).hide()})}}),te.Tween=A,A.prototype={constructor:A,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||"swing",this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(te.cssNumber[n]?"":"px")},cur:function(){var t=A.propHooks[this.prop];return t&&t.get?t.get(this):A.propHooks._default.get(this)},run:function(t){var e,n=A.propHooks[this.prop];return this.pos=e=this.options.duration?te.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):A.propHooks._default.set(this),this
}},A.prototype.init.prototype=A.prototype,A.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=te.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){te.fx.step[t.prop]?te.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[te.cssProps[t.prop]]||te.cssHooks[t.prop])?te.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},A.propHooks.scrollTop=A.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},te.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},te.fx=A.prototype.init,te.fx.step={};var Ye,Ke,Ze=/^(?:toggle|show|hide)$/,tn=new RegExp("^(?:([+-])=|)("+ke+")([a-z%]*)$","i"),en=/queueHooks$/,nn=[M],rn={"*":[function(t,e){var n=this.createTween(t,e),r=n.cur(),i=tn.exec(e),o=i&&i[3]||(te.cssNumber[t]?"":"px"),s=(te.cssNumber[t]||"px"!==o&&+r)&&tn.exec(te.css(n.elem,t)),a=1,u=20;if(s&&s[3]!==o){o=o||s[3],i=i||[],s=+r||1;do a=a||".5",s/=a,te.style(n.elem,t,s+o);while(a!==(a=n.cur()/r)&&1!==a&&--u)}return i&&(s=n.start=+s||+r||0,n.unit=o,n.end=i[1]?s+(i[1]+1)*i[2]:+i[2]),n}]};te.Animation=te.extend(F,{tweener:function(t,e){te.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,r=0,i=t.length;i>r;r++)n=t[r],rn[n]=rn[n]||[],rn[n].unshift(e)},prefilter:function(t,e){e?nn.unshift(t):nn.push(t)}}),te.speed=function(t,e,n){var r=t&&"object"==typeof t?te.extend({},t):{complete:n||!n&&e||te.isFunction(t)&&t,duration:t,easing:n&&e||e&&!te.isFunction(e)&&e};return r.duration=te.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in te.fx.speeds?te.fx.speeds[r.duration]:te.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){te.isFunction(r.old)&&r.old.call(this),r.queue&&te.dequeue(this,r.queue)},r},te.fn.extend({fadeTo:function(t,e,n,r){return this.filter(Te).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=te.isEmptyObject(t),o=te.speed(e,n,r),s=function(){var e=F(this,te.extend({},t),o);(i||ye.get(this,"finish"))&&e.stop(!0)};return s.finish=s,i||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=te.timers,s=ye.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&en.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));(e||!n)&&te.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=ye.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=te.timers,s=r?r.length:0;for(n.finish=!0,te.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),te.each(["toggle","show","hide"],function(t,e){var n=te.fn[e];te.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(R(e,!0),t,r,i)}}),te.each({slideDown:R("show"),slideUp:R("hide"),slideToggle:R("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){te.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),te.timers=[],te.fx.tick=function(){var t,e=0,n=te.timers;for(Ye=te.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||te.fx.stop(),Ye=void 0},te.fx.timer=function(t){te.timers.push(t),t()?te.fx.start():te.timers.pop()},te.fx.interval=13,te.fx.start=function(){Ke||(Ke=setInterval(te.fx.tick,te.fx.interval))},te.fx.stop=function(){clearInterval(Ke),Ke=null},te.fx.speeds={slow:600,fast:200,_default:400},te.fn.delay=function(t,e){return t=te.fx?te.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var r=setTimeout(e,t);n.stop=function(){clearTimeout(r)}})},function(){var t=K.createElement("input"),e=K.createElement("select"),n=e.appendChild(K.createElement("option"));t.type="checkbox",Y.checkOn=""!==t.value,Y.optSelected=n.selected,e.disabled=!0,Y.optDisabled=!n.disabled,t=K.createElement("input"),t.value="t",t.type="radio",Y.radioValue="t"===t.value}();var on,sn,an=te.expr.attrHandle;te.fn.extend({attr:function(t,e){return me(this,te.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){te.removeAttr(this,t)})}}),te.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===Ne?te.prop(t,e,n):(1===o&&te.isXMLDoc(t)||(e=e.toLowerCase(),r=te.attrHooks[e]||(te.expr.match.bool.test(e)?sn:on)),void 0===n?r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=te.find.attr(t,e),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):void te.removeAttr(t,e))},removeAttr:function(t,e){var n,r,i=0,o=e&&e.match(de);if(o&&1===t.nodeType)for(;n=o[i++];)r=te.propFix[n]||n,te.expr.match.bool.test(n)&&(t[r]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!Y.radioValue&&"radio"===e&&te.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),sn={set:function(t,e,n){return e===!1?te.removeAttr(t,n):t.setAttribute(n,n),n}},te.each(te.expr.match.bool.source.match(/\w+/g),function(t,e){var n=an[e]||te.find.attr;an[e]=function(t,e,r){var i,o;return r||(o=an[e],an[e]=i,i=null!=n(t,e,r)?e.toLowerCase():null,an[e]=o),i}});var un=/^(?:input|select|textarea|button)$/i;te.fn.extend({prop:function(t,e){return me(this,te.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[te.propFix[t]||t]})}}),te.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var r,i,o,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return o=1!==s||!te.isXMLDoc(t),o&&(e=te.propFix[e]||e,i=te.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||un.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),Y.optSelected||(te.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),te.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){te.propFix[this.toLowerCase()]=this});var cn=/[\t\r\n\f]/g;te.fn.extend({addClass:function(t){var e,n,r,i,o,s,a="string"==typeof t&&t,u=0,c=this.length;if(te.isFunction(t))return this.each(function(e){te(this).addClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(de)||[];c>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(cn," "):" ")){for(o=0;i=e[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");s=te.trim(r),n.className!==s&&(n.className=s)}return this},removeClass:function(t){var e,n,r,i,o,s,a=0===arguments.length||"string"==typeof t&&t,u=0,c=this.length;if(te.isFunction(t))return this.each(function(e){te(this).removeClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(de)||[];c>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(cn," "):"")){for(o=0;i=e[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");s=t?te.trim(r):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(te.isFunction(t)?function(n){te(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"===n)for(var e,r=0,i=te(this),o=t.match(de)||[];e=o[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else(n===Ne||"boolean"===n)&&(this.className&&ye.set(this,"__className__",this.className),this.className=this.className||t===!1?"":ye.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(cn," ").indexOf(e)>=0)return!0;return!1}});var ln=/\r/g;te.fn.extend({val:function(t){var e,n,r,i=this[0];{if(arguments.length)return r=te.isFunction(t),this.each(function(n){var i;1===this.nodeType&&(i=r?t.call(this,n,te(this).val()):t,null==i?i="":"number"==typeof i?i+="":te.isArray(i)&&(i=te.map(i,function(t){return null==t?"":t+""})),e=te.valHooks[this.type]||te.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))});if(i)return e=te.valHooks[i.type]||te.valHooks[i.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(ln,""):null==n?"":n)}}}),te.extend({valHooks:{option:{get:function(t){var e=te.find.attr(t,"value");return null!=e?e:te.trim(te.text(t))}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,o="select-one"===t.type||0>i,s=o?null:[],a=o?i+1:r.length,u=0>i?a:o?i:0;a>u;u++)if(n=r[u],!(!n.selected&&u!==i||(Y.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&te.nodeName(n.parentNode,"optgroup"))){if(e=te(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,r,i=t.options,o=te.makeArray(e),s=i.length;s--;)r=i[s],(r.selected=te.inArray(r.value,o)>=0)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),te.each(["radio","checkbox"],function(){te.valHooks[this]={set:function(t,e){return te.isArray(e)?t.checked=te.inArray(te(t).val(),e)>=0:void 0}},Y.checkOn||(te.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),te.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){te.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),te.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var hn=te.now(),fn=/\?/;te.parseJSON=function(t){return JSON.parse(t+"")},te.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{n=new DOMParser,e=n.parseFromString(t,"text/xml")}catch(r){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&te.error("Invalid XML: "+t),e};var pn,dn,gn=/#.*$/,vn=/([?&])_=[^&]*/,mn=/^(.*?):[ \t]*([^\r\n]*)$/gm,yn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,wn=/^(?:GET|HEAD)$/,bn=/^\/\//,xn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,kn={},En={},Tn="*/".concat("*");try{dn=location.href}catch(_n){dn=K.createElement("a"),dn.href="",dn=dn.href}pn=xn.exec(dn.toLowerCase())||[],te.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:dn,type:"GET",isLocal:yn.test(pn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Tn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":te.parseJSON,"text xml":te.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?P(P(t,te.ajaxSettings),e):P(te.ajaxSettings,t)},ajaxPrefilter:I(kn),ajaxTransport:I(En),ajax:function(t,e){function n(t,e,n,s){var u,l,m,y,b,k=e;2!==w&&(w=2,a&&clearTimeout(a),r=void 0,o=s||"",x.readyState=t>0?4:0,u=t>=200&&300>t||304===t,n&&(y=q(h,x,n)),y=H(h,y,x,u),u?(h.ifModified&&(b=x.getResponseHeader("Last-Modified"),b&&(te.lastModified[i]=b),b=x.getResponseHeader("etag"),b&&(te.etag[i]=b)),204===t||"HEAD"===h.type?k="nocontent":304===t?k="notmodified":(k=y.state,l=y.data,m=y.error,u=!m)):(m=k,(t||!k)&&(k="error",0>t&&(t=0))),x.status=t,x.statusText=(e||k)+"",u?d.resolveWith(f,[l,k,x]):d.rejectWith(f,[x,k,m]),x.statusCode(v),v=void 0,c&&p.trigger(u?"ajaxSuccess":"ajaxError",[x,h,u?l:m]),g.fireWith(f,[x,k]),c&&(p.trigger("ajaxComplete",[x,h]),--te.active||te.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,i,o,s,a,u,c,l,h=te.ajaxSetup({},e),f=h.context||h,p=h.context&&(f.nodeType||f.jquery)?te(f):te.event,d=te.Deferred(),g=te.Callbacks("once memory"),v=h.statusCode||{},m={},y={},w=0,b="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!s)for(s={};e=mn.exec(o);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?o:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return w||(t=y[n]=y[n]||t,m[t]=e),this},overrideMimeType:function(t){return w||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>w)for(e in t)v[e]=[v[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||b;return r&&r.abort(e),n(0,e),this}};if(d.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,h.url=((t||h.url||dn)+"").replace(gn,"").replace(bn,pn[1]+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=te.trim(h.dataType||"*").toLowerCase().match(de)||[""],null==h.crossDomain&&(u=xn.exec(h.url.toLowerCase()),h.crossDomain=!(!u||u[1]===pn[1]&&u[2]===pn[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(pn[3]||("http:"===pn[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=te.param(h.data,h.traditional)),D(kn,h,e,x),2===w)return x;c=h.global,c&&0===te.active++&&te.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!wn.test(h.type),i=h.url,h.hasContent||(h.data&&(i=h.url+=(fn.test(i)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=vn.test(i)?i.replace(vn,"$1_="+hn++):i+(fn.test(i)?"&":"?")+"_="+hn++)),h.ifModified&&(te.lastModified[i]&&x.setRequestHeader("If-Modified-Since",te.lastModified[i]),te.etag[i]&&x.setRequestHeader("If-None-Match",te.etag[i])),(h.data&&h.hasContent&&h.contentType!==!1||e.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Tn+"; q=0.01":""):h.accepts["*"]);for(l in h.headers)x.setRequestHeader(l,h.headers[l]);if(h.beforeSend&&(h.beforeSend.call(f,x,h)===!1||2===w))return x.abort();b="abort";for(l in{success:1,error:1,complete:1})x[l](h[l]);if(r=D(En,h,e,x)){x.readyState=1,c&&p.trigger("ajaxSend",[x,h]),h.async&&h.timeout>0&&(a=setTimeout(function(){x.abort("timeout")},h.timeout));try{w=1,r.send(m,n)}catch(k){if(!(2>w))throw k;n(-1,k)}}else n(-1,"No Transport");return x},getJSON:function(t,e,n){return te.get(t,e,n,"json")},getScript:function(t,e){return te.get(t,void 0,e,"script")}}),te.each(["get","post"],function(t,e){te[e]=function(t,n,r,i){return te.isFunction(n)&&(i=i||r,r=n,n=void 0),te.ajax({url:t,type:e,dataType:i,data:n,success:r})}}),te.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){te.fn[e]=function(t){return this.on(e,t)}}),te._evalUrl=function(t){return te.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},te.fn.extend({wrapAll:function(t){var e;return te.isFunction(t)?this.each(function(e){te(this).wrapAll(t.call(this,e))}):(this[0]&&(e=te(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return this.each(te.isFunction(t)?function(e){te(this).wrapInner(t.call(this,e))}:function(){var e=te(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=te.isFunction(t);return this.each(function(n){te(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){te.nodeName(this,"body")||te(this).replaceWith(this.childNodes)}).end()}}),te.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},te.expr.filters.visible=function(t){return!te.expr.filters.hidden(t)};var Nn=/%20/g,Cn=/\[\]$/,Sn=/\r?\n/g,An=/^(?:submit|button|image|reset|file)$/i,On=/^(?:input|select|textarea|keygen)/i;te.param=function(t,e){var n,r=[],i=function(t,e){e=te.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=te.ajaxSettings&&te.ajaxSettings.traditional),te.isArray(t)||t.jquery&&!te.isPlainObject(t))te.each(t,function(){i(this.name,this.value)});else for(n in t)B(n,t[n],e,i);return r.join("&").replace(Nn,"+")},te.fn.extend({serialize:function(){return te.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=te.prop(this,"elements");return t?te.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!te(this).is(":disabled")&&On.test(this.nodeName)&&!An.test(t)&&(this.checked||!_e.test(t))}).map(function(t,e){var n=te(this).val();return null==n?null:te.isArray(n)?te.map(n,function(t){return{name:e.name,value:t.replace(Sn,"\r\n")}}):{name:e.name,value:n.replace(Sn,"\r\n")}}).get()}}),te.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var Rn=0,Ln={},Mn={0:200,1223:204},jn=te.ajaxSettings.xhr();t.ActiveXObject&&te(t).on("unload",function(){for(var t in Ln)Ln[t]()}),Y.cors=!!jn&&"withCredentials"in jn,Y.ajax=jn=!!jn,te.ajaxTransport(function(t){var e;return Y.cors||jn&&!t.crossDomain?{send:function(n,r){var i,o=t.xhr(),s=++Rn;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(i in t.xhrFields)o[i]=t.xhrFields[i];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)o.setRequestHeader(i,n[i]);e=function(t){return function(){e&&(delete Ln[s],e=o.onload=o.onerror=null,"abort"===t?o.abort():"error"===t?r(o.status,o.statusText):r(Mn[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=e(),o.onerror=e("error"),e=Ln[s]=e("abort");try{o.send(t.hasContent&&t.data||null)}catch(a){if(e)throw a}},abort:function(){e&&e()}}:void 0}),te.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return te.globalEval(t),t}}}),te.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),te.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,i){e=te("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),K.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Fn=[],In=/(=)\?(?=&|$)|\?\?/;te.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Fn.pop()||te.expando+"_"+hn++;return this[t]=!0,t}}),te.ajaxPrefilter("json jsonp",function(e,n,r){var i,o,s,a=e.jsonp!==!1&&(In.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&In.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(i=e.jsonpCallback=te.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(In,"$1"+i):e.jsonp!==!1&&(e.url+=(fn.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return s||te.error(i+" was not called"),s[0]},e.dataTypes[0]="json",o=t[i],t[i]=function(){s=arguments},r.always(function(){t[i]=o,e[i]&&(e.jsonpCallback=n.jsonpCallback,Fn.push(i)),s&&te.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),te.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||K;var r=ae.exec(t),i=!n&&[];return r?[e.createElement(r[1])]:(r=te.buildFragment([t],e,i),i&&i.length&&te(i).remove(),te.merge([],r.childNodes))};var Dn=te.fn.load;te.fn.load=function(t,e,n){if("string"!=typeof t&&Dn)return Dn.apply(this,arguments);var r,i,o,s=this,a=t.indexOf(" ");return a>=0&&(r=te.trim(t.slice(a)),t=t.slice(0,a)),te.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),s.length>0&&te.ajax({url:t,type:i,dataType:"html",data:e}).done(function(t){o=arguments,s.html(r?te("<div>").append(te.parseHTML(t)).find(r):t)}).complete(n&&function(t,e){s.each(n,o||[t.responseText,e,t])}),this},te.expr.filters.animated=function(t){return te.grep(te.timers,function(e){return t===e.elem}).length};var Pn=t.document.documentElement;te.offset={setOffset:function(t,e,n){var r,i,o,s,a,u,c,l=te.css(t,"position"),h=te(t),f={};"static"===l&&(t.style.position="relative"),a=h.offset(),o=te.css(t,"top"),u=te.css(t,"left"),c=("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1,c?(r=h.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),te.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(f.top=e.top-a.top+s),null!=e.left&&(f.left=e.left-a.left+i),"using"in e?e.using.call(t,f):h.css(f)}},te.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){te.offset.setOffset(this,t,e)});var e,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;if(o)return e=o.documentElement,te.contains(e,r)?(typeof r.getBoundingClientRect!==Ne&&(i=r.getBoundingClientRect()),n=W(o),{top:i.top+n.pageYOffset-e.clientTop,left:i.left+n.pageXOffset-e.clientLeft}):i},position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===te.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),te.nodeName(t[0],"html")||(r=t.offset()),r.top+=te.css(t[0],"borderTopWidth",!0),r.left+=te.css(t[0],"borderLeftWidth",!0)),{top:e.top-r.top-te.css(n,"marginTop",!0),left:e.left-r.left-te.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Pn;t&&!te.nodeName(t,"html")&&"static"===te.css(t,"position");)t=t.offsetParent;return t||Pn})}}),te.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r="pageYOffset"===n;te.fn[e]=function(i){return me(this,function(e,i,o){var s=W(e);return void 0===o?s?s[n]:e[i]:void(s?s.scrollTo(r?t.pageXOffset:o,r?o:t.pageYOffset):e[i]=o)},e,i,arguments.length,null)}}),te.each(["top","left"],function(t,e){te.cssHooks[e]=E(Y.pixelPosition,function(t,n){return n?(n=k(t,e),$e.test(n)?te(t).position()[e]+"px":n):void 0})}),te.each({Height:"height",Width:"width"},function(t,e){te.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){te.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(r===!0||i===!0?"margin":"border");return me(this,function(e,n,r){var i;return te.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+t],i["scroll"+t],e.body["offset"+t],i["offset"+t],i["client"+t])):void 0===r?te.css(e,n,s):te.style(e,n,r,s)},e,o?r:void 0,o,null)}})}),te.fn.size=function(){return this.length},te.fn.andSelf=te.fn.addBack,"function"==typeof n&&n.amd&&n("jquery",[],function(){return te});var qn=t.jQuery,Hn=t.$;return te.noConflict=function(e){return t.$===te&&(t.$=Hn),e&&t.jQuery===te&&(t.jQuery=qn),te},typeof e===Ne&&(t.jQuery=t.$=te),te}),n("lib/guid",["require","exports","module"],function(){var t=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}();return t}),n("Freequency/logIn",["require","exports","module","jquery","lib/guid"],function(t){var e=t("jquery"),n=t("lib/guid"),r=function(){var t,r,i=e.Deferred();return Parse.User.current()?i.resolve():(t=window.localStorage.username,r=window.localStorage.password,t&&r?Parse.User.logIn(t,r,{success:i.resolve,error:e.noop}):(t=n(),r=n(),Parse.User.signUp(t,r,{},{success:function(){window.localStorage.username=t,window.localStorage.password=r,i.resolve()},error:e.noop}))),i.promise()};return r}),function(){var t=this,e=t._,r={},i=Array.prototype,o=Object.prototype,s=Function.prototype,a=i.push,u=i.slice,c=i.concat,l=o.toString,h=o.hasOwnProperty,f=i.forEach,p=i.map,d=i.reduce,g=i.reduceRight,v=i.filter,m=i.every,y=i.some,w=i.indexOf,b=i.lastIndexOf,x=Array.isArray,k=Object.keys,E=s.bind,T=function(t){return t instanceof T?t:this instanceof T?void(this._wrapped=t):new T(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=T),exports._=T):t._=T,T.VERSION="1.6.0";var _=T.each=T.forEach=function(t,e,n){if(null==t)return t;if(f&&t.forEach===f)t.forEach(e,n);else if(t.length===+t.length){for(var i=0,o=t.length;o>i;i++)if(e.call(n,t[i],i,t)===r)return}else for(var s=T.keys(t),i=0,o=s.length;o>i;i++)if(e.call(n,t[s[i]],s[i],t)===r)return;return t};T.map=T.collect=function(t,e,n){var r=[];return null==t?r:p&&t.map===p?t.map(e,n):(_(t,function(t,i,o){r.push(e.call(n,t,i,o))}),r)};var N="Reduce of empty array with no initial value";T.reduce=T.foldl=T.inject=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),d&&t.reduce===d)return r&&(e=T.bind(e,r)),i?t.reduce(e,n):t.reduce(e);if(_(t,function(t,o,s){i?n=e.call(r,n,t,o,s):(n=t,i=!0)}),!i)throw new TypeError(N);return n},T.reduceRight=T.foldr=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),g&&t.reduceRight===g)return r&&(e=T.bind(e,r)),i?t.reduceRight(e,n):t.reduceRight(e);var o=t.length;if(o!==+o){var s=T.keys(t);o=s.length}if(_(t,function(a,u,c){u=s?s[--o]:--o,i?n=e.call(r,n,t[u],u,c):(n=t[u],i=!0)}),!i)throw new TypeError(N);return n},T.find=T.detect=function(t,e,n){var r;return C(t,function(t,i,o){return e.call(n,t,i,o)?(r=t,!0):void 0}),r},T.filter=T.select=function(t,e,n){var r=[];return null==t?r:v&&t.filter===v?t.filter(e,n):(_(t,function(t,i,o){e.call(n,t,i,o)&&r.push(t)}),r)},T.reject=function(t,e,n){return T.filter(t,function(t,r,i){return!e.call(n,t,r,i)},n)},T.every=T.all=function(t,e,n){e||(e=T.identity);var i=!0;return null==t?i:m&&t.every===m?t.every(e,n):(_(t,function(t,o,s){return(i=i&&e.call(n,t,o,s))?void 0:r}),!!i)};var C=T.some=T.any=function(t,e,n){e||(e=T.identity);var i=!1;return null==t?i:y&&t.some===y?t.some(e,n):(_(t,function(t,o,s){return i||(i=e.call(n,t,o,s))?r:void 0}),!!i)};T.contains=T.include=function(t,e){return null==t?!1:w&&t.indexOf===w?-1!=t.indexOf(e):C(t,function(t){return t===e})},T.invoke=function(t,e){var n=u.call(arguments,2),r=T.isFunction(e);return T.map(t,function(t){return(r?e:t[e]).apply(t,n)})},T.pluck=function(t,e){return T.map(t,T.property(e))},T.where=function(t,e){return T.filter(t,T.matches(e))},T.findWhere=function(t,e){return T.find(t,T.matches(e))},T.max=function(t,e,n){if(!e&&T.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);var r=-1/0,i=-1/0;return _(t,function(t,o,s){var a=e?e.call(n,t,o,s):t;a>i&&(r=t,i=a)}),r},T.min=function(t,e,n){if(!e&&T.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);var r=1/0,i=1/0;return _(t,function(t,o,s){var a=e?e.call(n,t,o,s):t;i>a&&(r=t,i=a)}),r},T.shuffle=function(t){var e,n=0,r=[];return _(t,function(t){e=T.random(n++),r[n-1]=r[e],r[e]=t}),r},T.sample=function(t,e,n){return null==e||n?(t.length!==+t.length&&(t=T.values(t)),t[T.random(t.length-1)]):T.shuffle(t).slice(0,Math.max(0,e))};var S=function(t){return null==t?T.identity:T.isFunction(t)?t:T.property(t)};T.sortBy=function(t,e,n){return e=S(e),T.pluck(T.map(t,function(t,r,i){return{value:t,index:r,criteria:e.call(n,t,r,i)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return t.index-e.index}),"value")};var A=function(t){return function(e,n,r){var i={};return n=S(n),_(e,function(o,s){var a=n.call(r,o,s,e);t(i,a,o)}),i}};T.groupBy=A(function(t,e,n){T.has(t,e)?t[e].push(n):t[e]=[n]}),T.indexBy=A(function(t,e,n){t[e]=n}),T.countBy=A(function(t,e){T.has(t,e)?t[e]++:t[e]=1}),T.sortedIndex=function(t,e,n,r){n=S(n);for(var i=n.call(r,e),o=0,s=t.length;s>o;){var a=o+s>>>1;n.call(r,t[a])<i?o=a+1:s=a}return o},T.toArray=function(t){return t?T.isArray(t)?u.call(t):t.length===+t.length?T.map(t,T.identity):T.values(t):[]},T.size=function(t){return null==t?0:t.length===+t.length?t.length:T.keys(t).length},T.first=T.head=T.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:0>e?[]:u.call(t,0,e)},T.initial=function(t,e,n){return u.call(t,0,t.length-(null==e||n?1:e))},T.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:u.call(t,Math.max(t.length-e,0))},T.rest=T.tail=T.drop=function(t,e,n){return u.call(t,null==e||n?1:e)},T.compact=function(t){return T.filter(t,T.identity)};var O=function(t,e,n){return e&&T.every(t,T.isArray)?c.apply(n,t):(_(t,function(t){T.isArray(t)||T.isArguments(t)?e?a.apply(n,t):O(t,e,n):n.push(t)}),n)};T.flatten=function(t,e){return O(t,e,[])},T.without=function(t){return T.difference(t,u.call(arguments,1))},T.partition=function(t,e){var n=[],r=[];return _(t,function(t){(e(t)?n:r).push(t)}),[n,r]},T.uniq=T.unique=function(t,e,n,r){T.isFunction(e)&&(r=n,n=e,e=!1);var i=n?T.map(t,n,r):t,o=[],s=[];return _(i,function(n,r){(e?r&&s[s.length-1]===n:T.contains(s,n))||(s.push(n),o.push(t[r]))}),o},T.union=function(){return T.uniq(T.flatten(arguments,!0))},T.intersection=function(t){var e=u.call(arguments,1);return T.filter(T.uniq(t),function(t){return T.every(e,function(e){return T.contains(e,t)})})},T.difference=function(t){var e=c.apply(i,u.call(arguments,1));return T.filter(t,function(t){return!T.contains(e,t)})},T.zip=function(){for(var t=T.max(T.pluck(arguments,"length").concat(0)),e=new Array(t),n=0;t>n;n++)e[n]=T.pluck(arguments,""+n);return e},T.object=function(t,e){if(null==t)return{};for(var n={},r=0,i=t.length;i>r;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},T.indexOf=function(t,e,n){if(null==t)return-1;var r=0,i=t.length;if(n){if("number"!=typeof n)return r=T.sortedIndex(t,e),t[r]===e?r:-1;r=0>n?Math.max(0,i+n):n}if(w&&t.indexOf===w)return t.indexOf(e,n);for(;i>r;r++)if(t[r]===e)return r;return-1},T.lastIndexOf=function(t,e,n){if(null==t)return-1;var r=null!=n;if(b&&t.lastIndexOf===b)return r?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var i=r?n:t.length;i--;)if(t[i]===e)return i;return-1},T.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=0,o=new Array(r);r>i;)o[i++]=t,t+=n;return o};var R=function(){};T.bind=function(t,e){var n,r;if(E&&t.bind===E)return E.apply(t,u.call(arguments,1));if(!T.isFunction(t))throw new TypeError;return n=u.call(arguments,2),r=function(){if(!(this instanceof r))return t.apply(e,n.concat(u.call(arguments)));R.prototype=t.prototype;var i=new R;R.prototype=null;var o=t.apply(i,n.concat(u.call(arguments)));return Object(o)===o?o:i}},T.partial=function(t){var e=u.call(arguments,1);return function(){for(var n=0,r=e.slice(),i=0,o=r.length;o>i;i++)r[i]===T&&(r[i]=arguments[n++]);for(;n<arguments.length;)r.push(arguments[n++]);return t.apply(this,r)}},T.bindAll=function(t){var e=u.call(arguments,1);if(0===e.length)throw new Error("bindAll must be passed function names");return _(e,function(e){t[e]=T.bind(t[e],t)}),t},T.memoize=function(t,e){var n={};return e||(e=T.identity),function(){var r=e.apply(this,arguments);return T.has(n,r)?n[r]:n[r]=t.apply(this,arguments)}},T.delay=function(t,e){var n=u.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},T.defer=function(t){return T.delay.apply(T,[t,1].concat(u.call(arguments,1)))},T.throttle=function(t,e,n){var r,i,o,s=null,a=0;n||(n={});var u=function(){a=n.leading===!1?0:T.now(),s=null,o=t.apply(r,i),r=i=null};return function(){var c=T.now();a||n.leading!==!1||(a=c);var l=e-(c-a);return r=this,i=arguments,0>=l?(clearTimeout(s),s=null,a=c,o=t.apply(r,i),r=i=null):s||n.trailing===!1||(s=setTimeout(u,l)),o}},T.debounce=function(t,e,n){var r,i,o,s,a,u=function(){var c=T.now()-s;e>c?r=setTimeout(u,e-c):(r=null,n||(a=t.apply(o,i),o=i=null))};return function(){o=this,i=arguments,s=T.now();
var c=n&&!r;return r||(r=setTimeout(u,e)),c&&(a=t.apply(o,i),o=i=null),a}},T.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},T.wrap=function(t,e){return T.partial(e,t)},T.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},T.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},T.keys=function(t){if(!T.isObject(t))return[];if(k)return k(t);var e=[];for(var n in t)T.has(t,n)&&e.push(n);return e},T.values=function(t){for(var e=T.keys(t),n=e.length,r=new Array(n),i=0;n>i;i++)r[i]=t[e[i]];return r},T.pairs=function(t){for(var e=T.keys(t),n=e.length,r=new Array(n),i=0;n>i;i++)r[i]=[e[i],t[e[i]]];return r},T.invert=function(t){for(var e={},n=T.keys(t),r=0,i=n.length;i>r;r++)e[t[n[r]]]=n[r];return e},T.functions=T.methods=function(t){var e=[];for(var n in t)T.isFunction(t[n])&&e.push(n);return e.sort()},T.extend=function(t){return _(u.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},T.pick=function(t){var e={},n=c.apply(i,u.call(arguments,1));return _(n,function(n){n in t&&(e[n]=t[n])}),e},T.omit=function(t){var e={},n=c.apply(i,u.call(arguments,1));for(var r in t)T.contains(n,r)||(e[r]=t[r]);return e},T.defaults=function(t){return _(u.call(arguments,1),function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])}),t},T.clone=function(t){return T.isObject(t)?T.isArray(t)?t.slice():T.extend({},t):t},T.tap=function(t,e){return e(t),t};var L=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof T&&(t=t._wrapped),e instanceof T&&(e=e._wrapped);var i=l.call(t);if(i!=l.call(e))return!1;switch(i){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=n.length;o--;)if(n[o]==t)return r[o]==e;var s=t.constructor,a=e.constructor;if(s!==a&&!(T.isFunction(s)&&s instanceof s&&T.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1;n.push(t),r.push(e);var u=0,c=!0;if("[object Array]"==i){if(u=t.length,c=u==e.length)for(;u--&&(c=L(t[u],e[u],n,r)););}else{for(var h in t)if(T.has(t,h)&&(u++,!(c=T.has(e,h)&&L(t[h],e[h],n,r))))break;if(c){for(h in e)if(T.has(e,h)&&!u--)break;c=!u}}return n.pop(),r.pop(),c};T.isEqual=function(t,e){return L(t,e,[],[])},T.isEmpty=function(t){if(null==t)return!0;if(T.isArray(t)||T.isString(t))return 0===t.length;for(var e in t)if(T.has(t,e))return!1;return!0},T.isElement=function(t){return!(!t||1!==t.nodeType)},T.isArray=x||function(t){return"[object Array]"==l.call(t)},T.isObject=function(t){return t===Object(t)},_(["Arguments","Function","String","Number","Date","RegExp"],function(t){T["is"+t]=function(e){return l.call(e)=="[object "+t+"]"}}),T.isArguments(arguments)||(T.isArguments=function(t){return!(!t||!T.has(t,"callee"))}),"function"!=typeof/./&&(T.isFunction=function(t){return"function"==typeof t}),T.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},T.isNaN=function(t){return T.isNumber(t)&&t!=+t},T.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==l.call(t)},T.isNull=function(t){return null===t},T.isUndefined=function(t){return void 0===t},T.has=function(t,e){return h.call(t,e)},T.noConflict=function(){return t._=e,this},T.identity=function(t){return t},T.constant=function(t){return function(){return t}},T.property=function(t){return function(e){return e[t]}},T.matches=function(t){return function(e){if(e===t)return!0;for(var n in t)if(t[n]!==e[n])return!1;return!0}},T.times=function(t,e,n){for(var r=Array(Math.max(0,t)),i=0;t>i;i++)r[i]=e.call(n,i);return r},T.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},T.now=Date.now||function(){return(new Date).getTime()};var M={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};M.unescape=T.invert(M.escape);var j={escape:new RegExp("["+T.keys(M.escape).join("")+"]","g"),unescape:new RegExp("("+T.keys(M.unescape).join("|")+")","g")};T.each(["escape","unescape"],function(t){T[t]=function(e){return null==e?"":(""+e).replace(j[t],function(e){return M[t][e]})}}),T.result=function(t,e){if(null==t)return void 0;var n=t[e];return T.isFunction(n)?n.call(t):n},T.mixin=function(t){_(T.functions(t),function(e){var n=T[e]=t[e];T.prototype[e]=function(){var t=[this._wrapped];return a.apply(t,arguments),q.call(this,n.apply(T,t))}})};var F=0;T.uniqueId=function(t){var e=++F+"";return t?t+e:e},T.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var I=/(.)^/,D={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},P=/\\|'|\r|\n|\t|\u2028|\u2029/g;T.template=function(t,e,n){var r;n=T.defaults({},n,T.templateSettings);var i=new RegExp([(n.escape||I).source,(n.interpolate||I).source,(n.evaluate||I).source].join("|")+"|$","g"),o=0,s="__p+='";t.replace(i,function(e,n,r,i,a){return s+=t.slice(o,a).replace(P,function(t){return"\\"+D[t]}),n&&(s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(s+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(s+="';\n"+i+"\n__p+='"),o=a+e.length,e}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{r=new Function(n.variable||"obj","_",s)}catch(a){throw a.source=s,a}if(e)return r(e,T);var u=function(t){return r.call(this,t,T)};return u.source="function("+(n.variable||"obj")+"){\n"+s+"}",u},T.chain=function(t){return T(t).chain()};var q=function(t){return this._chain?T(t).chain():t};T.mixin(T),_(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=i[t];T.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],q.call(this,n)}}),_(["concat","join","slice"],function(t){var e=i[t];T.prototype[t]=function(){return q.call(this,e.apply(this._wrapped,arguments))}}),T.extend(T.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof n&&n.amd&&n("underscore",[],function(){return T})}.call(this),function(t,r){if("function"==typeof n&&n.amd)n("backbone",["underscore","jquery","exports"],function(e,n,i){t.Backbone=r(t,i,e,n)});else if("undefined"!=typeof exports){var i=e("underscore");r(t,exports,i)}else t.Backbone=r(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)}(this,function(t,e,n,r){{var i=t.Backbone,o=[],s=(o.push,o.slice);o.splice}e.VERSION="1.1.2",e.$=r,e.noConflict=function(){return t.Backbone=i,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=e.Events={on:function(t,e,n){if(!c(this,"on",t,[e,n])||!e)return this;this._events||(this._events={});var r=this._events[t]||(this._events[t]=[]);return r.push({callback:e,context:n,ctx:n||this}),this},once:function(t,e,r){if(!c(this,"once",t,[e,r])||!e)return this;var i=this,o=n.once(function(){i.off(t,o),e.apply(this,arguments)});return o._callback=e,this.on(t,o,r)},off:function(t,e,r){var i,o,s,a,u,l,h,f;if(!this._events||!c(this,"off",t,[e,r]))return this;if(!t&&!e&&!r)return this._events=void 0,this;for(a=t?[t]:n.keys(this._events),u=0,l=a.length;l>u;u++)if(t=a[u],s=this._events[t]){if(this._events[t]=i=[],e||r)for(h=0,f=s.length;f>h;h++)o=s[h],(e&&e!==o.callback&&e!==o.callback._callback||r&&r!==o.context)&&i.push(o);i.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=s.call(arguments,1);if(!c(this,"trigger",t,e))return this;var n=this._events[t],r=this._events.all;return n&&l(n,e),r&&l(r,arguments),this},stopListening:function(t,e,r){var i=this._listeningTo;if(!i)return this;var o=!e&&!r;r||"object"!=typeof e||(r=this),t&&((i={})[t._listenId]=t);for(var s in i)t=i[s],t.off(e,r,this),(o||n.isEmpty(t._events))&&delete this._listeningTo[s];return this}},u=/\s+/,c=function(t,e,n,r){if(!n)return!0;if("object"==typeof n){for(var i in n)t[e].apply(t,[i,n[i]].concat(r));return!1}if(u.test(n)){for(var o=n.split(u),s=0,a=o.length;a>s;s++)t[e].apply(t,[o[s]].concat(r));return!1}return!0},l=function(t,e){var n,r=-1,i=t.length,o=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,s);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,s,a);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e);return}},h={listenTo:"on",listenToOnce:"once"};n.each(h,function(t,e){a[e]=function(e,r,i){var o=this._listeningTo||(this._listeningTo={}),s=e._listenId||(e._listenId=n.uniqueId("l"));return o[s]=e,i||"object"!=typeof r||(i=this),e[t](r,i,this),this}}),a.bind=a.on,a.unbind=a.off,n.extend(e,a);var f=e.Model=function(t,e){var r=t||{};e||(e={}),this.cid=n.uniqueId("c"),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(f.prototype,a,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,r){var i,o,s,a,u,c,l,h;if(null==t)return this;if("object"==typeof t?(o=t,r=e):(o={})[t]=e,r||(r={}),!this._validate(o,r))return!1;s=r.unset,u=r.silent,a=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=n.clone(this.attributes),this.changed={}),h=this.attributes,l=this._previousAttributes,this.idAttribute in o&&(this.id=o[this.idAttribute]);for(i in o)e=o[i],n.isEqual(h[i],e)||a.push(i),n.isEqual(l[i],e)?delete this.changed[i]:this.changed[i]=e,s?delete h[i]:h[i]=e;if(!u){a.length&&(this._pending=r);for(var f=0,p=a.length;p>f;f++)this.trigger("change:"+a[f],this,h[a[f]],r)}if(c)return this;if(!u)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?n.clone(this.changed):!1;var e,r=!1,i=this._changing?this._previousAttributes:this.attributes;for(var o in t)n.isEqual(i[o],e=t[o])||((r||(r={}))[o]=e);return r},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=t?n.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,r=t.success;return t.success=function(n){return e.set(e.parse(n,t),t)?(r&&r(e,n,t),void e.trigger("sync",e,n,t)):!1},D(this,t),this.sync("read",this,t)},save:function(t,e,r){var i,o,s,a=this.attributes;if(null==t||"object"==typeof t?(i=t,r=e):(i={})[t]=e,r=n.extend({validate:!0},r),i&&!r.wait){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;i&&r.wait&&(this.attributes=n.extend({},a,i)),void 0===r.parse&&(r.parse=!0);var u=this,c=r.success;return r.success=function(t){u.attributes=a;var e=u.parse(t,r);return r.wait&&(e=n.extend(i||{},e)),n.isObject(e)&&!u.set(e,r)?!1:(c&&c(u,t,r),void u.trigger("sync",u,t,r))},D(this,r),o=this.isNew()?"create":r.patch?"patch":"update","patch"===o&&(r.attrs=i),s=this.sync(o,this,r),i&&r.wait&&(this.attributes=a),s},destroy:function(t){t=t?n.clone(t):{};var e=this,r=t.success,i=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(n){(t.wait||e.isNew())&&i(),r&&r(e,n,t),e.isNew()||e.trigger("sync",e,n,t)},this.isNew())return t.success(),!1;D(this,t);var o=this.sync("delete",this,t);return t.wait||i(),o},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||I();return this.isNew()?t:t.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return r?(this.trigger("invalid",this,r,n.extend(e,{validationError:r})),!1):!0}});var p=["keys","values","pairs","invert","pick","omit"];n.each(p,function(t){f.prototype[t]=function(){var e=s.call(arguments);return e.unshift(this.attributes),n[t].apply(n,e)}});var d=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},g={add:!0,remove:!0,merge:!0},v={add:!0,remove:!1};n.extend(d.prototype,a,{model:f,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,v))},remove:function(t,e){var r=!n.isArray(t);t=r?[t]:n.clone(t),e||(e={});var i,o,s,a;for(i=0,o=t.length;o>i;i++)a=t[i]=this.get(t[i]),a&&(delete this._byId[a.id],delete this._byId[a.cid],s=this.indexOf(a),this.models.splice(s,1),this.length--,e.silent||(e.index=s,a.trigger("remove",a,this,e)),this._removeReference(a,e));return r?t[0]:t},set:function(t,e){e=n.defaults({},e,g),e.parse&&(t=this.parse(t,e));var r=!n.isArray(t);t=r?t?[t]:[]:n.clone(t);var i,o,s,a,u,c,l,h=e.at,p=this.model,d=this.comparator&&null==h&&e.sort!==!1,v=n.isString(this.comparator)?this.comparator:null,m=[],y=[],w={},b=e.add,x=e.merge,k=e.remove,E=!d&&b&&k?[]:!1;for(i=0,o=t.length;o>i;i++){if(u=t[i]||{},s=u instanceof f?a=u:u[p.prototype.idAttribute||"id"],c=this.get(s))k&&(w[c.cid]=!0),x&&(u=u===a?a.attributes:u,e.parse&&(u=c.parse(u,e)),c.set(u,e),d&&!l&&c.hasChanged(v)&&(l=!0)),t[i]=c;else if(b){if(a=t[i]=this._prepareModel(u,e),!a)continue;m.push(a),this._addReference(a,e)}a=c||a,!E||!a.isNew()&&w[a.id]||E.push(a),w[a.id]=!0}if(k){for(i=0,o=this.length;o>i;++i)w[(a=this.models[i]).cid]||y.push(a);y.length&&this.remove(y,e)}if(m.length||E&&E.length)if(d&&(l=!0),this.length+=m.length,null!=h)for(i=0,o=m.length;o>i;i++)this.models.splice(h+i,0,m[i]);else{E&&(this.models.length=0);var T=E||m;for(i=0,o=T.length;o>i;i++)this.models.push(T[i])}if(l&&this.sort({silent:!0}),!e.silent){for(i=0,o=m.length;o>i;i++)(a=m[i]).trigger("add",a,this,e);(l||E&&E.length)&&this.trigger("sort",this,e)}return r?t[0]:t},reset:function(t,e){e||(e={});for(var r=0,i=this.models.length;i>r;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return s.apply(this.models,arguments)},get:function(t){return null==t?void 0:this._byId[t]||this._byId[t.id]||this._byId[t.cid]},at:function(t){return this.models[t]},where:function(t,e){return n.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return n.invoke(this.models,"get",t)},fetch:function(t){t=t?n.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,r=this;return t.success=function(n){var i=t.reset?"reset":"set";r[i](n,t),e&&e(r,n,t),r.trigger("sync",r,n,t)},D(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?n.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var r=this,i=e.success;return e.success=function(t,n){e.wait&&r.add(t,e),i&&i(t,n,e)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof f)return t;e=e?n.clone(e):{},e.collection=this;var r=new this.model(t,e);return r.validationError?(this.trigger("invalid",this,r.validationError,e),!1):r},_addReference:function(t){this._byId[t.cid]=t,null!=t.id&&(this._byId[t.id]=t),t.collection||(t.collection=this),t.on("all",this._onModelEvent,this)},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){("add"!==t&&"remove"!==t||n===this)&&("destroy"===t&&this.remove(e,r),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var m=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];n.each(m,function(t){d.prototype[t]=function(){var e=s.call(arguments);return e.unshift(this.models),n[t].apply(n,e)}});var y=["groupBy","countBy","sortBy","indexBy"];n.each(y,function(t){d.prototype[t]=function(e,r){var i=n.isFunction(e)?e:function(t){return t.get(e)};return n[t](this.models,i,r)}});var w=e.View=function(t){this.cid=n.uniqueId("view"),t||(t={}),n.extend(this,n.pick(t,x)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},b=/^(\S+)\s*(.*)$/,x=["model","collection","el","id","attributes","className","tagName","events"];n.extend(w.prototype,a,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,n){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=n.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var r=t[e];if(n.isFunction(r)||(r=this[t[e]]),r){var i=e.match(b),o=i[1],s=i[2];r=n.bind(r,this),o+=".delegateEvents"+this.cid,""===s?this.$el.on(o,r):this.$el.on(o,s,r)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t["class"]=n.result(this,"className"));var r=e.$("<"+n.result(this,"tagName")+">").attr(t);this.setElement(r,!1)}}}),e.sync=function(t,r,i){var o=E[t];n.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var s={type:o,dataType:"json"};if(i.url||(s.url=n.result(r,"url")||I()),null!=i.data||!r||"create"!==t&&"update"!==t&&"patch"!==t||(s.contentType="application/json",s.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){s.type="POST",i.emulateJSON&&(s.data._method=o);var a=i.beforeSend;i.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",o),a?a.apply(this,arguments):void 0}}"GET"===s.type||i.emulateJSON||(s.processData=!1),"PATCH"===s.type&&k&&(s.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var u=i.xhr=e.ajax(n.extend(s,i));return r.trigger("request",r,u,i),u};var k=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),E={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var T=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},_=/\((.*?)\)/g,N=/(\(\?)?:\w+/g,C=/\*\w+/g,S=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(T.prototype,a,{initialize:function(){},route:function(t,r,i){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var o=this;return e.history.route(t,function(n){var s=o._extractParameters(t,n);o.execute(i,s),o.trigger.apply(o,["route:"+r].concat(s)),o.trigger("route",r,s),e.history.trigger("route",o,r,s)}),this},execute:function(t,e){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(S,"\\$&").replace(_,"(?:$1)?").replace(N,function(t,e){return e?t:"([^/?]+)"}).replace(C,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return n.map(r,function(t,e){return e===r.length-1?t||null:t?decodeURIComponent(t):null})}});var A=e.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},O=/^[#\/]|\s+$/g,R=/^\/+|\/+$/g,L=/msie [\w.]+/,M=/\/$/,j=/#.*$/;A.started=!1,n.extend(A.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(M,"");t.indexOf(n)||(t=t.slice(n.length))}else t=this.getHash();return t.replace(O,"")},start:function(t){if(A.started)throw new Error("Backbone.history has already been started");A.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var r=this.getFragment(),i=document.documentMode,o=L.exec(navigator.userAgent.toLowerCase())&&(!i||7>=i);if(this.root=("/"+this.root+"/").replace(R,"/"),o&&this._wantsHashChange){var s=e.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=s.hide().appendTo("body")[0].contentWindow,this.navigate(r)}this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!o?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=r;var a=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&a.hash&&(this.fragment=this.getHash().replace(O,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),A.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.iframe&&this.navigate(t),void this.loadUrl())},loadUrl:function(t){return t=this.fragment=this.getFragment(t),n.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})},navigate:function(t,e){if(!A.started)return!1;e&&e!==!0||(e={trigger:!!e});var n=this.root+(t=this.getFragment(t||""));if(t=t.replace(j,""),this.fragment!==t){if(this.fragment=t,""===t&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),e.history=new A;var F=function(t,e){var r,i=this;r=t&&n.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,e);var o=function(){this.constructor=r};return o.prototype=i.prototype,r.prototype=new o,t&&n.extend(r.prototype,t),r.__super__=i.prototype,r};f.extend=d.extend=T.extend=w.extend=A.extend=F;var I=function(){throw new Error('A "url" property or function must be specified')},D=function(t,e){var n=e.error;e.error=function(r){n&&n(t,r,e),t.trigger("error",t,r,e)}};return e}),function(t){var e=t.Ractive,r=void 0,i=function(){var t,e;return t={el:null,template:"",complete:null,preserveWhitespace:!1,append:!1,twoway:!0,modifyArrays:!0,lazy:!1,debug:!1,noIntro:!1,transitionsEnabled:!0,magic:!1,noCssTransform:!1,adapt:[],sanitize:!1,stripComments:!0,isolated:!1,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],computed:null},e={keys:Object.keys(t),defaults:t}}(r),o=function(){return"undefined"!=typeof document?document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"):void 0}(),s={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},a=function(t,e){return t?function(t,n){return n&&n!==e.html?document.createElementNS(n,t):document.createElement(t)}:function(t,n){if(n&&n!==e.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(t)}}(o,s),u="object"==typeof document,c=function(t){try{return Object.defineProperty({},"test",{value:0}),t&&Object.defineProperty(document.createElement("div"),"test",{value:0}),Object.defineProperty}catch(e){return function(t,e,n){t[e]=n.value}}}(u),l=function(t,e,n){try{try{Object.defineProperties({},{test:{value:0}})}catch(r){throw r}return n&&Object.defineProperties(t("div"),{test:{value:0}}),Object.defineProperties}catch(r){return function(t,n){var r;for(r in n)n.hasOwnProperty(r)&&e(t,r,n[r])}}}(a,c,u),h=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},f=function(t){return function(e,n,r){var i;if("string"!=typeof n||!t(r))throw new Error("Bad arguments");if(i=+e.get(n)||0,!t(i))throw new Error("Cannot add to a non-numeric value");return e.set(n,i+r)}}(h),p=function(t){return function(e,n){return t(this,e,void 0===n?1:+n)}}(f),d=function(t,e){return null===t&&null===e?!0:"object"==typeof t||"object"==typeof e?!1:t===e},g=function(){function t(t){setTimeout(t,0)}function e(t,e){return function(){for(var n;n=t.shift();)n(e)}}function n(t,e,i,o){var s;if(e===t)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(e instanceof r)e.then(i,o);else if(!e||"object"!=typeof e&&"function"!=typeof e)i(e);else{try{s=e.then}catch(a){return void o(a)}if("function"==typeof s){var u,c,l;c=function(e){u||(u=!0,n(t,e,i,o))},l=function(t){u||(u=!0,o(t))};try{s.call(e,c,l)}catch(a){if(!u)return o(a),void(u=!0)}}else i(e)}}var r,i={},o={},s={};return r=function(a){var u,c,l,h,f,p,d=[],g=[],v=i;return l=function(n){return function(r){v===i&&(u=r,v=n,c=e(v===o?d:g,u),t(c))}},h=l(o),f=l(s),a(h,f),p={then:function(e,o){var s=new r(function(r,a){var u=function(t,e,i){e.push("function"==typeof t?function(e){var i;try{i=t(e),n(s,i,r,a)}catch(o){a(o)}}:i)};u(e,d,r),u(o,g,a),v!==i&&t(c)});return s}},p["catch"]=function(t){return this.then(null,t)},p},r.all=function(t){return new r(function(e,n){var r,i,o,s=[];if(!t.length)return void e(s);for(o=function(i){t[i].then(function(t){s[i]=t,--r||e(s)},n)},r=i=t.length;i--;)o(i)})},r.resolve=function(t){return new r(function(e){e(t)})},r.reject=function(t){return new r(function(e,n){n(t)})},r}(),v=function(){var t=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g;return function(e){return(e||"").replace(t,".$1")}}(),m=["o","ms","moz","webkit"],y=function(t){return"undefined"!=typeof window?(function(t,e,n){var r,i;if(!n.requestAnimationFrame){for(r=0;r<t.length&&!n.requestAnimationFrame;++r)n.requestAnimationFrame=n[t[r]+"RequestAnimationFrame"];n.requestAnimationFrame||(i=n.setTimeout,n.requestAnimationFrame=function(t){var n,r,o;return n=Date.now(),r=Math.max(0,16-(n-e)),o=i(function(){t(n+r)},r),e=n+r,o})}}(t,0,window),window.requestAnimationFrame):void 0}(m),w=function(){return"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()}}(),b=[],x=function(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)},k=function(t,e,n){var r,i,o,s,a,u="/* Ractive.js component styles */\n",c={},l=[];if(e)return t.push(function(){r=t.runloop}),i=document.createElement("style"),i.type="text/css",o=document.getElementsByTagName("head")[0],a=!1,s=i.styleSheet,{add:function(t){t.css&&(c[t._guid]||(c[t._guid]=0,l.push(t.css),r.scheduleCssUpdate()),c[t._guid]+=1)},remove:function(t){t.css&&(c[t._guid]-=1,c[t._guid]||(n(l,t.css),r.scheduleCssUpdate()))},update:function(){var t;l.length?(t=u+l.join(" "),s?s.cssText=t:i.innerHTML=t,a||o.appendChild(i)):a&&o.removeChild(i)}}}(b,u,x),E=function(t,e){var n,r,i,o,s,a;for(n=[],a=t._rendering?t.fragment.docFrag:t.el,r=a.querySelectorAll('input[type="checkbox"][name="{{'+e+'}}"]'),o=r.length,s=0;o>s;s+=1)i=r[s],(i.hasAttribute("checked")||i.checked)&&n.push(i._ractive.value);return n},T=Object.prototype.hasOwnProperty,_=function(t){do if(t.context)return t.context;while(t=t.parent);return""},N=function(t,e,n,r){var i,o='Could not resolve reference - too many "../" prefixes';return t.push(function(){i=t.get}),function(t,s,a){var u,c,l,h,f,p,d,g,v;if(s=e(s),"."===s)return r(a);if("."===s.charAt(0)){if(u=r(a),c=u?u.split("."):[],"../"===s.substr(0,3)){for(;"../"===s.substr(0,3);){if(!c.length)throw new Error(o);c.pop(),s=s.substring(3)}return c.push(s),c.join(".")}return u?u+s:s.substring(1)}l=s.split("."),h=l.pop(),f=l.length?"."+l.join("."):"";do if(u=a.context,u&&(v=!0,p=u+f,d=i(t,p),(g=t._wrapped[p])&&(d=g.get()),d&&("object"==typeof d||"function"==typeof d)&&h in d))return u+"."+s;while(a=a.parent);return v||t._parent&&!t.isolated?n.call(t.data,s)?s:void 0!==i(t,s)?s:void 0:s}}(b,v,T,_),C=function(t){var e,n,r,i,o=[""];for(e=t.length;e--;)for(n=t[e],r=n.split(".");r.length>1;)r.pop(),i=r.join("."),o[i]!==!0&&(o.push(i),o[i]=!0);return o},S=function(){function t(t,n,r){var o;for(t._patternObservers.length&&i(t,n,n,r,!0),o=0;o<t._deps.length;o+=1)e(t,n,o,r)}function e(t,e,i,o){var s=t._deps[i];s&&(n(s[e]),o||r(t._depsMap[e],t,i))}function n(t){var e,n;if(t)for(n=t.length,e=0;n>e;e+=1)t[e].update()}function r(t,n,r,i){var o;if(t)for(o=t.length;o--;)e(n,t[o],r,i)
}function i(t,e,n,r,s){var u,c,l,h,f,p,d,g;for(u=t._patternObservers.length;u--;)c=t._patternObservers[u],c.regex.test(n)&&c.update(n);r||(g=function(e){if(l=t._depsMap[e])for(u=l.length;u--;)h=l[u],f=a.exec(h)[0],p=n?n+"."+f:f,i(t,h,p)},s?(d=o(n),d.forEach(g)):g(e))}function o(t){var e,n,r,i,o,a;for(e=t.split("."),n=s(e.length),o=[],r=function(t,n){return t?"*":e[n]},i=n.length;i--;)a=n[i].map(r).join("."),o[a]||(o.push(a),o[a]=!0);return o}function s(t){var e,n,r,i,o,s="";if(!u[t]){for(r=[];s.length<t;)s+=1;for(e=parseInt(s,2),i=function(t){return"1"===t},o=0;e>=o;o+=1){for(n=o.toString(2);n.length<t;)n="0"+n;r[o]=Array.prototype.map.call(n,i)}u[t]=r}return u[t]}var a,u={};return a=/[^\.]+$/,t.multiple=function(t,n,r){var o,s,a;if(a=n.length,t._patternObservers.length)for(o=a;o--;)i(t,n[o],n[o],r,!0);for(o=0;o<t._deps.length;o+=1)if(t._deps[o])for(s=a;s--;)e(t,n[s],o,r)},t}(),A=function(t){var e,n,r,i;return e=function(t,e){var o=[];return o.detachQueue=[],o.remove=r,o.init=i,o._check=n,o._callback=t,o._previous=e,e&&e.push(o),o},n=function(){var t;if(this._ready&&!this.length){for(;t=this.detachQueue.pop();)t.detach();"function"==typeof this._callback&&this._callback(),this._previous&&this._previous.remove(this)}},r=function(e){t(this,e),this._check()},i=function(){this._ready=!0,this._check()},e}(x),O=function(t,e,n,r,i,o,s,a){function u(){var t,n,r;for(w&&(w.focus(),w=null);t=T.pop();)t.update().deferred=!1;for(;t=b.pop();)t._sort();for(;t=x.pop();)t.init();for(;t=k.pop();)t.init();for(;t=E.pop();)t.update();for(;t=_.pop();)t.active=!1;for(;t=M.pop();)if(M[t._guid]=!1,t._changes.length){for(r={};n=t._changes.pop();)r[n]=f(t,n);t.fire("change",r)}d&&(e.update(),d=!1)}function c(){var t,e,n;for(n=M.length;n--;)t=M[n],t._changes.length&&(e=o(t._changes),s.multiple(t,e,!0));for(l();v;){for(v=!1;t=C.pop();)t.update();for(;t=N.pop();)t.update().deferred=!1;for(;t=S.pop();)t.deferredUpdate();for(;t=O.pop();)p(t.root,t.keypath,r(t.root,t.keypath));for(;t=R.pop();)t.update()}}function l(){var t,e,n;if(L.length)for(t=L.splice(0,L.length);e=t.pop();)e.keypath||(n=i(e.root,e.ref,e.parentFragment),void 0!==n?e.resolve(n):L.push(e))}t.push(function(){f=t.get,p=t.set});var h,f,p,d,g,v=!1,m=!1,y=0,w=null,b=[],x=[],k=[],E=[],T=[],_=[],N=[],C=[],S=[],A={},O=[],R=[],L=[],M=[];return h={start:function(t,e){this.addInstance(t),m||(y+=1,g=a(e,g))},end:function(){return m?void l():(--y||(m=!0,c(),m=!1,u()),g.init(),void(g=g._previous))},trigger:function(){return y||m?void l():(m=!0,c(),m=!1,void u())},focus:function(t){w=t},addInstance:function(t){t&&!M[t._guid]&&(M.push(t),M[M._guid]=!0)},addLiveQuery:function(t){b.push(t)},addDecorator:function(t){x.push(t)},addTransition:function(t){t._manager=g,g.push(t),k.push(t)},addObserver:function(t){E.push(t)},addAttribute:function(t){T.push(t)},addBinding:function(t){t.active=!0,_.push(t)},scheduleCssUpdate:function(){y||m?d=!0:e.update()},addEvaluator:function(t){v=!0,N.push(t)},addComputation:function(t){v=!0,C.push(t)},addSelectValue:function(t){v=!0,S.push(t)},addCheckbox:function(t){A[t.keypath]||(v=!0,O.push(t))},addRadio:function(t){v=!0,R.push(t)},addUnresolved:function(t){v=!0,L.push(t)},removeUnresolved:function(t){n(L,t)},detachWhenReady:function(t){g.detachQueue.push(t)}},t.runloop=h,h}(b,k,x,E,N,C,S,A),R=function(t,e,n){var r=[],i={tick:function(){var o,s,a;for(a=e(),n.start(),o=0;o<r.length;o+=1)s=r[o],s.tick(a)||r.splice(o--,1);n.end(),r.length?t(i.tick):i.running=!1},add:function(e){r.push(e),i.running||(i.running=!0,t(i.tick))},abort:function(t,e){for(var n,i=r.length;i--;)n=r[i],n.root===e&&n.keypath===t&&n.stop()}};return i}(y,w,O),L=function(){var t=Object.prototype.toString;return function(e){return"[object Array]"===t.call(e)}}(),M=function(t){return function(e){var n,r;if(!e||"object"!=typeof e)return e;if(t(e))return e.slice();n={};for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}}(L),j={},F=function(t,e,n){switch(e){case"splice":return n;case"sort":case"reverse":return null;case"pop":return t.length?[-1]:null;case"push":return[t.length,0].concat(n);case"shift":return[0,1];case"unshift":return[0,0].concat(n)}},I=function(t,e){var n,r,i,o;return e?(n=+(e[0]<0?t.length+e[0]:e[0]),r=Math.max(0,e.length-2),i=void 0!==e[1]?e[1]:t.length-n,i=Math.min(i,t.length-n),o=r-i,{start:n,balance:o,added:r,removed:i}):null},D={TEXT:1,INTERPOLATOR:2,TRIPLE:3,SECTION:4,INVERTED:5,CLOSING:6,ELEMENT:7,PARTIAL:8,COMMENT:9,DELIMCHANGE:10,MUSTACHE:11,TAG:12,ATTRIBUTE:13,COMPONENT:15,NUMBER_LITERAL:20,STRING_LITERAL:21,ARRAY_LITERAL:22,OBJECT_LITERAL:23,BOOLEAN_LITERAL:24,GLOBAL:26,KEY_VALUE_PAIR:27,REFERENCE:30,REFINEMENT:31,MEMBER:32,PREFIX_OPERATOR:33,BRACKETED:34,CONDITIONAL:35,INFIX_OPERATOR:36,INVOCATION:40},P=function po(t,e,n){var r,i;if(n||(i=t._wrapped[e])&&i.teardown()!==!1&&(t._wrapped[e]=null),t._cache[e]=void 0,r=t._cacheMap[e])for(;r.length;)po(t,r.pop())},q=function(){var t=/^\s*[0-9]+\s*$/;return function(e){return t.test(e)?[]:{}}}(),H=function(t,e,n,r,i){function o(t,a,u,c){var l,h,f,p,d,g,v,m;e(t._cache[a],u)||(d=t._computations[a],g=t._wrapped[a],v=t._evaluators[a],d&&!d.setting&&d.set(u),g&&g.reset&&(m=g.reset(u)!==!1,m&&(u=g.get())),v&&(v.value=u),d||v||m||(l=a.split("."),h=l.pop(),f=l.join("."),g=t._wrapped[f],g&&g.set?g.set(h,u):(p=g?g.get():s(t,f),p||(p=n(h),o(t,f,p,!0)),p[h]=u)),r(t,a,m),c||(t._changes.push(a),i(t,a)))}var s;return t.push(function(){s=t.get}),t.set=o,o}(b,d,q,P,S),B=function(t,e,n,r){return function(i,o,s,a){var u,c,l,h,f,p,d,g,v,m;if(u=i.root,c=i.keypath,u._changes.push(c),"sort"===s||"reverse"===s)return void r(u,c,o);if(a){for(l=a.balance?o.length-Math.min(a.balance,0):a.added,f=a.start;l>f;f+=1)e(u,c+"."+f);if(h=function(e){e.keypath===c&&e.type===t.SECTION&&!e.inverted&&e.docFrag?e.splice(a):e.update()},u._deps.forEach(function(t){var e=t[c];e&&e.forEach(h)}),a.added&&a.removed)for(p=Math.max(a.added,a.removed),d=a.start,g=d+p,m=a.added===a.removed,f=d;g>f;f+=1)v=c+"."+f,n(u,v);m||(e(u,c+".length"),n(u,c+".length",!0))}}}(D,P,S,H),W=function(t,e,n,r,i){var o,s,a,u=[],c=["pop","push","reverse","shift","sort","splice","unshift"];return c.forEach(function(o){var s=function(){var e,s,a,u,c;for(e=n(this,o,Array.prototype.slice.call(arguments)),s=r(this,e),a=Array.prototype[o].apply(this,arguments),this._ractive.setting=!0,c=this._ractive.wrappers.length;c--;)u=this._ractive.wrappers[c],t.start(u.root),i(u,this,o,s),t.end();return this._ractive.setting=!1,a};e(u,o,{value:s})}),o={},o.__proto__?(s=function(t){t.__proto__=u},a=function(t){t.__proto__=Array.prototype}):(s=function(t){var n,r;for(n=c.length;n--;)r=c[n],e(t,r,{value:u[r],configurable:!0})},a=function(t){var e;for(e=c.length;e--;)delete t[c[e]]}),s.unpatch=a,s}(O,c,F,I,B),$=function(t,e,n){var r,i,o;return r={filter:function(t){return e(t)&&(!t._ractive||!t._ractive.setting)},wrap:function(t,e,n){return new i(t,e,n)}},i=function(e,r,i){this.root=e,this.value=r,this.keypath=i,r._ractive||(t(r,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),n(r)),r._ractive.instances[e._guid]||(r._ractive.instances[e._guid]=0,r._ractive.instances.push(e)),r._ractive.instances[e._guid]+=1,r._ractive.wrappers.push(this)},i.prototype={get:function(){return this.value},teardown:function(){var t,e,r,i,s;if(t=this.value,e=t._ractive,r=e.wrappers,i=e.instances,e.setting)return!1;if(s=r.indexOf(this),-1===s)throw new Error(o);if(r.splice(s,1),r.length){if(i[this.root._guid]-=1,!i[this.root._guid]){if(s=i.indexOf(this.root),-1===s)throw new Error(o);i.splice(s,1)}}else delete t._ractive,n.unpatch(this.value)}},o="Something went wrong in a rather interesting way",r}(c,L,W),U=function(t,e,n,r,i){function o(e,n,o){function s(e){var o,s;e.value=n,e.updating||(s=e.ractive,o=e.keypath,e.updating=!0,t.start(s),s._changes.push(o),r(s,o),i(s,o),t.end(),e.updating=!1)}var a,u,c,l,h,f;if(a=e.obj,u=e.prop,o&&!o.configurable){if("length"===u)return;throw new Error('Cannot use magic mode with property "'+u+'" - object is not configurable')}o&&(c=o.get,l=o.set),h=c||function(){return n},f=function(t){l&&l(t),n=c?c():t,f._ractiveWrappers.forEach(s)},f._ractiveWrappers=[e],Object.defineProperty(a,u,{get:h,set:f,enumerable:!0,configurable:!0})}var s,a;try{Object.defineProperty({},"test",{value:0})}catch(u){return!1}return s={filter:function(t,e,r){var i,o,s,a,u;return e?(i=e.split("."),o=i.pop(),s=i.join("."),(a=r._wrapped[s])&&!a.magic?!1:(u=r.get(s),n(u)&&/^[0-9]+$/.test(o)?!1:u&&("object"==typeof u||"function"==typeof u))):!1},wrap:function(t,e,n){return new a(t,e,n)}},a=function(t,e,n){var r,i,s,a;return this.magic=!0,this.ractive=t,this.keypath=n,this.value=e,r=n.split("."),this.prop=r.pop(),i=r.join("."),this.obj=i?t.get(i):t.data,s=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),s&&s.set&&(a=s.set._ractiveWrappers)?void(-1===a.indexOf(this)&&a.push(this)):void o(this,e,s)},a.prototype={get:function(){return this.value},reset:function(t){this.updating||(this.updating=!0,this.obj[this.prop]=t,r(this.ractive,this.keypath),this.updating=!1)},set:function(t,n){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=e(t),this.updating=!1),this.obj[this.prop][t]=n)},teardown:function(){var t,e,n,r,i;return this.updating?!1:(t=Object.getOwnPropertyDescriptor(this.obj,this.prop),e=t&&t.set,void(e&&(r=e._ractiveWrappers,i=r.indexOf(this),-1!==i&&r.splice(i,1),r.length||(n=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=n))))}},s}(O,q,L,P,S),V=function(t,e){if(!t)return!1;var n,r;return n={filter:function(n,r,i){return t.filter(n,r,i)&&e.filter(n)},wrap:function(t,e,n){return new r(t,e,n)}},r=function(n,r,i){this.value=r,this.magic=!0,this.magicWrapper=t.wrap(n,r,i),this.arrayWrapper=e.wrap(n,r,i)},r.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(t){return this.magicWrapper.reset(t)}},n}(U,$),z=function(t,e,n,r){function i(t,e){var n,r={};if(!e)return t;e+=".";for(n in t)t.hasOwnProperty(n)&&(r[e+n]=t[n]);return r}function o(t){var e;return s[t]||(e=t?t+".":"",s[t]=function(n,r){var o;return"string"==typeof n?(o={},o[e+n]=r,o):"object"==typeof n?e?i(n,t):n:void 0}),s[t]}var s={};return function(i,s,a,u){var c,l,h,f;for(c=i.adapt.length,l=0;c>l;l+=1){if(h=i.adapt[l],"string"==typeof h){if(!t[h])throw new Error('Missing adaptor "'+h+'"');h=i.adapt[l]=t[h]}if(h.filter(a,s,i))return f=i._wrapped[s]=h.wrap(i,a,s,o(s)),f.value=a,a}return u||(i.magic?r.filter(a,s,i)?i._wrapped[s]=r.wrap(i,a,s):n.filter(a,s,i)&&(i._wrapped[s]=n.wrap(i,a,s)):i.modifyArrays&&e.filter(a,s,i)&&(i._wrapped[s]=e.wrap(i,a,s))),a}}(j,$,U,V),X=function(){function t(t,e){var n,r,i;for(n=e.split(".");n.length;)n.pop(),r=n.join("."),i=t._depsMap[r]||(t._depsMap[r]=[]),void 0===i[e]&&(i[e]=0,i[i.length]=e),i[e]+=1,e=r}return function(e){var n,r,i,o,s;i=e.root,o=e.keypath,s=e.priority,n=i._deps[s]||(i._deps[s]={}),r=n[o]||(n[o]=[]),r.push(e),e.registered=!0,o&&t(i,o)}}(),Q=function(){function t(t,e){var n,r,i;for(n=e.split(".");n.length;)n.pop(),r=n.join("."),i=t._depsMap[r],i[e]-=1,i[e]||(i.splice(i.indexOf(e),1),i[e]=void 0),e=r}return function(e){var n,r,i,o,s;if(i=e.root,o=e.keypath,s=e.priority,n=i._deps[s][o],r=n.indexOf(e),-1===r||!e.registered)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");n.splice(r,1),e.registered=!1,o&&t(i,o)}}(),J=function(t,e,n,r,i,o){var s,a;t.push(function(){s=t.get,a=t.set});var u=function(t,e,n,r,o){this.root=t,this.keypath=e,this.priority=o,this.otherInstance=n,this.otherKeypath=r,i(this),this.value=s(this.root,this.keypath)};return u.prototype={update:function(){var t;this.updating||this.counterpart&&this.counterpart.updating||(t=s(this.root,this.keypath),n(t)&&t._ractive&&t._ractive.setting||r(t,this.value)||(this.updating=!0,e.addInstance(this.otherInstance),a(this.otherInstance,this.otherKeypath,t),this.value=t,this.updating=!1))},reassign:function(t){o(this),o(this.counterpart),this.keypath=t,this.counterpart.otherKeypath=t,i(this),i(this.counterpart)},teardown:function(){o(this)}},function(t,e,n,r){var i,o,s,a,c,l;i=n+"="+r,s=t.bindings,s[i]||(s[i]=!0,o=t.instance,a=t.parentFragment.priority,c=new u(e,n,o,r,a),s.push(c),o.twoway&&(l=new u(o,r,e,n,1),s.push(l),c.counterpart=l,l.counterpart=c))}}(b,O,L,d,X,Q),G=function(t,e,n){function r(t,r,i,o,s){n(r,o,s,!0),e(r.component,t,i,o)}var i;return t.push(function(){i=t.get}),function(t,e){var n,o,s,a,u;if(n=t._parent,o=t.component.parentFragment,o.indexRefs&&void 0!==(u=o.indexRefs[e]))return t.component.indexRefBindings[e]=e,u;do if(o.context&&(s=o.context+"."+e,a=i(n,s),void 0!==a))return r(n,t,s,e,a),a;while(o=o.parent);return a=i(n,e),void 0!==a?(r(n,t,e,e,a),a):void 0}}(b,J,H),Y={FAILED_LOOKUP:!0},K=function(t,e,n,r,i,o){function s(t,e,n){var s,u,c,l,h=t._cache;return void 0===h[e]?((u=t._computations[e])?s=u.value:(c=t._wrapped[e])?s=c.value:e?s=(l=t._evaluators[e])?l.value:a(t,e):(r(t,"",t.data),s=t.data),h[e]=s):s=h[e],s===o&&(s=t._parent&&!t.isolated?i(t,e,n):void 0),n&&n.evaluateWrapped&&(c=t._wrapped[e])&&(s=c.get()),s}function a(t,i){var a,u,c,l,h,f,p,d;return a=i.split("."),u=a.pop(),c=a.join("."),l=s(t,c),(p=t._wrapped[c])&&(l=p.get()),null!==l&&void 0!==l?((h=t._cacheMap[c])?-1===h.indexOf(i)&&h.push(i):t._cacheMap[c]=[i],"object"!=typeof l||u in l?(d=!e.call(l,u),f=d?n(l[u]):l[u],f=r(t,i,f,!1),t._cache[i]=f,f):t._cache[i]=o):void 0}return t.get=s,s}(b,T,M,z,G,Y),Z=function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply?function(){console.warn.apply(console,arguments)}:function(){}}(),te=function(){var t=Object.prototype.toString;return function(e){return"object"==typeof e&&"[object Object]"===t.call(e)}}(),ee=function(t,e,n,r,i){var o,s,a;return t.push(function(){s=t.interpolate}),a=/^([+-]?[0-9]+\.?(?:[0-9]+)?)(px|em|ex|%|in|cm|mm|pt|pc)$/,o={number:function(t,e){var n;return i(t)&&i(e)?(t=+t,e=+e,n=e-t,n?function(e){return t+e*n}:function(){return t}):null},array:function(t,e){var r,i,o,a;if(!n(t)||!n(e))return null;for(r=[],i=[],a=o=Math.min(t.length,e.length);a--;)i[a]=s(t[a],e[a]);for(a=o;a<t.length;a+=1)r[a]=t[a];for(a=o;a<e.length;a+=1)r[a]=e[a];return function(t){for(var e=o;e--;)r[e]=i[e](t);return r}},object:function(t,n){var i,o,a,u,c;if(!r(t)||!r(n))return null;i=[],u={},a={};for(c in t)e.call(t,c)&&(e.call(n,c)?(i.push(c),a[c]=s(t[c],n[c])):u[c]=t[c]);for(c in n)e.call(n,c)&&!e.call(t,c)&&(u[c]=n[c]);return o=i.length,function(t){for(var e,n=o;n--;)e=i[n],u[e]=a[e](t);return u}},cssLength:function(t,e){var n,r,i,o,s,u,c,l;return 0!==t&&"string"!=typeof t||0!==e&&"string"!=typeof e?null:(n=a.exec(t),r=a.exec(e),i=n?n[2]:"",o=r?r[2]:"",i&&o&&i!==o?null:(c=i||o,s=n?+n[1]:0,u=r?+r[1]:0,l=u-s,l?function(t){return s+t*l+c}:function(){return s+c}))}}}(b,T,L,te,h),ne=function(t,e,n){function r(t){return function(){return t}}var i=function(t,i,o,s){if(t===i)return r(i);if(s){if(o.interpolators[s])return o.interpolators[s](t,i)||r(i);e('Missing "'+s+'" interpolator. You may need to download a plugin from [TODO]')}return n.number(t,i)||n.array(t,i)||n.object(t,i)||n.cssLength(t,i)||r(i)};return t.interpolate=i,i}(b,Z,ee),re=function(t,e,n,r){var i=function(t){var e;this.startTime=Date.now();for(e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);this.interpolator=n(this.from,this.to,this.root,this.interpolator),this.running=!0};return i.prototype={tick:function(){var n,i,o,s,a,u;return u=this.keypath,this.running?(s=Date.now(),n=s-this.startTime,n>=this.duration?(null!==u&&(e.start(this.root),r(this.root,u,this.to),e.end()),this.step&&this.step(1,this.to),this.complete(this.to),a=this.root._animations.indexOf(this),-1===a&&t("Animation was not found"),this.root._animations.splice(a,1),this.running=!1,!1):(i=this.easing?this.easing(n/this.duration):n/this.duration,null!==u&&(o=this.interpolator(i),e.start(this.root),r(this.root,u,o),e.end()),this.step&&this.step(i,o),!0)):!1},stop:function(){var e;this.running=!1,e=this.root._animations.indexOf(this),-1===e&&t("Animation was not found"),this.root._animations.splice(e,1)}},i}(Z,O,ne,H),ie=function(t,e,n,r,i,o){function s(e,s,a,c){var l,h,f,p;return s&&(s=n(s)),null!==s&&(p=i(e,s)),r.abort(s,e),t(p,a)?(c.complete&&c.complete(c.to),u):(c.easing&&(l="function"==typeof c.easing?c.easing:e.easing[c.easing],"function"!=typeof l&&(l=null)),h=void 0===c.duration?400:c.duration,f=new o({keypath:s,from:p,to:a,root:e,duration:h,easing:l,interpolator:c.interpolator,step:c.step,complete:c.complete}),r.add(f),e._animations.push(f),f)}var a=function(){},u={stop:a};return function(t,n,r){var i,o,u,c,l,h,f,p,d,g,v,m,y,w;if(i=new e(function(t){o=t}),"object"==typeof t){r=n||{},h=r.easing,f=r.duration,l=[],p=r.step,d=r.complete,(p||d)&&(v={},r.step=null,r.complete=null,g=function(t){return function(e,n){v[t]=n}});for(u in t)t.hasOwnProperty(u)&&((p||d)&&(m=g(u),r={easing:h,duration:f},p&&(r.step=m)),r.complete=d?m:a,l.push(s(this,u,t[u],r)));return(p||d)&&(w={easing:h,duration:f},p&&(w.step=function(t){p(t,v)}),d&&i.then(function(t){d(t,v)}),w.complete=o,y=s(this,null,null,w),l.push(y)),{stop:function(){for(var t;t=l.pop();)t.stop();y&&y.stop()}}}return r=r||{},r.complete&&i.then(r.complete),r.complete=o,c=s(this,t,n,r),i.stop=function(){c.stop()},i}}(d,g,v,R,K,re),oe=function(){return this.fragment.detach()},se=function(t){return this.el?this.fragment.find(t):null},ae=function(t,e,n){var r,i,o,s,a,u,c;if(t){for(r=n("div"),i=["matches","matchesSelector"],c=function(t){return function(e,n){return e[t](n)}},a=i.length;a--;){if(o=i[a],r[o])return c(o);for(u=e.length;u--;)if(s=e[a]+o.substr(0,1).toUpperCase()+o.substring(1),r[s])return c(s)}return function(t,e){var n,r;for(n=(t.parentNode||t.document).querySelectorAll(e),r=n.length;r--;)if(n[r]===t)return!0;return!1}}}(u,m,a),ue=function(t){return function(e,n){var r=this._isComponentQuery?!this.selector||e.name===this.selector:t(e.node,this.selector);return r?(this.push(e.node||e.instance),n||this._makeDirty(),!0):void 0}}(ae),ce=function(){var t,e,n;t=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],e=this.selector,n=t.indexOf(e),-1!==n&&(t.splice(n,1),t[e]=null)},le=function(){function t(t){var e;return(e=t.parentFragment)?e.owner:t.component&&(e=t.component.parentFragment)?e.owner:void 0}function e(e){var n,r;for(n=[e],r=t(e);r;)n.push(r),r=t(r);return n}return function(t,n){var r,i,o,s,a,u,c,l,h,f;for(r=e(t.component||t._ractive.proxy),i=e(n.component||n._ractive.proxy),o=r[r.length-1],s=i[i.length-1];o&&o===s;)r.pop(),i.pop(),a=o,o=r[r.length-1],s=i[i.length-1];if(o=o.component||o,s=s.component||s,h=o.parentFragment,f=s.parentFragment,h===f)return u=h.items.indexOf(o),c=f.items.indexOf(s),u-c||r.length-i.length;if(l=a.fragments)return u=l.indexOf(h),c=l.indexOf(f),u-c||r.length-i.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")}}(),he=function(t){return function(e,n){var r;return e.compareDocumentPosition?(r=e.compareDocumentPosition(n),2&r?1:-1):t(e,n)}}(le),fe=function(t,e){return function(){this.sort(this._isComponentQuery?e:t),this._dirty=!1}}(he,le),pe=function(t){return function(){this._dirty||(t.addLiveQuery(this),this._dirty=!0)}}(O),de=function(t){var e=this.indexOf(this._isComponentQuery?t.instance:t);-1!==e&&this.splice(e,1)},ge=function(t,e,n,r,i,o){return function(s,a,u,c){var l=[];return t(l,{selector:{value:a},live:{value:u},_isComponentQuery:{value:c},_test:{value:e}}),u?(t(l,{cancel:{value:n},_root:{value:s},_sort:{value:r},_makeDirty:{value:i},_remove:{value:o},_dirty:{value:!1,writable:!0}}),l):l}}(l,ue,ce,fe,pe,de),ve=function(t){return function(e,n){var r,i;return this.el?(n=n||{},r=this._liveQueries,(i=r[e])?n&&n.live?i:i.slice():(i=t(this,e,!!n.live,!1),i.live&&(r.push(e),r[e]=i),this.fragment.findAll(e,i),i)):[]}}(ge),me=function(t){return function(e,n){var r,i;return n=n||{},r=this._liveComponentQueries,(i=r[e])?n&&n.live?i:i.slice():(i=t(this,e,!!n.live,!0),i.live&&(r.push(e),r[e]=i),this.fragment.findAllComponents(e,i),i)}}(ge),ye=function(t){return this.fragment.findComponent(t)},we=function(t){var e,n,r,i=this._subs[t];if(i)for(e=Array.prototype.slice.call(arguments,1),n=0,r=i.length;r>n;n+=1)i[n].apply(this,e)},be=function(t,e,n,r){var i,o={};t.push(function(){i=t.get});var s=function(t,e){this.root=t,this.ref=e,this.parentFragment=o,t._unresolvedImplicitDependencies[e]=!0,t._unresolvedImplicitDependencies.push(this),n.addUnresolved(this)};return s.prototype={resolve:function(){var t=this.root;r(t,this.ref),t._unresolvedImplicitDependencies[this.ref]=!1,e(t._unresolvedImplicitDependencies,this)},teardown:function(){n.removeUnresolved(this)}},s}(b,x,O,S),xe=function(t,e,n){var r={isTopLevel:!0};return function(i){var o;return i=t(i),o=e(this,i,r),this._captured&&this._captured[i]!==!0&&(this._captured.push(i),this._captured[i]=!0,void 0===o&&this._unresolvedImplicitDependencies[i]!==!0&&new n(this,i)),o}}(v,K,be),ke=function(t){var e;return"undefined"!=typeof window&&document&&t?t.nodeType?t:"string"==typeof t&&(e=document.getElementById(t),!e&&document.querySelector&&(e=document.querySelector(t)),e&&e.nodeType)?e:t[0]&&t[0].nodeType?t[0]:null:null},Ee=function(t){return function(e,n){if(e=t(e),n=t(n)||null,!e)throw new Error("You must specify a valid target to insert into");e.insertBefore(this.detach(),n),this.fragment.pNode=this.el=e}}(ke),Te=function(t,e){var n,r,i,o;return n={},r=0,i=t.map(function(t,i){var s,a,u;a=r,u=e.length;do{if(s=e.indexOf(t,a),-1===s)return o=!0,-1;a=s+1}while(n[s]&&u>a);return s===r&&(r+=1),s!==i&&(o=!0),n[s]=!0,s}),i.unchanged=!o,i},_e=function(t,e){return function(n,r,i,o){var s;n._changes.push(r),s=function(e){e.type===t.REFERENCE?e.update():e.keypath===r&&e.type===t.SECTION&&!e.inverted&&e.docFrag?e.merge(i):e.update()},n._deps.forEach(function(t){var e=t[r];e&&e.forEach(s)}),o||e(n,r+".length",!0)}}(D,S),Ne=function(t,e,n,r,i,o,s){function a(t){return JSON.stringify(t)}function u(t){if(t===!0)return a;if("string"==typeof t)return c[t]||(c[t]=function(e){return e[t]}),c[t];if("function"==typeof t)return t;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}var c={};return function(a,c,l){var h,f,p,d,g,v,m,y;if(h=this.get(a),!n(h)||!n(c))return this.set(a,c,l&&l.complete);if(g=h.length===c.length,l&&l.compare){d=u(l.compare);try{f=h.map(d),p=c.map(d)}catch(w){if(this.debug)throw w;e("Merge operation: comparison failed. Falling back to identity checking"),f=h,p=c}}else f=h,p=c;return v=o(f,p),m=new r(function(t){y=t}),t.start(this,y),i(this,a,c,!0),s(this,a,v,g),t.end(),l&&l.complete&&m.then(l.complete),m}}(O,Z,L,g,H,Te,_e),Ce=function(t,e,n){var r=function(t,e,n,r){var i=this;this.root=t,this.keypath=e,this.callback=n,this.defer=r.defer,this.debug=r.debug,this.proxy={update:function(){i.reallyUpdate()}},this.priority=0,this.context=r&&r.context?r.context:t};return r.prototype={init:function(t){t!==!1?this.update():this.value=n(this.root,this.keypath)},update:function(){return this.defer&&this.ready?void t.addObserver(this.proxy):void this.reallyUpdate()},reallyUpdate:function(){var t,r;if(t=this.value,r=n(this.root,this.keypath),this.value=r,!this.updating){if(this.updating=!0,!e(r,t)||!this.ready)try{this.callback.call(this.context,r,t,this.keypath)}catch(i){if(this.debug||this.root.debug)throw i}this.updating=!1}}},r}(O,d,K),Se=function(t){return function(e,n){var r,i,o,s,a,u,c;for(r=n.split("."),s=[],u=function(n){var r,i;r=e._wrapped[n]?e._wrapped[n].get():e.get(n);for(i in r)!r.hasOwnProperty(i)||"_ractive"===i&&t(r)||a.push(n+"."+i)},c=function(t){return t+"."+i};i=r.shift();)"*"===i?(a=[],s.forEach(u),s=a):s[0]?s=s.map(c):s[0]=i;return o={},s.forEach(function(t){o[t]=e.get(t)}),o}}(L),Ae=function(t,e,n,r){var i,o=/\*/;return i=function(t,e,n,r){this.root=t,this.callback=n,this.defer=r.defer,this.debug=r.debug,this.keypath=e,this.regex=new RegExp("^"+e.replace(/\./g,"\\.").replace(/\*/g,"[^\\.]+")+"$"),this.values={},this.defer&&(this.proxies=[]),this.priority="pattern",this.context=r&&r.context?r.context:t},i.prototype={init:function(t){var e,n;if(e=r(this.root,this.keypath),t!==!1)for(n in e)e.hasOwnProperty(n)&&this.update(n);else this.values=e},update:function(e){var n;{if(!o.test(e))return this.defer&&this.ready?void t.addObserver(this.getProxy(e)):void this.reallyUpdate(e);n=r(this.root,e);for(e in n)n.hasOwnProperty(e)&&this.update(e)}},reallyUpdate:function(t){var r=n(this.root,t);if(this.updating)return void(this.values[t]=r);if(this.updating=!0,!e(r,this.values[t])||!this.ready){try{this.callback.call(this.context,r,this.values[t],t)}catch(i){if(this.debug||this.root.debug)throw i}this.values[t]=r}this.updating=!1},getProxy:function(t){var e=this;return this.proxies[t]||(this.proxies[t]={update:function(){e.reallyUpdate(t)}}),this.proxies[t]}},i}(O,d,K,Se),Oe=function(t,e,n,r,i){var o=/\*/,s={};return function(a,u,c,l){var h,f;return u=t(u),l=l||s,o.test(u)?(h=new i(a,u,c,l),a._patternObservers.push(h),f=!0):h=new r(a,u,c,l),e(h),h.init(l.init),h.ready=!0,{cancel:function(){var t;f&&(t=a._patternObservers.indexOf(h),-1!==t&&a._patternObservers.splice(t,1)),n(h)}}}}(v,X,Q,Ce,Ae),Re=function(t,e){return function(n,r,i){var o,s,a,u;if(t(n)){i=r,s=n,o=[];for(n in s)s.hasOwnProperty(n)&&(r=s[n],o.push(this.observe(n,r,i)));return{cancel:function(){for(;o.length;)o.pop().cancel()}}}if("function"==typeof n)return i=r,r=n,n="",e(this,n,r,i);if(a=n.split(" "),1===a.length)return e(this,n,r,i);for(o=[],u=a.length;u--;)n=a[u],n&&o.push(e(this,n,r,i));return{cancel:function(){for(;o.length;)o.pop().cancel()}}}}(te,Oe),Le=function(t,e){var n,r;if(!e)if(t)this._subs[t]=[];else for(t in this._subs)delete this._subs[t];n=this._subs[t],n&&(r=n.indexOf(e),-1!==r&&n.splice(r,1))},Me=function(t,e){var n,r,i=this;if("object"==typeof t){n=[];for(r in t)t.hasOwnProperty(r)&&n.push(this.on(r,t[r]));return{cancel:function(){for(var t;t=n.pop();)t.cancel()}}}return this._subs[t]?this._subs[t].push(e):this._subs[t]=[e],{cancel:function(){i.off(t,e)}}},je=function(){var t;try{Object.create(null),t=Object.create}catch(e){t=function(){var t=function(){};return function(e,n){var r;return null===e?{}:(t.prototype=e,r=new t,n&&Object.defineProperties(r,n),r)}}()}return t}(),Fe=function(t,e){return function(n,r){var i,o,s,a,u;if(n.owner=r.owner,s=n.parent=n.owner.parentFragment,n.root=r.root,n.pNode=r.pNode,n.pElement=r.pElement,n.context=r.context,n.owner.type===t.SECTION&&(n.index=r.index),s&&(a=s.indexRefs)){n.indexRefs=e(null);for(u in a)n.indexRefs[u]=a[u]}for(n.priority=s?s.priority+1:1,r.indexRef&&(n.indexRefs||(n.indexRefs={}),n.indexRefs[r.indexRef]=r.index),n.items=[],i=r.descriptor?r.descriptor.length:0,o=0;i>o;o+=1)n.items[n.items.length]=n.createItem({parentFragment:n,pElement:r.pElement,descriptor:r.descriptor[o],index:o})}}(D,je),Ie=function(t,e){return t.substr(0,e.length+1)===e+"."},De=function(t){return function(e,n){return e===n||t(e,n)}}(Ie),Pe=function(t){return function(e,n,r){return e===n?r:t(e,n)?e.replace(n+".",r+"."):void 0}}(Ie),qe=function(t,e){return function(n,r,i,o){n[r]&&!t(n[r],o)&&(n[r]=e(n[r],i,o))}}(De,Pe),He=function(t){return function(e,n,r,i){void 0===this.html&&(t(this,"context",r,i),this.indexRefs&&void 0!==this.indexRefs[e]&&this.indexRefs[e]!==n&&(this.indexRefs[e]=n),this.items.forEach(function(t){t.reassign(e,n,r,i)}))}}(qe),Be=function(t,e){return{init:t,reassign:e}}(Fe,He),We=function(t,e){function n(t){return o[t]||(o[t]=e(t))}var r,i,o={};try{e("table").innerHTML="foo"}catch(s){r=!0,i={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}return function(e,o,s,a){var u,c,l=[];if(e)for(r&&(c=i[o])?(u=n("DIV"),u.innerHTML=c[0]+e+c[1],u=u.querySelector(".x")):s===t.svg?(u=n("DIV"),u.innerHTML='<svg class="x">'+e+"</svg>",u=u.querySelector(".x")):(u=n(o),u.innerHTML=e);u.firstChild;)l.push(u.firstChild),a.appendChild(u.firstChild);return l}}(s,a),$e=function(){var t,e=this.node;return e&&(t=e.parentNode)?(t.removeChild(e),e):void 0},Ue=function(t,e){var n,r,i;return r=/</g,i=/>/g,n=function(e,n){this.type=t.TEXT,this.descriptor=e.descriptor,n&&(this.node=document.createTextNode(e.descriptor),n.appendChild(this.node))},n.prototype={detach:e,reassign:function(){},teardown:function(t){t&&this.detach()},firstNode:function(){return this.node},toString:function(){return(""+this.descriptor).replace(r,"&lt;").replace(i,"&gt;")}},n}(D,$e),Ve=function(t,e){return function(n){n.keypath?e(n):t.removeUnresolved(n)}}(O,Q),ze=function(t){var e=function(e,n,r,i){this.root=e,this.ref=n,this.parentFragment=r,this.resolve=i,t.addUnresolved(this)};return e.prototype={teardown:function(){t.removeUnresolved(this)}},e}(O),Xe=function(t,e,n,r,i){function o(t,e,r){var i,o,s;if(!a.test(t.toString()))return n(t,"_nowrap",{value:!0}),t;if(!t["_"+e._guid]){n(t,"_"+e._guid,{value:function(){var n,r,i,s;if(n=e._captured,n||(e._captured=[]),r=t.apply(e,arguments),e._captured.length)for(i=o.length;i--;)s=o[i],s.updateSoftDependencies(e._captured);return e._captured=n,r},writable:!0});for(i in t)t.hasOwnProperty(i)&&(t["_"+e._guid][i]=t[i]);t["_"+e._guid+"_evaluators"]=[]}return o=t["_"+e._guid+"_evaluators"],s=o.indexOf(r),-1===s&&o.push(r),t["_"+e._guid]}var s,a;return a=/this/,s=function(e,n,i,s,a){var u;this.evaluator=i,this.keypath=n,this.root=e,this.argNum=s,this.type=t.REFERENCE,this.priority=a,u=e.get(n),"function"==typeof u&&(u=o(u,e,i)),this.value=i.values[s]=u,r(this)},s.prototype={update:function(){var t=this.root.get(this.keypath);"function"!=typeof t||t._nowrap||(t=o(t,this.root,this.evaluator)),e(t,this.value)||(this.evaluator.values[this.argNum]=t,this.evaluator.bubble(),this.value=t)},teardown:function(){i(this)}},s}(D,d,c,X,Q),Qe=function(t,e,n){var r=function(t,n,r){this.root=t,this.keypath=n,this.priority=r.priority,this.evaluator=r,e(this)};return r.prototype={update:function(){var e=this.root.get(this.keypath);t(e,this.value)||(this.evaluator.bubble(),this.value=e)},teardown:function(){n(this)}},r}(d,X,Q),Je=function(t,e,n,r,i,o,s,a){function u(t,e){var n,r;if(t=t.replace(/\$\{([0-9]+)\}/g,"_$1"),l[t])return l[t];for(r=[];e--;)r[e]="_"+e;return n=new Function(r.join(","),"return("+t+")"),l[t]=n,n}var c,l={};return c=function(t,e,n,r,i,o){var a=this;a.root=t,a.uniqueString=n,a.keypath=e,a.priority=o,a.fn=u(r,i.length),a.values=[],a.refs=[],i.forEach(function(e,n){e&&(e.indexRef?a.values[n]=e.value:a.refs.push(new s(t,e.keypath,a,n,o)))}),a.selfUpdating=a.refs.length<=1},c.prototype={bubble:function(){this.selfUpdating?this.update():this.deferred||(t.addEvaluator(this),this.deferred=!0)},update:function(){var t;if(this.evaluating)return this;this.evaluating=!0;try{t=this.fn.apply(null,this.values)}catch(s){this.root.debug&&e('Error evaluating "'+this.uniqueString+'": '+s.message||s),t=void 0}return n(t,this.value)||(this.value=t,r(this.root,this.keypath),o(this.root,this.keypath,t,!0),i(this.root,this.keypath)),this.evaluating=!1,this},teardown:function(){for(;this.refs.length;)this.refs.pop().teardown();r(this.root,this.keypath),this.root._evaluators[this.keypath]=null},refresh:function(){this.selfUpdating||(this.deferred=!0);for(var t=this.refs.length;t--;)this.refs[t].update();this.deferred&&(this.update(),this.deferred=!1)},updateSoftDependencies:function(t){var e,n,r;for(this.softRefs||(this.softRefs=[]),e=this.softRefs.length;e--;)r=this.softRefs[e],t[r.keypath]||(this.softRefs.splice(e,1),this.softRefs[r.keypath]=!1,r.teardown());
for(e=t.length;e--;)n=t[e],this.softRefs[n]||(r=new a(this.root,n,this),this.softRefs.push(r),this.softRefs[n]=!0);this.selfUpdating=this.refs.length+this.softRefs.length<=1}},c}(O,Z,d,P,S,z,Xe,Qe),Ge=function(t,e,n,r,i){function o(t,e){return t.replace(/\$\{([0-9]+)\}/g,function(t,n){return e[n]?e[n].value||e[n].keypath:"undefined"})}function s(t){return"${"+t.replace(/[\.\[\]]/g,"-")+"}"}var a=function(r,i,o,s){var a,u,c,l=this;return a=r.root,this.root=a,this.callback=s,this.owner=r,this.str=o.s,this.args=c=[],this.unresolved=[],this.pending=0,u=i.indexRefs,o.r&&o.r.length?(o.r.forEach(function(r,o){var s,h,f;return u&&void 0!==(s=u[r])?void(c[o]={indexRef:r,value:s}):(h=e(a,r,i))?void(c[o]={keypath:h}):(c[o]=void 0,l.pending+=1,f=new n(a,r,i,function(e){l.resolve(o,e),t(l.unresolved,f)}),void l.unresolved.push(f))}),this.ready=!0,void this.bubble()):(this.resolved=this.ready=!0,void this.bubble())};return a.prototype={bubble:function(){this.ready&&(this.uniqueString=o(this.str,this.args),this.keypath=s(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},teardown:function(){for(var t;t=this.unresolved.pop();)t.teardown()},resolve:function(t,e){this.args[t]={keypath:e},this.bubble(),this.resolved=!--this.pending},createEvaluator:function(){var t;this.root._evaluators[this.keypath]?this.root._evaluators[this.keypath].refresh():(t=new r(this.root,this.keypath,this.uniqueString,this.str,this.args,this.owner.priority),this.root._evaluators[this.keypath]=t,t.update())},reassign:function(t,e,n,r){var o;this.args.forEach(function(s){var a;s.keypath&&(a=i(s.keypath,n,r))?(s.keypath=a,o=!0):s.indexRef===t&&(s.value=e,o=!0)}),o&&this.bubble()}},a}(x,N,ze,Je,Pe),Ye=function(t,e,n,r,i,o,s){var a=function(i,o,a){var c,l,h,f,p,d=this;return c=i.root,l=i.parentFragment,this.ref=o.r,this.root=i.root,this.mustache=i,this.callback=a,this.pending=0,this.unresolved=[],p=this.members=[],this.indexRefMembers=[],this.keypathObservers=[],this.expressionResolvers=[],o.m.forEach(function(o,a){var g,v,m,y,w,b;return"string"==typeof o?void(d.members[a]=o):o.t===t.REFERENCE?(g=o.n,v=l.indexRefs,v&&void 0!==(m=v[g])?(p[a]=m,void d.indexRefMembers.push({ref:g,index:a})):(f=!0,y=function(t){var e=new u(c,t,i.priority,d,a);d.keypathObservers.push(e)},(h=n(c,g,l))?void y(h):(p[a]=void 0,d.pending+=1,w=new r(c,g,l,function(t){d.resolve(a,t),e(d.unresolved,w)}),d.unresolved.push(w),null))):(f=!0,d.pending+=1,b=new s(d,l,o,function(t){d.resolve(a,t),e(d.unresolved,b)}),void d.unresolved.push(b))}),f?(this.ready=!0,void this.bubble()):(h=this.getKeypath(),void a(h))};a.prototype={getKeypath:function(){return this.ref+"."+this.members.join(".")},bubble:function(){this.ready&&!this.pending&&this.callback(this.getKeypath())},resolve:function(t,e){var n=new u(this.root,e,this.mustache.priority,this,t);n.update(),this.keypathObservers.push(n),this.resolved=!--this.pending,this.bubble()},teardown:function(){for(var t;t=this.unresolved.pop();)t.teardown()},reassign:function(t,e){var n,r,i;for(r=this.indexRefMembers.length;r--;)i=this.indexRefMembers[r],i.ref===t&&(n=!0,this.members[i.index]=e);n&&this.bubble()}};var u=function(t,e,n,r,o){this.root=t,this.keypath=e,this.priority=n,this.resolver=r,this.index=o,i(this),this.update()};return u.prototype={update:function(){var t=this.resolver;t.members[this.index]=this.root.get(this.keypath),t.bubble()},teardown:function(){o(this)}},a}(D,x,N,ze,X,Q,Ge),Ke=function(t,e,n,r){return function(i,o){var s,a,u,c,l,h,f;l=o.parentFragment,h=o.descriptor,i.root=l.root,i.parentFragment=l,i.descriptor=o.descriptor,i.index=o.index||0,i.priority=l.priority,i.type=o.descriptor.t,f=function(t){i.resolve(t)},(s=h.r)&&(u=l.indexRefs,u&&void 0!==(c=u[s])?(i.indexRef=s,i.value=c,i.render(i.value)):(a=e(i.root,s,i.parentFragment),void 0!==a?f(a):(i.ref=s,t.addUnresolved(i)))),o.descriptor.x&&(i.resolver=new r(i,l,o.descriptor.x,f)),o.descriptor.kx&&(i.resolver=new n(i,o.descriptor.kx,f)),i.descriptor.n&&!i.hasOwnProperty("value")&&i.render(void 0)}}(O,N,Ye,Ge),Ze=function(t,e){var n={evaluateWrapped:!0};return function(){var r=e(this.root,this.keypath,n);t(r,this.value)||(this.render(r),this.value=r)}}(d,K),tn=function(t,e,n){return function(r){var i;if(r!==this.keypath){if(this.registered&&(n(this),this.type===t.SECTION))for(i=this.fragments.length;i--;)this.fragments[i].reassign(null,null,this.keypath,r);this.keypath=r,e(this),this.update()}}}(D,X,Q),en=function(t){return function(e,n,r,i){var o,s;if(this.resolver?this.resolver.reassign(e,n,r,i):this.keypath?(o=t(this.keypath,r,i),o&&this.resolve(o)):void 0!==e&&this.indexRef===e&&(this.value=n,this.render(n)),this.fragments)for(s=this.fragments.length;s--;)this.fragments[s].reassign(e,n,r,i)}}(Pe),nn=function(t,e,n,r){return{init:t,update:e,resolve:n,reassign:r}}(Ke,Ze,tn,en),rn=function(t,e,n,r){var i,o,s;return o=/</g,s=/>/g,i=function(e,r){this.type=t.INTERPOLATOR,r&&(this.node=document.createTextNode(""),r.appendChild(this.node)),n.init(this,e)},i.prototype={update:n.update,resolve:n.resolve,reassign:n.reassign,detach:r,teardown:function(t){t&&this.detach(),e(this)},render:function(t){this.node&&(this.node.data=void 0==t?"":t)},firstNode:function(){return this.node},toString:function(){var t=void 0!=this.value?""+this.value:"";return t.replace(o,"&lt;").replace(s,"&gt;")}},i}(D,Ve,nn,$e),on=function(t){var e,n,r,i,o,s,a,u,c=this;if(e=this.parentFragment,o=[],t.forEach(function(t,e){var r,i,s,a;return t===e?void(o[t]=c.fragments[e]):(void 0===n&&(n=e),-1===t?void c.fragments[e].teardown(!0):(r=c.fragments[e],i=t-e,s=c.keypath+"."+e,a=c.keypath+"."+t,r.reassign(c.descriptor.i,t,s,a),void(o[t]=r)))}),void 0===n&&(n=this.length),this.length=i=this.root.get(this.keypath).length,i!==n){for(s={descriptor:this.descriptor.f,root:this.root,pNode:e.pNode,owner:this},this.descriptor.i&&(s.indexRef=this.descriptor.i),r=n;i>r;r+=1)(a=o[r])?this.docFrag.appendChild(a.detach(!1)):(s.context=this.keypath+"."+r,s.index=r,a=this.createFragment(s)),this.fragments[r]=a;u=e.findNextNode(this),e.pNode.insertBefore(this.docFrag,u)}},sn=function(t,e){function n(t,e,n){var r,i,o;if(i=e.length,i<t.length)for(o=t.fragments.splice(i,t.length-i);o.length;)o.pop().teardown(!0);else if(i>t.length)for(r=t.length;i>r;r+=1)n.context=t.keypath+"."+r,n.index=r,t.descriptor.i&&(n.indexRef=t.descriptor.i),t.fragments[r]=t.createFragment(n);t.length=i}function r(t,e,n){var r,i,o,s;for(o=t.hasKey||(t.hasKey={}),i=t.fragments.length;i--;)s=t.fragments[i],s.index in e||(t.fragments[i].teardown(!0),t.fragments.splice(i,1),o[s.index]=!1);for(r in e)o[r]||(n.context=t.keypath+"."+r,n.index=r,t.descriptor.i&&(n.indexRef=t.descriptor.i),t.fragments.push(t.createFragment(n)),o[r]=!0);t.length=t.fragments.length}function i(t,e){t.length||(e.context=t.keypath,e.index=0,t.fragments[0]=t.createFragment(e),t.length=1)}function o(e,n,r,i){var o,s,a,u;if(s=t(n)&&0===n.length,o=r?s||!n:n&&!s){if(e.length||(i.index=0,e.fragments[0]=e.createFragment(i),e.length=1),e.length>1)for(a=e.fragments.splice(1);u=a.pop();)u.teardown(!0)}else e.length&&(e.teardownFragments(!0),e.length=0)}return function(s,a){var u={descriptor:s.descriptor.f,root:s.root,pNode:s.parentFragment.pNode,pElement:s.parentFragment.pElement,owner:s};return s.descriptor.n?void o(s,a,!0,u):void(t(a)?n(s,a,u):e(a)||"function"==typeof a?s.descriptor.i?r(s,a,u):i(s,u):o(s,a,!1,u))}}(L,te),an=function(t,e){return function(n){var r,i;(i=this.root._wrapped[this.keypath])&&(n=i.get()),this.rendering||(this.rendering=!0,e(this,n),this.rendering=!1,(!this.docFrag||this.docFrag.childNodes.length)&&!this.initialising&&t&&(r=this.parentFragment.findNextNode(this),r&&r.parentNode===this.parentFragment.pNode?this.parentFragment.pNode.insertBefore(this.docFrag,r):this.parentFragment.pNode.appendChild(this.docFrag)))}}(u,sn),un=function(t,e,n,r){var i,o,s,a,u;for(s=t.descriptor.i,i=e;n>i;i+=1)o=t.fragments[i],a=t.keypath+"."+(i-r),u=t.keypath+"."+i,o.index=i,o.reassign(s,i,a,u)},cn=function(t){function e(t){t.teardown(!0)}function n(t,e,n){var r,i,o;for(t.rendering=!0,r={descriptor:t.descriptor.f,root:t.root,pNode:t.parentFragment.pNode,owner:t,indexRef:t.descriptor.i},i=e;n>i;i+=1)r.context=t.keypath+"."+i,r.index=i,t.fragments[i]=t.createFragment(r);o=t.fragments[n]?t.fragments[n].firstNode():t.parentFragment.findNextNode(t),t.parentFragment.pNode.insertBefore(t.docFrag,o),t.rendering=!1}return function(r){var i,o,s,a,u,c=this;if(i=r.balance){if(o=r.start,c.length+=i,0>i)return c.fragments.splice(o,-i).forEach(e),void t(c,o,c.length,i);s=o+r.removed,a=o+r.added,u=[s,0],u.length+=i,c.fragments.splice.apply(c.fragments,u),t(c,a,c.length,i),n(c,s,a)}}}(un),ln=function(t,e,n,r,i,o,s){var a,u;return s.push(function(){u=s.DomFragment}),a=function(n,r){this.type=t.SECTION,this.inverted=!!n.descriptor.n,this.fragments=[],this.length=0,r&&(this.docFrag=document.createDocumentFragment()),this.initialising=!0,e.init(this,n),r&&r.appendChild(this.docFrag),this.initialising=!1},a.prototype={update:e.update,resolve:e.resolve,reassign:e.reassign,splice:i,merge:n,detach:function(){var t,e;if(this.docFrag){for(e=this.fragments.length,t=0;e>t;t+=1)this.docFrag.appendChild(this.fragments[t].detach());return this.docFrag}},teardown:function(t){this.teardownFragments(t),o(this)},firstNode:function(){return this.fragments[0]?this.fragments[0].firstNode():this.parentFragment.findNextNode(this)},findNextNode:function(t){return this.fragments[t.index+1]?this.fragments[t.index+1].firstNode():this.parentFragment.findNextNode(this)},teardownFragments:function(t){for(var e;e=this.fragments.shift();)e.teardown(t)},render:r,createFragment:function(t){var e=new u(t);return this.docFrag&&this.docFrag.appendChild(e.docFrag),e},toString:function(){var t,e,n;for(t="",e=0,n=this.length,e=0;n>e;e+=1)t+=this.fragments[e].toString();return t},find:function(t){var e,n,r;for(n=this.fragments.length,e=0;n>e;e+=1)if(r=this.fragments[e].find(t))return r;return null},findAll:function(t,e){var n,r;for(r=this.fragments.length,n=0;r>n;n+=1)this.fragments[n].findAll(t,e)},findComponent:function(t){var e,n,r;for(n=this.fragments.length,e=0;n>e;e+=1)if(r=this.fragments[e].findComponent(t))return r;return null},findAllComponents:function(t,e){var n,r;for(r=this.fragments.length,n=0;r>n;n+=1)this.fragments[n].findAllComponents(t,e)}},a}(D,nn,on,an,cn,Ve,b),hn=function(t,e,n,r,i){var o=function(e,r){this.type=t.TRIPLE,r&&(this.nodes=[],this.docFrag=document.createDocumentFragment()),this.initialising=!0,n.init(this,e),r&&r.appendChild(this.docFrag),this.initialising=!1};return o.prototype={update:n.update,resolve:n.resolve,reassign:n.reassign,detach:function(){var t,e;if(this.docFrag){for(t=this.nodes.length,e=0;t>e;e+=1)this.docFrag.appendChild(this.nodes[e]);return this.docFrag}},teardown:function(t){t&&(this.detach(),this.docFrag=this.nodes=null),i(this)},firstNode:function(){return this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)},render:function(t){var e,n;if(this.nodes){for(;this.nodes.length;)e=this.nodes.pop(),e.parentNode.removeChild(e);if(!t)return void(this.nodes=[]);n=this.parentFragment.pNode,this.nodes=r(t,n.tagName,n.namespaceURI,this.docFrag),this.initialising||n.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),"SELECT"===n.tagName&&n._ractive&&n._ractive.binding&&n._ractive.binding.update()}},toString:function(){return void 0!=this.value?this.value:""},find:function(t){var n,r,i,o;for(r=this.nodes.length,n=0;r>n;n+=1)if(i=this.nodes[n],1===i.nodeType){if(e(i,t))return i;if(o=i.querySelector(t))return o}return null},findAll:function(t,n){var r,i,o,s,a,u;for(i=this.nodes.length,r=0;i>r;r+=1)if(o=this.nodes[r],1===o.nodeType&&(e(o,t)&&n.push(o),s=o.querySelectorAll(t)))for(a=s.length,u=0;a>u;u+=1)n.push(s[u])}},o}(D,ae,nn,We,Ve),fn=function(t){return function(e,n){return e.a&&e.a.xmlns?e.a.xmlns:"svg"===e.e?t.svg:n.namespaceURI||t.html}}(s),pn=function(){var t,e,n,r;return t="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),e="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),n=function(t){for(var e={},n=t.length;n--;)e[t[n].toLowerCase()]=t[n];return e},r=n(t.concat(e)),function(t){var e=t.toLowerCase();return r[e]||e}}(),dn=function(t,e){return function(n,r){var i,o;if(i=r.indexOf(":"),-1===i||(o=r.substr(0,i),"xmlns"===o))n.name=n.element.namespace!==t.html?e(r):r,n.lcName=n.name.toLowerCase();else if(r=r.substring(i+1),n.name=e(r),n.lcName=n.name.toLowerCase(),n.namespace=t[o.toLowerCase()],!n.namespace)throw'Unknown namespace ("'+o+'")'}}(s,pn),gn=function(t){return function(e,n){var r,i=null===n.value?"":n.value;(r=n.pNode)&&(e.namespace?r.setAttributeNS(e.namespace,n.name,i):"style"===n.name&&r.style.setAttribute?r.style.setAttribute("cssText",i):"class"!==n.name||r.namespaceURI&&r.namespaceURI!==t.html?r.setAttribute(n.name,i):r.className=i,"id"===e.name&&(n.root.nodes[n.value]=r),"value"===e.name&&(r._ractive.value=n.value)),e.value=n.value}}(s),vn=function(t){var e={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"};return function(n,r){var i;!n.pNode||n.namespace||r.pNode.namespaceURI&&r.pNode.namespaceURI!==t.html||(i=e[n.name]||n.name,void 0!==r.pNode[i]&&(n.propertyName=i),("boolean"==typeof r.pNode[i]||"value"===i)&&(n.useProperty=!0))}}(s),mn=function(t){return function(e){var n,r;return n=e.fragment.items,1===n.length&&(r=n[0],r.type===t.INTERPOLATOR&&(r.keypath||r.ref))?r:void 0}}(D),yn=function(t){return function(e,n){var r;if(!t(e)||!t(n))return!1;if(e.length!==n.length)return!1;for(r=e.length;r--;)if(e[r]!==n[r])return!1;return!0}}(L),wn=function(t,e,n,r,i,o){var s,a,u,c,l,h,f,p,d,g,v,m,y,w,b='For two-way binding to work, attribute value must be a single interpolator (e.g. value="{{foo}}")',x="You cannot set up two-way binding against an expression ";return s=function(){var t,n,r,i=this.pNode;return(t=this.interpolator)?t.keypath&&"${"===t.keypath.substr?(e(x+t.keypath),!1):(t.keypath||t.resolve(t.descriptor.r),this.keypath=t.keypath,(n=l(this))?(i._ractive.binding=this.element.binding=n,this.twoway=!0,r=this.root._twowayBindings[this.keypath]||(this.root._twowayBindings[this.keypath]=[]),r.push(n),!0):!1):(e(b),!1)},a=function(){t.start(this._ractive.root),this._ractive.binding.update(),t.end()},u={evaluateWrapped:!0},c=function(){var t=i(this._ractive.root,this._ractive.binding.keypath,u);this.value=void 0==t?"":t},l=function(t){var e=t.pNode;if("SELECT"===e.tagName)return e.multiple?new f(t,e):new p(t,e);if("checkbox"===e.type||"radio"===e.type){if("name"===t.propertyName){if("checkbox"===e.type)return new g(t,e);if("radio"===e.type)return new d(t,e)}return"checked"===t.propertyName?new v(t,e):null}if("value"!==t.lcName)throw new Error("Attempted to set up an illegal two-way binding. This error is unexpected - if you can, please file an issue at https://github.com/RactiveJS/Ractive, or contact @RactiveJS on Twitter. Thanks!");return"file"===e.type?new m(t,e):e.getAttribute("contenteditable")?new y(t,e):new w(t,e)},f=function(t,e){var n;h(this,t,e),e.addEventListener("change",a,!1),n=i(this.root,this.keypath),void 0===n&&this.update()},f.prototype={value:function(){var t,e,n,r,i,o;for(t=[],e=this.node.options,r=e.length,n=0;r>n;n+=1)i=e[n],i.selected&&(o=i._ractive?i._ractive.value:i.value,t.push(o));return t},update:function(){var e,r,i;return e=this.attr,r=e.value,i=this.value(),void 0!==r&&n(i,r)||(t.addBinding(e),e.value=i,o(this.root,this.keypath,i),t.trigger()),this},deferUpdate:function(){this.deferred!==!0&&(t.addAttribute(this),this.deferred=!0)},teardown:function(){this.node.removeEventListener("change",a,!1)}},p=function(t,e){var n;h(this,t,e),e.addEventListener("change",a,!1),n=i(this.root,this.keypath),void 0===n&&this.update()},p.prototype={value:function(){var t,e,n,r,i;for(t=this.node.options,n=t.length,e=0;n>e;e+=1)if(r=t[e],t[e].selected)return i=r._ractive?r._ractive.value:r.value},update:function(){var e=this.value();return t.addBinding(this.attr),this.attr.value=e,o(this.root,this.keypath,e),t.trigger(),this},deferUpdate:function(){this.deferred!==!0&&(t.addAttribute(this),this.deferred=!0)},teardown:function(){this.node.removeEventListener("change",a,!1)}},d=function(e,n){var r;this.radioName=!0,h(this,e,n),n.name="{{"+e.keypath+"}}",n.addEventListener("change",a,!1),n.attachEvent&&n.addEventListener("click",a,!1),r=i(this.root,this.keypath),void 0!==r?n.checked=r==n._ractive.value:t.addRadio(this)},d.prototype={value:function(){return this.node._ractive?this.node._ractive.value:this.node.value},update:function(){var e=this.node;e.checked&&(t.addBinding(this.attr),o(this.root,this.keypath,this.value()),t.trigger())},teardown:function(){this.node.removeEventListener("change",a,!1),this.node.removeEventListener("click",a,!1)}},g=function(e,n){var r,o;this.checkboxName=!0,h(this,e,n),n.name="{{"+this.keypath+"}}",n.addEventListener("change",a,!1),n.attachEvent&&n.addEventListener("click",a,!1),r=i(this.root,this.keypath),void 0!==r?(o=-1!==r.indexOf(n._ractive.value),n.checked=o):t.addCheckbox(this)},g.prototype={changed:function(){return this.node.checked!==!!this.checked},update:function(){this.checked=this.node.checked,t.addBinding(this.attr),o(this.root,this.keypath,r(this.root,this.keypath)),t.trigger()},teardown:function(){this.node.removeEventListener("change",a,!1),this.node.removeEventListener("click",a,!1)}},v=function(t,e){h(this,t,e),e.addEventListener("change",a,!1),e.attachEvent&&e.addEventListener("click",a,!1)},v.prototype={value:function(){return this.node.checked},update:function(){t.addBinding(this.attr),o(this.root,this.keypath,this.value()),t.trigger()},teardown:function(){this.node.removeEventListener("change",a,!1),this.node.removeEventListener("click",a,!1)}},m=function(t,e){h(this,t,e),e.addEventListener("change",a,!1)},m.prototype={value:function(){return this.attr.pNode.files},update:function(){o(this.attr.root,this.attr.keypath,this.value()),t.trigger()},teardown:function(){this.node.removeEventListener("change",a,!1)}},y=function(t,e){h(this,t,e),e.addEventListener("change",a,!1),this.root.lazy||(e.addEventListener("input",a,!1),e.attachEvent&&e.addEventListener("keyup",a,!1))},y.prototype={update:function(){t.addBinding(this.attr),o(this.root,this.keypath,this.node.innerHTML),t.trigger()},teardown:function(){this.node.removeEventListener("change",a,!1),this.node.removeEventListener("input",a,!1),this.node.removeEventListener("keyup",a,!1)}},w=function(t,e){h(this,t,e),e.addEventListener("change",a,!1),this.root.lazy||(e.addEventListener("input",a,!1),e.attachEvent&&e.addEventListener("keyup",a,!1)),this.node.addEventListener("blur",c,!1)},w.prototype={value:function(){var t=this.attr.pNode.value;return+t+""===t&&-1===t.indexOf("e")&&(t=+t),t},update:function(){var e=this.attr,n=this.value();t.addBinding(e),o(e.root,e.keypath,n),t.trigger()},teardown:function(){this.node.removeEventListener("change",a,!1),this.node.removeEventListener("input",a,!1),this.node.removeEventListener("keyup",a,!1),this.node.removeEventListener("blur",c,!1)}},h=function(t,e,n){t.attr=e,t.node=n,t.root=e.root,t.keypath=e.keypath},s}(O,Z,yn,E,K,H),bn=function(t,e,n){var r,i,o,s,a,u,c,l,h,f,p,d;return r=function(){var t;if(!this.ready)return this;if(t=this.pNode,"SELECT"===t.tagName&&"value"===this.lcName)return this.update=o,this.deferredUpdate=s,this.update();if(this.isFileInputValue)return this.update=i,this;if(this.twoway&&"name"===this.lcName){if("radio"===t.type)return this.update=c,this.update();if("checkbox"===t.type)return this.update=l,this.update()}return"style"===this.lcName&&t.style.setAttribute?(this.update=h,this.update()):"class"!==this.lcName||t.namespaceURI&&t.namespaceURI!==e.html?t.getAttribute("contenteditable")&&"value"===this.lcName?(this.update=p,this.update()):(this.update=d,this.update()):(this.update=f,this.update())},i=function(){return this},s=function(){this.deferredUpdate=this.pNode.multiple?u:a,this.deferredUpdate()},o=function(){return t.addSelectValue(this),this},a=function(){var t,e,n,r,i=this.fragment.getValue();for(this.value=this.pNode._ractive.value=i,t=this.pNode.options,r=t.length;r--;)if(e=t[r],n=e._ractive?e._ractive.value:e.value,n==i)return e.selected=!0,this;return this},u=function(){var t,e,r,i,o=this.fragment.getValue();for(n(o)||(o=[o]),t=this.pNode.options,e=t.length;e--;)r=t[e],i=r._ractive?r._ractive.value:r.value,r.selected=-1!==o.indexOf(i);return this.value=o,this},c=function(){var t,e;return t=this.pNode,e=this.fragment.getValue(),t.checked=e==t._ractive.value,this},l=function(){var t,e;return t=this.pNode,e=this.fragment.getValue(),n(e)?(t.checked=-1!==e.indexOf(t._ractive.value),this):(t.checked=e==t._ractive.value,this)},h=function(){var t,e;return t=this.pNode,e=this.fragment.getValue(),void 0===e&&(e=""),e!==this.value&&(t.style.setAttribute("cssText",e),this.value=e),this},f=function(){var t,e;return t=this.pNode,e=this.fragment.getValue(),void 0===e&&(e=""),e!==this.value&&(t.className=e,this.value=e),this},p=function(){var t,e;return t=this.pNode,e=this.fragment.getValue(),void 0===e&&(e=""),e!==this.value&&(this.active||(t.innerHTML=e),this.value=e),this},d=function(){var t,e,n;if(t=this.pNode,e=this.fragment.getValue(),this.isValueAttribute&&(t._ractive.value=e),void 0==e&&(e=""),e!==this.value){if(this.useProperty)return this.active||(t[this.propertyName]=e),"OPTION"===t.tagName&&t.selected&&(n=this.element.select.binding)&&n.update(),this.value=e,this;if(this.namespace)return t.setAttributeNS(this.namespace,this.name,e),this.value=e,this;"id"===this.lcName&&(void 0!==this.value&&(this.root.nodes[this.value]=void 0),this.root.nodes[e]=t),t.setAttribute(this.name,e),this.value=e}return this},r}(O,s,L),xn=function(t){var e;return e=this.str.substr(this.pos,t.length),e===t?(this.pos+=t.length,t):null},kn=function(){var t=/^\s+/;return function(){var e=t.exec(this.remaining());return e?(this.pos+=e[0].length,e[0]):null}}(),En=function(t){return function(e){var n=t.exec(e.str.substring(e.pos));return n?(e.pos+=n[0].length,n[1]||n[0]):null}},Tn=function(t){var e,n,r;return e=t(/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/),n=t(/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/),r=t(/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/),function(t){return function(i){var o,s,a,u;for(o=i.pos,s='"',a=!1;!a;)u=e(i)||n(i)||i.getStringMatch(t),u?s+='"'===u?'\\"':"\\'"===u?"'":u:(u=r(i),u?s+="\\u"+("000"+u.charCodeAt(1).toString(16)).slice(-4):a=!0);return s+='"',JSON.parse(s)}}}(En),_n=function(t){return t('"')}(Tn),Nn=function(t){return t("'")}(Tn),Cn=function(t,e,n){return function(r){var i,o;return i=r.pos,r.getStringMatch('"')?(o=n(r),r.getStringMatch('"')?{t:t.STRING_LITERAL,v:o}:(r.pos=i,null)):r.getStringMatch("'")?(o=e(r),r.getStringMatch("'")?{t:t.STRING_LITERAL,v:o}:(r.pos=i,null)):null}}(D,_n,Nn),Sn=function(t,e){var n=e(/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/);return function(e){var r;return(r=n(e))?{t:t.NUMBER_LITERAL,v:r}:null}}(D,En),An=function(t){return t(/^[a-zA-Z_$][a-zA-Z_$0-9]*/)}(En),On=function(t,e,n){var r=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;return function(i){var o;return(o=t(i))?r.test(o.v)?o.v:'"'+o.v.replace(/"/g,'\\"')+'"':(o=e(i))?o.v:(o=n(i))?o:void 0}}(Cn,Sn,An),Rn=function(t,e,n,r){function i(t){var e,n,i;return t.allowWhitespace(),(e=r(t))?(i={key:e},t.allowWhitespace(),t.getStringMatch(":")?(t.allowWhitespace(),(n=t.getToken())?(i.value=n.v,i):null):null):null}var o,s,a,u,c,l;return s={"true":!0,"false":!1,undefined:void 0,"null":null},a=new RegExp("^(?:"+Object.keys(s).join("|")+")"),u=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,c=/\$\{([^\}]+)\}/g,l=/^\$\{([^\}]+)\}/,o=function(t,e){this.str=t,this.values=e,this.pos=0,this.result=this.getToken()},o.prototype={remaining:function(){return this.str.substring(this.pos)},getStringMatch:t,getToken:function(){return this.allowWhitespace(),this.getPlaceholder()||this.getSpecial()||this.getNumber()||this.getString()||this.getObject()||this.getArray()},getPlaceholder:function(){var t;return this.values?(t=l.exec(this.remaining()))&&this.values.hasOwnProperty(t[1])?(this.pos+=t[0].length,{v:this.values[t[1]]}):void 0:null},getSpecial:function(){var t;return(t=a.exec(this.remaining()))?(this.pos+=t[0].length,{v:s[t[0]]}):void 0},getNumber:function(){var t;return(t=u.exec(this.remaining()))?(this.pos+=t[0].length,{v:+t[0]}):void 0},getString:function(){var t,e=n(this);return e&&(t=this.values)?{v:e.v.replace(c,function(e,n){return t[n]||n})}:e},getObject:function(){var t,e;if(!this.getStringMatch("{"))return null;for(t={};e=i(this);){if(t[e.key]=e.value,this.allowWhitespace(),this.getStringMatch("}"))return{v:t};if(!this.getStringMatch(","))return null}return null},getArray:function(){var t,e;if(!this.getStringMatch("["))return null;for(t=[];e=this.getToken();){if(t.push(e.v),this.getStringMatch("]"))return{v:t};if(!this.getStringMatch(","))return null}return null},allowWhitespace:e},function(t,e){var n=new o(t,e);return n.result?{value:n.result.v,remaining:n.remaining()}:null}}(xn,kn,Cn,On),Ln=function(t,e,n){function r(t){return"string"==typeof t?t:JSON.stringify(t)}var i=function(e){this.type=t.INTERPOLATOR,n.init(this,e)};return i.prototype={update:n.update,resolve:n.resolve,reassign:n.reassign,render:function(t){this.value=t,this.parentFragment.bubble()},teardown:function(){e(this)},toString:function(){return void 0==this.value?"":r(this.value)}},i}(D,Ve,nn),Mn=function(t,e,n,r,i){var o,s;return i.push(function(){s=i.StringFragment}),o=function(n){this.type=t.SECTION,this.fragments=[],this.length=0,e.init(this,n)},o.prototype={update:e.update,resolve:e.resolve,reassign:e.reassign,teardown:function(){this.teardownFragments(),r(this)},teardownFragments:function(){for(;this.fragments.length;)this.fragments.shift().teardown();this.length=0},bubble:function(){this.value=this.fragments.join(""),this.parentFragment.bubble()},render:function(t){var e;(e=this.root._wrapped[this.keypath])&&(t=e.get()),n(this,t),this.parentFragment.bubble()},createFragment:function(t){return new s(t)},toString:function(){return this.fragments.join("")}},o}(D,nn,sn,Ve,b),jn=function(t){var e=function(e){this.type=t.TEXT,this.text=e};return e.prototype={toString:function(){return this.text},reassign:function(){},teardown:function(){}},e}(D),Fn=function(t,e){return function(){var n,r,i,o,s,a,u;if(!this.argsList||this.dirty){if(n={},r=0,o=this.root._guid,u=function(t){return t.map(function(t){var e,i,s;return t.text?t.text:t.fragments?t.fragments.map(function(t){return u(t.items)}).join(""):(e=o+"-"+r++,s=(i=t.root._wrapped[t.keypath])?i.value:t.value,n[e]=s,"${"+e+"}")}).join("")},i=u(this.items),a=e("["+i+"]",n))this.argsList=a.value;else{if(s="Could not parse directive arguments ("+this.toString()+"). If you think this is a bug, please file an issue at http://github.com/RactiveJS/Ractive/issues",this.root.debug)throw new Error(s);t(s),this.argsList=[i]}this.dirty=!1}return this.argsList}}(Z,Rn),In=function(t,e,n,r,i,o,s,a){var u=function(t){n.init(this,t)};return u.prototype={reassign:n.reassign,createItem:function(e){if("string"==typeof e.descriptor)return new o(e.descriptor);switch(e.descriptor.t){case t.INTERPOLATOR:return new r(e);case t.TRIPLE:return new r(e);case t.SECTION:return new i(e);default:throw"Something went wrong in a rather interesting way"}},bubble:function(){this.dirty=!0,this.owner.bubble()},teardown:function(){var t,e;for(t=this.items.length,e=0;t>e;e+=1)this.items[e].teardown()},getValue:function(){var e;return 1===this.items.length&&this.items[0].type===t.INTERPOLATOR&&(e=this.items[0].value,void 0!==e)?e:this.toString()},isSimple:function(){var e,n,r;if(void 0!==this.simple)return this.simple;for(e=this.items.length;e--;)if(n=this.items[e],n.type!==t.TEXT){if(n.type!==t.INTERPOLATOR)return this.simple=!1;if(r)return!1;r=!0}return this.simple=!0},toString:function(){return this.items.join("")},toJSON:function(){var t,n=this.getValue();return"string"==typeof n&&(t=e(n),n=t?t.value:n),n},toArgsList:s},a.StringFragment=u,u}(D,Rn,Be,Ln,Mn,jn,Fn,b),Dn=function(t,e,n,r,i,o,s,a,u){var c=function(t){return this.type=e.ATTRIBUTE,this.element=t.element,n(this,t.name),null===t.value||"string"==typeof t.value?void r(this,t):(this.root=t.root,this.pNode=t.pNode,this.parentFragment=this.element.parentFragment,this.fragment=new u({descriptor:t.value,root:this.root,owner:this}),this.interpolator=o(this),void(this.pNode&&("value"===this.name&&(this.isValueAttribute=!0,"INPUT"===this.pNode.tagName&&"file"===this.pNode.type&&(this.isFileInputValue=!0)),i(this,t),this.selfUpdating=this.fragment.isSimple(),this.ready=!0)))};return c.prototype={bind:s,update:a,updateBindings:function(){this.keypath=this.interpolator.keypath||this.interpolator.ref,"name"===this.propertyName&&(this.pNode.name="{{"+this.keypath+"}}")},reassign:function(t,e,n,r){this.fragment&&(this.fragment.reassign(t,e,n,r),this.twoway&&this.updateBindings())},teardown:function(){var t;if(this.boundEvents)for(t=this.boundEvents.length;t--;)this.pNode.removeEventListener(this.boundEvents[t],this.updateModel,!1);this.fragment&&this.fragment.teardown()},bubble:function(){this.selfUpdating?this.update():!this.deferred&&this.ready&&(t.addAttribute(this),this.deferred=!0)},toString:function(){var t,e;if(null===this.value)return this.name;if("value"!==this.name||"select"!==this.element.lcName)return"name"===this.name&&"input"===this.element.lcName&&(e=this.interpolator)?"name={{"+(e.keypath||e.ref)+"}}":this.fragment?(t=this.fragment.toString(),this.name+"="+JSON.stringify(t)):this.name+"="+JSON.stringify(this.value)}},c}(O,D,dn,gn,vn,mn,wn,bn,In),Pn=function(t){return function(e,n,r){var i=new t({element:e,name:n,value:r,root:e.root,pNode:e.node});e.attributes.push(e.attributes[n]=i),"name"!==n&&i.update()}}(Dn),qn=function(t){return function(e,n){var r;e.attributes=[];for(r in n)n.hasOwnProperty(r)&&t(e,r,n[r]);return e.attributes}}(Pn),Hn=function(t){for(var e=[],n=t.length;n--;)e[n]=t[n];return e},Bn=function(t){return function(e,n){return e.matchingStaticNodes[n]||(e.matchingStaticNodes[n]=t(e.node.querySelectorAll(n))),e.matchingStaticNodes[n]}}(Hn),Wn=function(t,e,n,r,i){function o(t){var e,n,i,o,s,a,u;i=t.node,e=t.root;do for(n=e._liveQueries,u=n.length;u--;)o=n[u],s=n[o],a=r(t,o),s.push.apply(s,a);while(e=e._parent)}var s,a,u;return i.push(function(){s=i.DomFragment}),a=function(){var t=this.node,e=this.fragment.toString();
if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}},u=function(){this.node.type&&"text/javascript"!==this.node.type||t("Script tag was updated. This does not cause the code to be re-evaluated!"),this.node.text=this.fragment.toString()},function(t,r,i,c){return"script"===t.lcName||"style"===t.lcName?(t.fragment=new n({descriptor:i.f,root:t.root,owner:t}),void(c&&("script"===t.lcName?(t.bubble=u,t.node.text=t.fragment.toString()):(t.bubble=a,t.bubble())))):void("string"!=typeof i.f||r&&r.namespaceURI&&r.namespaceURI!==e.html?(t.fragment=new s({descriptor:i.f,root:t.root,pNode:r,owner:t,pElement:t}),c&&r.appendChild(t.fragment.docFrag)):(t.html=i.f,c&&(r.innerHTML=t.html,t.matchingStaticNodes={},o(t))))}}(Z,s,In,Bn,b),$n=function(t,e){var n=function(n,r,i){var o,s,a,u=this;if(u.root=r,u.node=i.node,o=n.n||n,"string"!=typeof o&&(s=new e({descriptor:o,root:r,owner:i}),o=s.toString(),s.teardown()),n.a?u.params=n.a:n.d&&(u.fragment=new e({descriptor:n.d,root:r,owner:i}),u.params=u.fragment.toArgsList(),u.fragment.bubble=function(){this.dirty=!0,u.params=this.toArgsList(),u.ready&&u.update()}),u.fn=r.decorators[o],!u.fn){if(a='Missing "'+o+'" decorator. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#decorators',r.debug)throw new Error(a);t(a)}};return n.prototype={init:function(){var t,e;if(this.params?(e=[this.node].concat(this.params),t=this.fn.apply(this.root,e)):t=this.fn.call(this.root,this.node),!t||!t.teardown)throw new Error("Decorator definition must return an object with a teardown method");this.actual=t,this.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},teardown:function(t){this.actual.teardown(),!t&&this.fragment&&this.fragment.teardown()}},n}(Z,In),Un=function(t,e){return function(n,r,i){var o=new e(n,r,i);o.fn&&(i.decorator=o,t.addDecorator(i.decorator))}}(O,$n),Vn=function(t,e){var n,r,i,o,s,a,u,c,l;return n=function(t,e,n,i){var o,s;o=t.node._ractive.events,s=o[e]||(o[e]=new r(t,e,i)),s.add(n)},r=function(e,n){var r;this.element=e,this.root=e.root,this.node=e.node,this.name=n,this.proxies=[],(r=this.root.events[n])?this.custom=r(this.node,l(n)):("on"+n in this.node||t('Missing "'+this.name+'" event. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#events'),this.node.addEventListener(n,c,!1))},r.prototype={add:function(t){this.proxies.push(new i(this.element,this.root,t))},teardown:function(){var t;for(this.custom?this.custom.teardown():this.node.removeEventListener(this.name,c,!1),t=this.proxies.length;t--;)this.proxies[t].teardown()},fire:function(t){for(var e=this.proxies.length;e--;)this.proxies[e].fire(t)}},i=function(t,n,r){var i;return this.root=n,i=r.n||r,this.n="string"==typeof i?i:new e({descriptor:r.n,root:this.root,owner:t}),r.a?(this.a=r.a,void(this.fire=s)):r.d?(this.d=new e({descriptor:r.d,root:this.root,owner:t}),void(this.fire=a)):void(this.fire=o)},i.prototype={teardown:function(){this.n.teardown&&this.n.teardown(),this.d&&this.d.teardown()},bubble:function(){}},o=function(t){this.root.fire(this.n.toString(),t)},s=function(t){this.root.fire.apply(this.root,[this.n.toString(),t].concat(this.a))},a=function(t){var e=this.d.toArgsList();"string"==typeof e&&(e=e.substr(1,e.length-2)),this.root.fire.apply(this.root,[this.n.toString(),t].concat(e))},c=function(t){var e=this._ractive;e.events[t.type].fire({node:this,original:t,index:e.index,keypath:e.keypath,context:e.root.get(e.keypath)})},u={},l=function(t){return u[t]?u[t]:u[t]=function(e){var n=e.node._ractive;e.index=n.index,e.keypath=n.keypath,e.context=n.root.get(n.keypath),n.events[t].fire(e)}},n}(Z,In),zn=function(t){return function(e,n){var r,i,o;for(i in n)if(n.hasOwnProperty(i))for(o=i.split("-"),r=o.length;r--;)t(e,o[r],n[i])}}(Vn),Xn=function(t){var e,n,r,i,o;e=t.root;do for(n=e._liveQueries,r=n.length;r--;)i=n[r],o=n[i],o._test(t)&&(t.liveQueries||(t.liveQueries=[])).push(o);while(e=e._parent)},Qn=function(){if(this._inited)throw new Error("Cannot initialize a transition more than once");this._inited=!0,this._fn.apply(this.root,[this].concat(this.params))},Jn=function(t,e,n){var r,i;if(t)return r={},i=n("div").style,function(t){var n,o,s;if(!r[t])if(void 0!==i[t])r[t]=t;else for(s=t.charAt(0).toUpperCase()+t.substring(1),n=e.length;n--;)if(o=e[n],void 0!==i[o+s]){r[t]=o+s;break}return r[t]}}(u,m,a),Gn=function(t,e,n,r){var i;if(e)return i=window.getComputedStyle||t.getComputedStyle,function(t){var e,i,o,s,a;if(e=window.getComputedStyle(this.node),"string"==typeof t)return a=e[r(t)],"0px"===a&&(a=0),a;if(!n(t))throw new Error("Transition#getStyle must be passed a string, or an array of strings representing CSS properties");for(i={},o=t.length;o--;)s=t[o],a=e[r(s)],"0px"===a&&(a=0),i[s]=a;return i}}(r,u,L,Jn),Yn=function(t){return function(e,n){var r;if("string"==typeof e)this.node.style[t(e)]=n;else for(r in e)e.hasOwnProperty(r)&&(this.node.style[t(r)]=e[r]);return this}}(Jn),Kn=function(t){return t.replace(/-([a-zA-Z])/g,function(t,e){return e.toUpperCase()})},Zn=function(t,e,n){function r(t){return t}var i=function(i){var o;this.duration=i.duration,this.step=i.step,this.complete=i.complete,"string"==typeof i.easing?(o=i.root.easing[i.easing],o||(t('Missing easing function ("'+i.easing+'"). You may need to download a plugin from [TODO]'),o=r)):o="function"==typeof i.easing?i.easing:r,this.easing=o,this.start=e(),this.end=this.start+this.duration,this.running=!0,n.add(this)};return i.prototype={tick:function(t){var e,n;return this.running?t>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(e=t-this.start,n=this.easing(e/this.duration),this.step&&this.step(n),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}},i}(Z,w,R),tr=function(t){var e=new RegExp("^-(?:"+t.join("|")+")-");return function(t){return t.replace(e,"")}}(m),er=function(t){var e=new RegExp("^(?:"+t.join("|")+")([A-Z])");return function(t){var n;return t?(e.test(t)&&(t="-"+t),n=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})):""}}(m),nr=function(t,e,n,r,i,o,s,a,u){var c,l,h,f,p,d,g,v={},m={};if(t)return c=n("div").style,function(){void 0!==c.transition?(l="transition",h="transitionend",f=!0):void 0!==c.webkitTransition?(l="webkitTransition",h="webkitTransitionEnd",f=!0):f=!1}(),l&&(p=l+"Duration",d=l+"Property",g=l+"TimingFunction"),function(t,n,c,l,f,y){setTimeout(function(){var w,b,x,k;k=function(){b&&x&&y()},w=t.node.namespaceURI+t.node.tagName,t.node.style[d]=l.map(s).map(u).join(","),t.node.style[g]=u(c.easing||"linear"),t.node.style[p]=c.duration/1e3+"s",f=function(e){var n;n=l.indexOf(r(a(e.propertyName))),-1!==n&&l.splice(n,1),l.length||(t.root.fire(t.name+":end"),t.node.removeEventListener(h,f,!1),x=!0,k())},t.node.addEventListener(h,f,!1),setTimeout(function(){for(var a,u,p,d,g=l.length,y=[];g--;)d=l[g],a=w+d,v[a]?t.node.style[s(d)]=n[d]:u=t.getStyle(d),void 0===v[a]&&(t.node.style[s(d)]=n[d],v[a]=t.getStyle(d)!=n[d],m[a]=!v[a]),m[a]&&(p=l.indexOf(d),-1===p?e("Something very strange happened with transitions. If you see this message, please let @RactiveJS know. Thanks!"):l.splice(p,1),t.node.style[s(d)]=u,y.push({name:s(d),interpolator:i(u,n[d])}));y.length?new o({root:t.root,duration:c.duration,easing:r(c.easing),step:function(e){var n,r;for(r=y.length;r--;)n=y[r],t.node.style[n.name]=n.interpolator(e)},complete:function(){b=!0,k()}}):b=!0,l.length||(t.node.removeEventListener(h,f,!1),x=!0,k())},0)},c.delay||0)}}(u,Z,a,Kn,ne,Zn,Jn,tr,er),rr=function(t,e,n,r,i,o){var s;if(e)return s=window.getComputedStyle||t.getComputedStyle,function(t,e,s,a){var u,c=this;"string"==typeof t?(u={},u[t]=e):(u=t,a=s,s=e),s||(n('The "'+c.name+'" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340'),s=c,a=c.complete);var l=new r(function(t){var e,n,r,a,l,h,f,p;if(!s.duration)return c.setStyle(u),void t();for(e=Object.keys(u),n=[],r=window.getComputedStyle(c.node),l={},f=e.length;f--;)p=e[f],a=r[i(p)],"0px"===a&&(a=0),a!=u[p]&&(n.push(p),c.node.style[i(p)]=a);return n.length?void o(c,u,s,n,h,t):void t()});return a&&(n("t.animateStyle returns a Promise as of 0.4.0. Transition authors should do t.animateStyle(...).then(callback)"),l.then(a)),l}}(r,u,Z,g,Jn,nr),ir=function(t,e){var n;for(n in e)!e.hasOwnProperty(n)||n in t||(t[n]=e[n]);return t},or=function(t){return function(e,n){return"number"==typeof e?e={duration:e}:"string"==typeof e?e="slow"===e?{duration:600}:"fast"===e?{duration:200}:{duration:400}:e||(e={}),t(e,n)}}(ir),sr=function(){this.originalStyle?this.node.setAttribute("style",this.originalStyle):(this.node.getAttribute("style"),this.node.removeAttribute("style"))},ar=function(t,e,n,r,i,o,s,a){var u;return u=function(n,r,i,o){var s,a,u,c=this;if(this.root=r,this.node=i.node,this.isIntro=o,this.originalStyle=this.node.getAttribute("style"),c.complete=function(t){!t&&c.isIntro&&c.resetStyle(),c.node._ractive.transition=null,c._manager.remove(c)},s=n.n||n,"string"!=typeof s&&(a=new e({descriptor:s,root:this.root,owner:i}),s=a.toString(),a.teardown()),this.name=s,n.a?this.params=n.a:n.d&&(a=new e({descriptor:n.d,root:this.root,owner:i}),this.params=a.toArgsList(),a.teardown()),this._fn=r.transitions[s],!this._fn){if(u='Missing "'+s+'" transition. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#transitions',r.debug)throw new Error(u);return void t(u)}},u.prototype={init:n,getStyle:r,setStyle:i,animateStyle:o,processParams:s,resetStyle:a},u}(Z,In,Qn,Gn,Yn,rr,or,sr),ur=function(t,e){return function(n,r,i,o){var s,a,u;!r.transitionsEnabled||r._parent&&!r._parent.transitionsEnabled||(s=new e(n,r,i,o),s._fn&&(a=s.node,(u=a._ractive.transition)&&u.complete(),a._ractive.transition=s,t.addTransition(s)))}}(O,ar),cr=function(t,e,n,r,i,o,s,a,u,c,l,h,f,p,d,g,v){function m(t){do if("select"===t.lcName)return t;while(t=t.parent)}return function(y,w,b){var x,k,E,T,_,N,C,S,A,O,R,L;if(y.type=e.ELEMENT,x=y.parentFragment=w.parentFragment,k=x.pNode,E=y.descriptor=w.descriptor,y.parent=w.pElement,y.root=O=x.root,y.index=w.index,y.lcName=E.e.toLowerCase(),y.eventListeners=[],y.customEventListeners=[],y.cssDetachQueue=[],k&&(T=y.namespace=u(E,k),_=T!==n.html?v(E.e):E.e,y.node=s(_,T),O.css&&k===O.el&&y.node.setAttribute("data-rvcguid",O.constructor._guid||O._guid),i(y.node,"_ractive",{value:{proxy:y,keypath:a(x),index:x.indexRefs,events:r(null),root:O}})),N=l(y,E.a),E.f){if(y.node&&y.node.getAttribute("contenteditable")&&y.node.innerHTML){if(L="A pre-populated contenteditable element should not have children",O.debug)throw new Error(L);o(L)}h(y,y.node,E,b)}b&&E.v&&p(y,E.v),b&&(O.twoway&&(y.bind(),y.node.getAttribute("contenteditable")&&y.node._ractive.binding&&y.node._ractive.binding.update()),N.name&&!N.name.twoway&&N.name.update(),"IMG"===y.node.tagName&&((C=y.attributes.width)||(S=y.attributes.height))&&y.node.addEventListener("load",A=function(){C&&(y.node.width=C.value),S&&(y.node.height=S.value),y.node.removeEventListener("load",A,!1)},!1),b.appendChild(y.node),E.o&&f(E.o,O,y),E.t1&&g(E.t1,O,y,!0),"OPTION"===y.node.tagName&&("SELECT"===k.tagName&&(R=k._ractive.binding)&&R.deferUpdate(),N.value||c(y,"value",E.f),y.node._ractive.value==k._ractive.value&&(y.node.selected=!0)),y.node.autofocus&&t.focus(y.node)),"option"===y.lcName&&(y.select=m(y.parent)),d(y)}}(O,D,s,je,c,Z,a,_,fn,Pn,qn,Wn,Un,zn,Xn,ur,pn),lr=function(t,e){function n(t){var e,n,r,i,o;for(i=t.liveQueries.length;i--;)if(e=t.liveQueries[i],n=e.selector,e._remove(t.node),t.matchingStaticNodes&&(r=t.matchingStaticNodes[n]))for(o=r.length;o--;)e.remove(r[o])}return function(r){var i,o,s;for(r&&(this.willDetach=!0,t.detachWhenReady(this)),this.fragment&&this.fragment.teardown(!1);this.attributes.length;)this.attributes.pop().teardown();if(this.node){for(i in this.node._ractive.events)this.node._ractive.events[i].teardown();(o=this.node._ractive.binding)&&(o.teardown(),s=this.root._twowayBindings[o.attr.keypath],s.splice(s.indexOf(o),1))}this.decorator&&this.decorator.teardown(),this.descriptor.t2&&e(this.descriptor.t2,this.root,this,!1),this.liveQueries&&n(this)}}(O,ur),hr=function(t){return function(e,n,r,i){var o,s,a,u,c,l,h,f,p;for(o=this.attributes.length;o--;)this.attributes[o].reassign(e,n,r,i);if(s=this.node._ractive){t(s,"keypath",r,i),void 0!=e&&(s.index[e]=n);for(a in s.events)for(u=s.events[a].proxies,o=u.length;o--;)c=u[o],"object"==typeof c.n&&c.a.reassign(e,n,r,i),c.d&&c.d.reassign(e,n,r,i);(l=s.binding)&&l.keypath.substr(0,r.length)===r&&(h=s.root._twowayBindings[l.keypath],h.splice(h.indexOf(l),1),l.keypath=l.keypath.replace(r,i),h=s.root._twowayBindings[l.keypath]||(s.root._twowayBindings[l.keypath]=[]),h.push(l))}if(this.fragment&&this.fragment.reassign(e,n,r,i),f=this.liveQueries)for(p=this.root,o=f.length;o--;)f[o]._makeDirty()}}(qe),fr="area base br col command doctype embed hr img input keygen link meta param source track wbr".split(" "),pr=function(t,e){function n(t){var n,r,i,o,s;if(n=t.attributes.value.value,r=t.select.attributes.value,i=r.interpolator){if(o=t.root.get(i.keypath||i.ref),o==n)return!0;if(t.select.attributes.multiple&&e(o))for(s=o.length;s--;)if(o[s]==n)return!0}}function r(t){var e,n,r,i;return e=t.attributes,n=e.type,r=e.value,i=e.name,n&&"radio"===n.value&&r&&i.interpolator?r.value===i.interpolator.value?!0:void 0:void 0}return function(){var e,i,o,s;for(e="<"+(this.descriptor.y?"!doctype":this.descriptor.e),o=this.attributes.length,i=0;o>i;i+=1)(s=this.attributes[i].toString())&&(e+=" "+s);return"option"===this.lcName&&n(this)&&(e+=" selected"),"input"===this.lcName&&r(this)&&(e+=" checked"),e+=">",this.html?e+=this.html:this.fragment&&(e+=this.fragment.toString()),-1===t.indexOf(this.descriptor.e)&&(e+="</"+this.descriptor.e+">"),this.stringifying=!1,e}}(fr,L),dr=function(t){return function(e){var n;return t(this.node,e)?this.node:this.html&&(n=this.node.querySelector(e))?n:this.fragment&&this.fragment.find?this.fragment.find(e):void 0}}(ae),gr=function(t){return function(e,n){var r,i;n._test(this,!0)&&n.live&&(this.liveQueries||(this.liveQueries=[])).push(n),this.html&&(r=t(this,e),n.push.apply(n,r),n.live&&!i&&(this.liveQueries||(this.liveQueries=[])).push(n)),this.fragment&&this.fragment.findAll(e,n)}}(Bn),vr=function(t){return this.fragment?this.fragment.findComponent(t):void 0},mr=function(t,e){this.fragment&&this.fragment.findAllComponents(t,e)},yr=function(){var t=this.attributes;if(this.node&&(this.binding&&(this.binding.teardown(),this.binding=null),!(this.node.getAttribute("contenteditable")&&t.value&&t.value.bind())))switch(this.descriptor.e){case"select":case"textarea":return void(t.value&&t.value.bind());case"input":if("radio"===this.node.type||"checkbox"===this.node.type){if(t.name&&t.name.bind())return;if(t.checked&&t.checked.bind())return}if(t.value&&t.value.bind())return}},wr=function(t,e,n,r,i,o,s,a,u,c,l){var h=function(t,e){n(this,t,e)};return h.prototype={detach:function(){var n;if(this.node)return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this.node;if(this.cssDetachQueue.length){for(t.start();n===this.cssDetachQueue.pop();)e.remove(n);t.end()}},teardown:r,reassign:i,firstNode:function(){return this.node},findNextNode:function(){return null},bubble:function(){},toString:o,find:s,findAll:a,findComponent:u,findAllComponents:c,bind:l},h}(O,k,cr,lr,hr,pr,dr,gr,vr,mr,yr),br={missingParser:"Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser"},xr={},kr=function(t){var e,n,r;for(r="";t.length;){if(e=t.indexOf("<!--"),n=t.indexOf("-->"),-1===e&&-1===n){r+=t;break}if(-1!==e&&-1===n)throw"Illegal HTML - expected closing comment sequence ('-->')";if(-1!==n&&-1===e||e>n)throw"Illegal HTML - unexpected closing comment sequence ('-->')";r+=t.substr(0,e),t=t.substring(n+3)}return r},Er=function(t){return function(e){var n,r,i,o,s,a;for(s=/^\s*\r?\n/,a=/\r?\n\s*$/,n=2;n<e.length;n+=1)r=e[n],i=e[n-1],o=e[n-2],r.type===t.TEXT&&i.type===t.MUSTACHE&&i.mustacheType!==t.PARTIAL&&o.type===t.TEXT&&a.test(o.value)&&s.test(r.value)&&(i.mustacheType!==t.INTERPOLATOR&&i.mustacheType!==t.TRIPLE&&(o.value=o.value.replace(a,"\n")),r.value=r.value.replace(s,""),""===r.value&&e.splice(n--,1));return e}}(D),Tr=function(t){return function(e){var n,r,i,o;for(n=0;n<e.length;n+=1)r=e[n],i=e[n-1],o=e[n+1],(r.mustacheType===t.COMMENT||r.mustacheType===t.DELIMCHANGE)&&(e.splice(n,1),i&&o&&i.type===t.TEXT&&o.type===t.TEXT&&(i.value+=o.value,e.splice(n,1)),n-=1);return e}}(D),_r=function(t){var e=t(/^[^\s=]+/);return function(t){var n,r,i;return t.getStringMatch("=")?(n=t.pos,t.allowWhitespace(),(r=e(t))?(t.allowWhitespace(),(i=e(t))?(t.allowWhitespace(),t.getStringMatch("=")?[r,i]:(t.pos=n,null)):(t.pos=n,null)):(t.pos=n,null)):null}}(En),Nr=function(t){var e={"#":t.SECTION,"^":t.INVERTED,"/":t.CLOSING,">":t.PARTIAL,"!":t.COMMENT,"&":t.TRIPLE};return function(t){var n=e[t.str.charAt(t.pos)];return n?(t.pos+=1,n):null}}(D),Cr=function(t,e,n){function r(e){for(var n=[];e.t===t.MEMBER&&e.r.t===t.REFINEMENT;)n.unshift(e.r),e=e.x;return e.t!==t.REFERENCE?null:{r:e.n,m:n}}var i=e(/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/),o=/^[0-9][1-9]*$/;return function(e,s){var a,u,c,l,h,f,p,d,g;if(a=e.pos,u={type:s?t.TRIPLE:t.MUSTACHE},!(s||((l=e.getExpression())&&(u.mustacheType=t.INTERPOLATOR,e.allowWhitespace(),e.getStringMatch(e.delimiters[1])?e.pos-=e.delimiters[1].length:(e.pos=a,l=null)),l||(c=n(e),c===t.TRIPLE?u={type:t.TRIPLE}:u.mustacheType=c||t.INTERPOLATOR,c!==t.COMMENT&&c!==t.CLOSING||(f=e.remaining(),p=f.indexOf(e.delimiters[1]),-1===p)))))return u.ref=f.substr(0,p),e.pos+=p,u;if(!l&&(e.allowWhitespace(),l=e.getExpression(),f=e.remaining(),d=s?e.tripleDelimiters[1]:e.delimiters[1],f.substr(0,d.length)!==d&&":"!==f.charAt(0)&&(e.pos=a,f=e.remaining(),p=f.indexOf(e.delimiters[1]),-1!==p)))return u.ref=f.substr(0,p).trim(),e.pos+=p,u;for(;l.t===t.BRACKETED&&l.x;)l=l.x;return l.t===t.REFERENCE?u.ref=l.n:l.t===t.NUMBER_LITERAL&&o.test(l.v)?u.ref=l.v:(g=r(l))?u.keypathExpression=g:u.expression=l,h=i(e),null!==h&&(u.indexRef=h),u}}(D,En,Nr),Sr=function(t,e,n){function r(r,i){var o,s,a=r.pos;return s=i?r.tripleDelimiters:r.delimiters,r.getStringMatch(s[0])?(o=e(r))?r.getStringMatch(s[1])?(r[i?"tripleDelimiters":"delimiters"]=o,{type:t.MUSTACHE,mustacheType:t.DELIMCHANGE}):(r.pos=a,null):(r.allowWhitespace(),o=n(r,i),null===o?(r.pos=a,null):(r.allowWhitespace(),r.getStringMatch(s[1])?o:(r.pos=a,null))):null}return function(){var t=this.tripleDelimiters[0].length>this.delimiters[0].length;return r(this,t)||r(this,!t)}}(D,_r,Cr),Ar=function(t){return function(){var e,n,r;if(!this.getStringMatch("<!--"))return null;if(n=this.remaining(),r=n.indexOf("-->"),-1===r)throw new Error('Unexpected end of input (expected "-->" to close comment)');return e=n.substr(0,r),this.pos+=r+3,{type:t.COMMENT,content:e}}}(D),Or=function(t,e){var n,r,i;for(n=e.length;n--;){if(r=t.indexOf(e[n]),!r)return 0;-1!==r&&(!i||i>r)&&(i=r)}return i||-1},Rr=function(t,e,n){var r,i,o,s,a,u,c,l,h,f,p,d,g;return r=function(){return i(this)||o(this)},i=function(e){var n,r,i,o;return n=e.pos,e.inside?null:e.getStringMatch("<")?(r={type:t.TAG},e.getStringMatch("!")&&(r.doctype=!0),r.name=s(e),r.name?(i=a(e),i&&(r.attrs=i),e.allowWhitespace(),e.getStringMatch("/")&&(r.selfClosing=!0),e.getStringMatch(">")?(o=r.name.toLowerCase(),("script"===o||"style"===o)&&(e.inside=o),r):(e.pos=n,null)):(e.pos=n,null)):null},o=function(e){var n,r,i;if(n=e.pos,i=function(t){throw new Error("Unexpected character "+e.remaining().charAt(0)+" (expected "+t+")")},!e.getStringMatch("<"))return null;if(r={type:t.TAG,closing:!0},e.getStringMatch("/")||i('"/"'),r.name=s(e),r.name||i("tag name"),e.getStringMatch(">")||i('">"'),e.inside){if(r.name.toLowerCase()!==e.inside)return e.pos=n,null;e.inside=null}return r},s=e(/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/),a=function(t){var e,n,r;if(e=t.pos,!t.getStringMatch(" ")&&!t.getStringMatch("\n"))return null;if(t.allowWhitespace(),r=u(t),!r)return t.pos=e,null;for(n=[];null!==r;)n.push(r),t.allowWhitespace(),r=u(t);return n},u=function(t){var e,n,r;return(n=c(t))?(e={name:n},r=l(t),r&&(e.value=r),e):null},c=e(/^[^\s"'>\/=]+/),l=function(t){var e,n;return e=t.pos,t.allowWhitespace(),t.getStringMatch("=")?(t.allowWhitespace(),n=g(t,"'")||g(t,'"')||h(t),null===n?(t.pos=e,null):n):(t.pos=e,null)},p=e(/^[^\s"'=<>`]+/),f=function(e){var n,r,i;return n=e.pos,(r=p(e))?(-1!==(i=r.indexOf(e.delimiters[0]))&&(r=r.substr(0,i),e.pos=n+r.length),{type:t.TEXT,value:r}):null},h=function(t){var e,n;for(e=[],n=t.getMustache()||f(t);null!==n;)e.push(n),n=t.getMustache()||f(t);return e.length?e:null},g=function(t,e){var n,r,i;if(n=t.pos,!t.getStringMatch(e))return null;for(r=[],i=t.getMustache()||d(t,e);null!==i;)r.push(i),i=t.getMustache()||d(t,e);return t.getStringMatch(e)?r:(t.pos=n,null)},d=function(e,r){var i,o,s;if(i=e.pos,s=e.remaining(),o=n(s,[r,e.delimiters[0],e.delimiters[1]]),-1===o)throw new Error("Quoted attribute value must have a closing quote");return o?(e.pos+=o,{type:t.TEXT,value:s.substr(0,o)}):null},r}(D,En,Or),Lr=function(t,e){return function(){var n,r,i;return r=this.remaining(),i=this.inside?"</"+this.inside:"<",(n=this.inside&&!this.interpolate[this.inside]?r.indexOf(i):e(r,[i,this.delimiters[0],this.tripleDelimiters[0]]))?(-1===n&&(n=r.length),this.pos+=n,{type:t.TEXT,value:r.substr(0,n)}):null}}(D,Or),Mr=function(t){return function(e){var n=e.remaining();return"true"===n.substr(0,4)?(e.pos+=4,{t:t.BOOLEAN_LITERAL,v:"true"}):"false"===n.substr(0,5)?(e.pos+=5,{t:t.BOOLEAN_LITERAL,v:"false"}):null}}(D),jr=function(t,e){return function(n){var r,i,o;return r=n.pos,n.allowWhitespace(),i=e(n),null===i?(n.pos=r,null):(n.allowWhitespace(),n.getStringMatch(":")?(n.allowWhitespace(),o=n.getExpression(),null===o?(n.pos=r,null):{t:t.KEY_VALUE_PAIR,k:i,v:o}):(n.pos=r,null))}}(D,On),Fr=function(t){return function e(n){var r,i,o,s;return r=n.pos,o=t(n),null===o?null:(i=[o],n.getStringMatch(",")?(s=e(n),s?i.concat(s):(n.pos=r,null)):i)}}(jr),Ir=function(t,e){return function(n){var r,i;return r=n.pos,n.allowWhitespace(),n.getStringMatch("{")?(i=e(n),n.allowWhitespace(),n.getStringMatch("}")?{t:t.OBJECT_LITERAL,m:i}:(n.pos=r,null)):(n.pos=r,null)}}(D,Fr),Dr=function go(t){var e,n,r,i;if(e=t.pos,t.allowWhitespace(),r=t.getExpression(),null===r)return null;if(n=[r],t.allowWhitespace(),t.getStringMatch(",")){if(i=go(t),null===i)return t.pos=e,null;n=n.concat(i)}return n},Pr=function(t,e){return function(n){var r,i;return r=n.pos,n.allowWhitespace(),n.getStringMatch("[")?(i=e(n),n.getStringMatch("]")?{t:t.ARRAY_LITERAL,m:i}:(n.pos=r,null)):(n.pos=r,null)}}(D,Dr),qr=function(t,e,n,r,i){return function(o){var s=t(o)||e(o)||n(o)||r(o)||i(o);return s}}(Sn,Mr,Cn,Ir,Pr),Hr=function(t,e,n){var r,i,o,s;return r=e(/^\.[a-zA-Z_$0-9]+/),i=function(t){var e=o(t);return e?"."+e:null},o=e(/^\[(0|[1-9][0-9]*)\]/),s=/^(?:Array|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)$/,function(e){var o,a,u,c,l,h,f;for(o=e.pos,a="";e.getStringMatch("../");)a+="../";if(a||(c=e.getStringMatch(".")||""),u=n(e)||"",!a&&!c&&s.test(u))return{t:t.GLOBAL,v:u};if("this"!==u||a||c||(u=".",o+=3),l=(a||c)+u,!l)return null;for(;h=r(e)||i(e);)l+=h;return e.getStringMatch("(")&&(f=l.lastIndexOf("."),-1!==f?(l=l.substr(0,f),e.pos=o+l.length):e.pos-=1),{t:t.REFERENCE,n:l}}}(D,En,An),Br=function(t){return function(e){var n,r;return n=e.pos,e.getStringMatch("(")?(e.allowWhitespace(),(r=e.getExpression())?(e.allowWhitespace(),e.getStringMatch(")")?{t:t.BRACKETED,x:r}:(e.pos=n,null)):(e.pos=n,null)):null}}(D),Wr=function(t,e,n){return function(r){return t(r)||e(r)||n(r)}}(qr,Hr,Br),$r=function(t,e){return function(n){var r,i,o;if(r=n.pos,n.allowWhitespace(),n.getStringMatch(".")){if(n.allowWhitespace(),i=e(n))return{t:t.REFINEMENT,n:i};n.expected("a property name")}return n.getStringMatch("[")?(n.allowWhitespace(),o=n.getExpression(),o||n.expected("an expression"),n.allowWhitespace(),n.getStringMatch("]")||n.expected('"]"'),{t:t.REFINEMENT,x:o}):null}}(D,An),Ur=function(t,e,n,r){return function(i){var o,s,a,u;if(s=e(i),!s)return null;for(;s;)if(o=i.pos,a=r(i))s={t:t.MEMBER,x:s,r:a};else{if(!i.getStringMatch("("))break;if(i.allowWhitespace(),u=n(i),i.allowWhitespace(),!i.getStringMatch(")")){i.pos=o;break}s={t:t.INVOCATION,x:s},u&&(s.o=u)}return s}}(D,Wr,Dr,$r),Vr=function(t,e){var n,r;return r=function(e,n){return function(r){var i,o;return r.getStringMatch(e)?(i=r.pos,r.allowWhitespace(),o=r.getExpression(),o||r.expected("an expression"),{s:e,o:o,t:t.PREFIX_OPERATOR}):n(r)}},function(){var t,i,o,s,a;for(s="! ~ + - typeof".split(" "),a=e,t=0,i=s.length;i>t;t+=1)o=r(s[t],a),a=o;n=a}(),n}(D,Ur),zr=function(t,e){var n,r;return r=function(e,n){return function(r){var i,o,s;if(o=n(r),!o)return null;for(;;){if(i=r.pos,r.allowWhitespace(),!r.getStringMatch(e))return r.pos=i,o;if("in"===e&&/[a-zA-Z_$0-9]/.test(r.remaining().charAt(0)))return r.pos=i,o;if(r.allowWhitespace(),s=n(r),!s)return r.pos=i,o;o={t:t.INFIX_OPERATOR,s:e,o:[o,s]}}}},function(){var t,i,o,s,a;for(s="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),a=e,t=0,i=s.length;i>t;t+=1)o=r(s[t],a),a=o;n=a}(),n}(D,Vr),Xr=function(t,e){return function(n){var r,i,o,s;return(i=e(n))?(r=n.pos,n.allowWhitespace(),n.getStringMatch("?")?(n.allowWhitespace(),(o=n.getExpression())?(n.allowWhitespace(),n.getStringMatch(":")?(n.allowWhitespace(),s=n.getExpression(),s?{t:t.CONDITIONAL,o:[i,o,s]}:(n.pos=r,i)):(n.pos=r,i)):(n.pos=r,i)):(n.pos=r,i)):null}}(D,zr),Qr=function(t){return function(){return t(this)}}(Xr),Jr=function(t,e,n,r,i,o,s){var a;return a=function(t,e){var n;for(this.str=t,this.pos=0,this.delimiters=e.delimiters,this.tripleDelimiters=e.tripleDelimiters,this.interpolate=e.interpolate,this.tokens=[];this.pos<this.str.length;)n=this.getToken(),null===n&&this.remaining()&&this.fail(),this.tokens.push(n)},a.prototype={getToken:function(){var t=this.getMustache()||this.getComment()||this.getTag()||this.getText();return t},getMustache:t,getComment:e,getTag:n,getText:r,getExpression:i,allowWhitespace:o,getStringMatch:s,remaining:function(){return this.str.substring(this.pos)},fail:function(){var t,e;throw t=this.str.substr(0,this.pos).substr(-20),20===t.length&&(t="..."+t),e=this.remaining().substr(0,20),20===e.length&&(e+="..."),new Error("Could not parse template: "+(t?t+"<- ":"")+"failed at character "+this.pos+" ->"+e)},expected:function(t){var e=this.remaining().substr(0,40);throw 40===e.length&&(e+="..."),new Error('Tokenizer failed: unexpected string "'+e+'" (expected '+t+")")}},a}(Sr,Ar,Rr,Lr,Qr,kn,xn),Gr=function(t,e,n,r,i){return function(o,s){var a,u;return s=s||{},s.stripComments!==!1&&(o=e(o)),a=new i(o,{delimiters:s.delimiters||t.defaults.delimiters,tripleDelimiters:s.tripleDelimiters||t.defaults.tripleDelimiters,interpolate:{script:s.interpolateScripts!==!1?!0:!1,style:s.interpolateStyles!==!1?!0:!1}}),u=a.tokens,n(u),r(u),u}}(i,kr,Er,Tr,Jr),Yr=function(t){var e,n,r,i,o,s,a,u,c;return e=function(t,e){this.text=e?t.value:t.value.replace(c," ")},e.prototype={type:t.TEXT,toJSON:function(){return this.decoded||(this.decoded=u(this.text))},toString:function(){return this.text}},n={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},r=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],i=new RegExp("&("+Object.keys(n).join("|")+");?","g"),o=/&#x([0-9]+);?/g,s=/&#([0-9]+);?/g,a=function(t){return t?10===t?32:128>t?t:159>=t?r[t-128]:55296>t?t:57343>=t?65533:65535>=t?t:65533:65533},u=function(t){var e;return e=t.replace(i,function(t,e){return n[e]?String.fromCharCode(n[e]):t}),e=e.replace(o,function(t,e){return String.fromCharCode(a(parseInt(e,16)))}),e=e.replace(s,function(t,e){return String.fromCharCode(a(e))})},c=/\s+/g,e}(D),Kr=function(t,e){return function(n,r){return n.type===t.TEXT?(this.pos+=1,new e(n,r)):null}}(D,Yr),Zr=function(t){var e;return e=function(t){this.content=t.content},e.prototype={toJSON:function(){return{t:t.COMMENT,f:this.content}},toString:function(){return"<!--"+this.content+"-->"}},e}(D),ti=function(t,e){return function(n){return n.type===t.COMMENT?(this.pos+=1,new e(n,this.preserveWhitespace)):null}}(D,Zr),ei=function(t,e){function n(t){return JSON.stringify(String(t))}function r(n,i){var o,s;if(n.t===t.REFERENCE&&-1===i.indexOf(n.n)&&i.unshift(n.n),s=n.o||n.m)if(e(s))r(s,i);else for(o=s.length;o--;)r(s[o],i);n.x&&r(n.x,i),n.r&&r(n.r,i),n.v&&r(n.v,i)}function i(e,r){var o=function(t){return i(t,r)};switch(e.t){case t.BOOLEAN_LITERAL:case t.GLOBAL:case t.NUMBER_LITERAL:return e.v;case t.STRING_LITERAL:return n(e.v);case t.ARRAY_LITERAL:return"["+(e.m?e.m.map(o).join(","):"")+"]";case t.OBJECT_LITERAL:return"{"+(e.m?e.m.map(o).join(","):"")+"}";case t.KEY_VALUE_PAIR:return e.k+":"+i(e.v,r);case t.PREFIX_OPERATOR:return("typeof"===e.s?"typeof ":e.s)+i(e.o,r);case t.INFIX_OPERATOR:return i(e.o[0],r)+("in"===e.s.substr(0,2)?" "+e.s+" ":e.s)+i(e.o[1],r);case t.INVOCATION:return i(e.x,r)+"("+(e.o?e.o.map(o).join(","):"")+")";case t.BRACKETED:return"("+i(e.x,r)+")";case t.MEMBER:return i(e.x,r)+i(e.r,r);case t.REFINEMENT:return e.n?"."+e.n:"["+i(e.x,r)+"]";case t.CONDITIONAL:return i(e.o[0],r)+"?"+i(e.o[1],r)+":"+i(e.o[2],r);
case t.REFERENCE:return"${"+r.indexOf(e.n)+"}";default:throw new Error("Could not stringify expression token. This error is unexpected")}}var o=function(t){this.refs=[],r(t,this.refs),this.str=i(t,this.refs)};return o.prototype={toJSON:function(){return this.json||(this.json={r:this.refs,s:this.str}),this.json}},o}(D,te),ni=function(t,e){function n(n){return n.n?n.n:n.x.t===t.STRING_LITERAL||n.x.t===t.NUMBER_LITERAL?n.x.v:n.x.t===t.REFERENCE?n.x:new e(n.x).toJSON()}var r;return r=function(t){this.json={r:t.r,m:t.m.map(n)}},r.prototype={toJSON:function(){return this.json}},r}(D,ei),ri=function(t,e,n){var r=function(r,i){this.type=r.type===t.TRIPLE?t.TRIPLE:r.mustacheType,r.ref&&(this.ref=r.ref),r.keypathExpression&&(this.keypathExpr=new e(r.keypathExpression)),r.expression&&(this.expr=new n(r.expression)),i.pos+=1};return r.prototype={toJSON:function(){var t;return this.json?this.json:(t={t:this.type},this.ref&&(t.r=this.ref),this.keypathExpr&&(t.kx=this.keypathExpr.toJSON()),this.expr&&(t.x=this.expr.toJSON()),this.json=t,t)},toString:function(){return!1}},r}(D,ni,ei),ii=function(t){var e,n,r,i="";if(!t)return"";for(n=0,r=t.length;r>n;n+=1){if(e=t[n].toString(),e===!1)return!1;i+=e}return i},oi=function(t){return function(e,n,r){var i,o;return r||n||(i=t(e),i===!1)?o=e.map(function(t){return t.toJSON(n)}):i}}(ii),si=function(t,e,n,r,i){function o(t,n){var r=t.ref,i=e(n.ref.trim());if(r&&i&&(t.indexRef&&(r+=":"+t.indexRef),r.substr(0,i.length)!==i))throw new Error("Could not parse template: Illegal closing section {{/"+i+"}}. Expected {{/"+t.ref+"}}.")}var s=function(e,n){var s;for(this.ref=e.ref,this.indexRef=e.indexRef,this.inverted=e.mustacheType===t.INVERTED,e.keypathExpression&&(this.keypathExpr=new r(e.keypathExpression)),e.expression&&(this.expr=new i(e.expression)),n.pos+=1,this.items=[],s=n.next();s;){if(s.mustacheType===t.CLOSING){o(this,s),n.pos+=1;break}this.items.push(n.getStub()),s=n.next()}};return s.prototype={toJSON:function(e){var r;return this.json?this.json:(r={t:t.SECTION},this.ref&&(r.r=this.ref),this.indexRef&&(r.i=this.indexRef),this.inverted&&(r.n=!0),this.expr&&(r.x=this.expr.toJSON()),this.keypathExpr&&(r.kx=this.keypathExpr.toJSON()),this.items.length&&(r.f=n(this.items,e)),this.json=r,r)},toString:function(){return!1}},s}(D,v,oi,ni,ei),ai=function(t,e,n){return function(r){return r.type===t.MUSTACHE||r.type===t.TRIPLE?r.mustacheType===t.SECTION||r.mustacheType===t.INVERTED?new n(r,this):new e(r,this):void 0}}(D,ri,si),ui={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote dir div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rp","rt"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tr:["tr"],td:["td","th"],th:["td","th"]},ci=function(t){function e(n){var r,i;if("object"!=typeof n)return n;if(t(n))return n.map(e);r={};for(i in n)n.hasOwnProperty(i)&&(r[i]=e(n[i]));return r}return function(t){var n,r,i,o,s,a;for(i={},n=[],r=[],s=t.length,o=0;s>o;o+=1)if(a=t[o],"intro"===a.name){if(i.intro)throw new Error("An element can only have one intro transition");i.intro=a}else if("outro"===a.name){if(i.outro)throw new Error("An element can only have one outro transition");i.outro=a}else if("intro-outro"===a.name){if(i.intro||i.outro)throw new Error("An element can only have one intro and one outro transition");i.intro=a,i.outro=e(a)}else"proxy-"===a.name.substr(0,6)?(a.name=a.name.substring(6),r.push(a)):"on-"===a.name.substr(0,3)?(a.name=a.name.substring(3),r.push(a)):"decorator"===a.name?i.decorator=a:n.push(a);return i.attrs=n,i.proxies=r,i}}(L),li=function(t,e){return function(n){var r,i,o,s,a,u,c,l;for(a=function(){throw new Error("Illegal directive")},n.name&&n.value||a(),r={directiveType:n.name},i=n.value,u=[],c=[];i.length;)if(o=i.shift(),o.type===t.TEXT){if(s=o.value.indexOf(":"),-1!==s){s&&u.push({type:t.TEXT,value:o.value.substr(0,s)}),o.value.length>s+1&&(c[0]={type:t.TEXT,value:o.value.substring(s+1)});break}u.push(o)}else u.push(o);return c=c.concat(i),r.name=1===u.length&&u[0].type===t.TEXT?u[0].value:u,c.length&&(1===c.length&&c[0].type===t.TEXT?(l=e("["+c[0].value+"]"),r.args=l?l.value:c[0].value):r.dynamicArgs=c),r}}(D,Rn),hi=function(t,e){var n;return n=function(t,e){var n;for(this.tokens=t||[],this.pos=0,this.options=e,this.result=[];n=this.getStub();)this.result.push(n)},n.prototype={getStub:function(){var t=this.next();return t?this.getText(t)||this.getMustache(t):null},getText:t,getMustache:e,next:function(){return this.tokens[this.pos]}},n}(Kr,ai),fi=function(t,e,n){var r;return r=function(e){var n=new t(e);this.stubs=n.result},r.prototype={toJSON:function(t){var e;return this["json_"+t]?this["json_"+t]:e=this["json_"+t]=n(this.stubs,t)},toString:function(){return void 0!==this.str?this.str:(this.str=e(this.stubs),this.str)}},r}(hi,ii,oi),pi=function(t){return function(e){var n,r;if("string"==typeof e.name){if(!e.args&&!e.dynamicArgs)return e.name;r=e.name}else r=new t(e.name).toJSON();return n={n:r},e.args?(n.a=e.args,n):(e.dynamicArgs&&(n.d=new t(e.dynamicArgs).toJSON()),n)}}(fi),di=function(t,e,n){return function(r){var i,o,s,a,u,c,l;if(this["json_"+r])return this["json_"+r];if(i={t:t.ELEMENT,e:this.tag},this.doctype&&(i.y=1),this.attributes&&this.attributes.length)for(i.a={},c=this.attributes.length,u=0;c>u;u+=1){if(l=this.attributes[u],o=l.name,i.a[o])throw new Error("You cannot have multiple attributes with the same name");s=null===l.value?null:l.value.toJSON(r),i.a[o]=s}if(this.items&&this.items.length&&(i.f=e(this.items,r)),this.proxies&&this.proxies.length)for(i.v={},c=this.proxies.length,u=0;c>u;u+=1)a=this.proxies[u],i.v[a.directiveType]=n(a);return this.intro&&(i.t1=n(this.intro)),this.outro&&(i.t2=n(this.outro)),this.decorator&&(i.o=n(this.decorator)),this["json_"+r]=i,i}}(D,oi,pi),gi=function(t,e){var n;return n="a abbr acronym address applet area b base basefont bdo big blockquote body br button caption center cite code col colgroup dd del dfn dir div dl dt em fieldset font form frame frameset h1 h2 h3 h4 h5 h6 head hr html i iframe img input ins isindex kbd label legend li link map menu meta noframes noscript object ol p param pre q s samp script select small span strike strong style sub sup textarea title tt u ul var article aside audio bdi canvas command data datagrid datalist details embed eventsource figcaption figure footer header hgroup keygen mark meter nav output progress ruby rp rt section source summary time track video wbr".split(" "),function(){var r,i,o,s,a,u,c,l;if(void 0!==this.str)return this.str;if(-1===n.indexOf(this.tag.toLowerCase()))return this.str=!1;if(this.proxies||this.intro||this.outro||this.decorator)return this.str=!1;if(c=t(this.items),c===!1)return this.str=!1;if(l=-1!==e.indexOf(this.tag.toLowerCase()),r="<"+this.tag,this.attributes)for(i=0,o=this.attributes.length;o>i;i+=1){if(a=this.attributes[i].name,-1!==a.indexOf(":"))return this.str=!1;if("id"===a||"intro"===a||"outro"===a)return this.str=!1;if(s=" "+a,null!==this.attributes[i].value){if(u=this.attributes[i].value.toString(),u===!1)return this.str=!1;""!==u&&(s+="=",s+=/[\s"'=<>`]/.test(u)?'"'+u.replace(/"/g,"&quot;")+'"':u)}r+=s}return this.selfClosing&&!l?(r+="/>",this.str=r):(r+=">",l?this.str=r:(r+=c,r+="</"+this.tag+">",this.str=r))}}(ii,fr),vi=function(t,e,n,r,i,o,s,a,u){var c,l,h,f,p,d=/^\s+/,g=/\s+$/;return c=function(s,a,c){var l,h,f,v,m,y,w;if(a.pos+=1,y=function(t){return{name:t.name,value:t.value?new u(t.value):null}},this.tag=s.name,w=s.name.toLowerCase(),"rv-"===w.substr(0,3)&&(n('The "rv-" prefix for components has been deprecated. Support will be removed in a future version'),this.tag=this.tag.substring(3)),c=c||"pre"===w||"style"===w||"script"===w,s.attrs&&(f=i(s.attrs),h=f.attrs,v=f.proxies,a.options.sanitize&&a.options.sanitize.eventAttributes&&(h=h.filter(p)),h.length&&(this.attributes=h.map(y)),v.length&&(this.proxies=v.map(o)),f.intro&&(this.intro=o(f.intro)),f.outro&&(this.outro=o(f.outro)),f.decorator&&(this.decorator=o(f.decorator))),s.doctype&&(this.doctype=!0),s.selfClosing&&(this.selfClosing=!0),-1!==e.indexOf(w)&&(this.isVoid=!0),!this.selfClosing&&!this.isVoid){for(this.siblings=r[w],this.items=[],l=a.next();l&&l.mustacheType!==t.CLOSING;){if(l.type===t.TAG){if(l.closing){l.name.toLowerCase()===w&&(a.pos+=1);break}if(this.siblings&&-1!==this.siblings.indexOf(l.name.toLowerCase()))break}this.items.push(a.getStub(c)),l=a.next()}c||(m=this.items[0],m&&m.type===t.TEXT&&(m.text=m.text.replace(d,""),m.text||this.items.shift()),m=this.items[this.items.length-1],m&&m.type===t.TEXT&&(m.text=m.text.replace(g,""),m.text||this.items.pop()))}},c.prototype={toJSON:s,toString:a},l="a abbr acronym address applet area b base basefont bdo big blockquote body br button caption center cite code col colgroup dd del dfn dir div dl dt em fieldset font form frame frameset h1 h2 h3 h4 h5 h6 head hr html i iframe img input ins isindex kbd label legend li link map menu meta noframes noscript object ol p param pre q s samp script select small span strike strong style sub sup textarea title tt u ul var article aside audio bdi canvas command data datagrid datalist details embed eventsource figcaption figure footer header hgroup keygen mark meter nav output progress ruby rp rt section source summary time track video wbr".split(" "),h="li dd rt rp optgroup option tbody tfoot tr td th".split(" "),f=/^on[a-zA-Z]/,p=function(t){var e=!f.test(t.name);return e},c}(D,fr,Z,ui,ci,li,di,gi,fi),mi=function(t){return function(e){return this.options.sanitize&&this.options.sanitize.elements&&-1!==this.options.sanitize.elements.indexOf(e.name.toLowerCase())?null:new t(e,this,this.preserveWhitespace)}}(vi),yi=function(t,e,n,r,i){var o;return o=function(t,e){var n,r;for(this.tokens=t||[],this.pos=0,this.options=e,this.preserveWhitespace=e.preserveWhitespace,r=[];n=this.getStub();)r.push(n);this.result=i(r,e.noStringify,!0)},o.prototype={getStub:function(t){var e=this.next();return e?this.getText(e,this.preserveWhitespace||t)||this.getComment(e)||this.getMustache(e)||this.getElement(e):null},getText:t,getComment:e,getMustache:n,getElement:r,next:function(){return this.tokens[this.pos]}},o}(Kr,ti,ai,mi,oi),wi=function(t,e,n){var r,i,o,s,a;return i=/^\s*$/,o=/<!--\s*\{\{\s*>\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*}\}\s*-->/,s=/<!--\s*\{\{\s*\/\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*}\}\s*-->/,r=function(r,s){var u,c,l;return s=s||{},o.test(r)?a(r,s):(s.sanitize===!0&&(s.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),u=t(r,s),s.preserveWhitespace||(l=u[0],l&&l.type===e.TEXT&&i.test(l.value)&&u.shift(),l=u[u.length-1],l&&l.type===e.TEXT&&i.test(l.value)&&u.pop()),c=new n(u,s).result,"string"==typeof c?[c]:c)},a=function(t,e){var n,i,a,u,c,l;for(a={},n="",i=t;c=o.exec(i);){if(u=c[1],n+=i.substr(0,c.index),i=i.substring(c.index+c[0].length),l=s.exec(i),!l||l[1]!==u)throw new Error("Inline partials must have a closing delimiter, and cannot be nested");a[u]=r(i.substr(0,l.index),e),i=i.substring(l.index+l[0].length)}return{main:r(n,e),partials:a}},r}(Gr,D,yi),bi=function(){function t(t,e){var r=n.exec(e)[0];return null===t||r.length<t.length?r:t}var e=/^\s*$/,n=/^\s*/;return function(n){var r,i,o,s;return r=n.split("\n"),i=r[0],void 0!==i&&e.test(i)&&r.shift(),o=r[r.length-1],void 0!==o&&e.test(o)&&r.pop(),s=r.reduce(t,null),s&&(n=r.map(function(t){return t.replace(s,"")}).join("\n")),n}}(),xi=function(t,e,n,r,i,o,s){var a,u,c,l;return a=function(r,a){var h,f,p;if(f=c(r,a))return f;if(e&&(h=document.getElementById(a),h&&"SCRIPT"===h.tagName)){if(!o)throw new Error(t.missingParser);u(o(s(h.text),r.parseOptions),a,i)}if(f=i[a],!f){if(p='Could not find descriptor for partial "'+a+'"',r.debug)throw new Error(p);return n(p),[]}return l(f)},c=function(e,n){var r;if(e.partials[n]){if("string"==typeof e.partials[n]){if(!o)throw new Error(t.missingParser);r=o(e.partials[n],e.parseOptions),u(r,n,e.partials)}return l(e.partials[n])}},u=function(t,e,n){var i;if(r(t)){n[e]=t.main;for(i in t.partials)t.partials.hasOwnProperty(i)&&(n[i]=t.partials[i])}else n[e]=t},l=function(t){return 1===t.length&&"string"==typeof t[0]?t[0]:t},a}(br,u,Z,te,xr,wi,bi),ki=function(t,e){var n;return e?n=t.split("\n").map(function(t,n){return n?e+t:t}).join("\n"):t},Ei=function(t,e,n,r){var i,o;return r.push(function(){o=r.DomFragment}),i=function(n,r){var i,s=this.parentFragment=n.parentFragment;if(this.type=t.PARTIAL,this.name=n.descriptor.r,this.index=n.index,!n.descriptor.r)throw new Error("Partials must have a static reference (no expressions). This may change in a future version of Ractive.");i=e(s.root,n.descriptor.r),this.fragment=new o({descriptor:i,root:s.root,pNode:s.pNode,owner:this}),r&&r.appendChild(this.fragment.docFrag)},i.prototype={firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},detach:function(){return this.fragment.detach()},reassign:function(t,e,n,r){return this.fragment.reassign(t,e,n,r)},teardown:function(t){this.fragment.teardown(t)},toString:function(){var e,r,i,o;return e=this.fragment.toString(),r=this.parentFragment.items[this.index-1],r&&r.type===t.TEXT?(i=r.descriptor.split("\n").pop(),(o=/^\s+$/.exec(i))?n(e,o[0]):e):e},find:function(t){return this.fragment.find(t)},findAll:function(t,e){return this.fragment.findAll(t,e)},findComponent:function(t){return this.fragment.findComponent(t)},findAllComponents:function(t,e){return this.fragment.findAllComponents(t,e)}},i}(D,xi,ki,b),Ti=function(t,e){var n=function(t,n,r){this.parentFragment=t.parentFragment,this.component=t,this.key=n,this.fragment=new e({descriptor:r,root:t.root,owner:this}),this.selfUpdating=this.fragment.isSimple(),this.value=this.fragment.getValue()};return n.prototype={bubble:function(){this.selfUpdating?this.update():!this.deferred&&this.ready&&(t.addAttribute(this),this.deferred=!0)},update:function(){var t=this.fragment.getValue();this.component.instance.set(this.key,t),this.value=t},teardown:function(){this.fragment.teardown()}},n}(O,In),_i=function(t,e,n,r,i){function o(o,s,a,u){var c,l,h,f,p,d;return h=o.root,f=o.parentFragment,"string"==typeof a?(l=e(a),l?l.value:a):null===a?!0:1===a.length&&a[0].t===t.INTERPOLATOR&&a[0].r?f.indexRefs&&void 0!==f.indexRefs[d=a[0].r]?(o.indexRefBindings[d]=s,f.indexRefs[d]):(p=n(h,a[0].r,f)||a[0].r,u.push({childKeypath:s,parentKeypath:p}),r(h,p)):(c=new i(o,s,a),o.complexParameters.push(c),c.value)}return function(t,e,n,r){var i,s,a;i={},t.complexParameters=[];for(s in n)n.hasOwnProperty(s)&&(a=o(t,s,n[s],r),(void 0!==a||void 0===e[s])&&(i[s]=a));return i}}(D,Rn,N,K,Ti),Ni=function(){function t(t,e){var n,r,i;if(n=t.adapt.length?t.adapt.map(function(e){return"object"==typeof e?e:t.adaptors[e]||e}):[],r=e.length)for(i=0;r>i;i+=1)-1===n.indexOf(e[i])&&n.push(e[i]);return n}return function(e,n,r,i,o){var s,a,u,c,l;return a=e.parentFragment,c=e.root,u={content:o||[]},l=t(c,n.defaults.adapt,n.adaptors),s=new n({el:a.pNode,append:!0,data:r,partials:u,magic:c.magic||n.defaults.magic,modifyArrays:c.modifyArrays,_parent:c,_component:e,adapt:l}),i&&(s.insert(i),s.fragment.pNode=s.el=a.pNode),s}}(),Ci=function(t,e,n){return function(r,i){i.forEach(function(i){var o,s;t(r,r.root,i.parentKeypath,i.childKeypath),o=e(r.instance,i.childKeypath),s=e(r.root,i.parentKeypath),void 0!==o&&void 0===s&&n(r.root,i.parentKeypath,o)})}}(J,K,H),Si=function(t){function e(e,r,i,o){if("string"!=typeof o){if(r.debug)throw new Error(n);return void t(n)}e.on(i,function(){var t=Array.prototype.slice.call(arguments);t.unshift(o),r.fire.apply(r,t)})}var n="Components currently only support simple events - you cannot include arguments. Sorry!";return function(t,n){var r;for(r in n)n.hasOwnProperty(r)&&e(t.instance,t.root,r,n[r])}}(Z),Ai=function(t){var e,n;for(e=t.root;e;)(n=e._liveComponentQueries[t.name])&&n.push(t.instance),e=e._parent},Oi=function(t,e,n,r,i,o,s){return function(a,u,c){var l,h,f,p,d;if(l=a.parentFragment=u.parentFragment,h=l.root,a.root=h,a.type=t.COMPONENT,a.name=u.descriptor.e,a.index=u.index,a.indexRefBindings={},a.bindings=[],f=h.components[u.descriptor.e],!f)throw new Error('Component "'+u.descriptor.e+'" not found');d=[],p=n(a,f.data||{},u.descriptor.a,d),r(a,f,p,c,u.descriptor.f),i(a,d),o(a,u.descriptor.v),(u.descriptor.t1||u.descriptor.t2||u.descriptor.o)&&e('The "intro", "outro" and "decorator" directives have no effect on components'),s(a)}}(D,Z,_i,Ni,Ci,Si,Ai),Ri=function(t,e){function n(t){var e,n;e=t.root;do(n=e._liveComponentQueries[t.name])&&n._remove(t);while(e=e._parent)}var r=function(e,n){t(this,e,n)};return r.prototype={firstNode:function(){return this.instance.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},detach:function(){return this.instance.fragment.detach()},teardown:function(t){for(;this.complexParameters.length;)this.complexParameters.pop().teardown();for(;this.bindings.length;)this.bindings.pop().teardown();n(this),this.shouldDestroy=t,this.instance.teardown()},reassign:function(t,n,r,i){var o,s,a=this.instance,u=a._parent;this.bindings.forEach(function(o){var s;o.root===u&&(o.keypath===t&&a.set(o.otherKeypath,n),(s=e(o.keypath,r,i))&&o.reassign(s))}),(o=this.indexRefBindings[t])&&a.set(o,n),(s=this.root._liveComponentQueries[this.name])&&s._makeDirty()},toString:function(){return this.instance.fragment.toString()},find:function(t){return this.instance.fragment.find(t)},findAll:function(t,e){return this.instance.fragment.findAll(t,e)},findComponent:function(t){return t&&t!==this.name?this.instance.fragment?this.instance.fragment.findComponent(t):null:this.instance},findAllComponents:function(t,e){e._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(t,e)}},r}(Oi,Pe),Li=function(t,e){var n=function(e,n){this.type=t.COMMENT,this.descriptor=e.descriptor,n&&(this.node=document.createComment(e.descriptor.f),n.appendChild(this.node))};return n.prototype={detach:e,teardown:function(t){t&&this.detach()},firstNode:function(){return this.node},toString:function(){return"<!--"+this.descriptor.f+"-->"}},n}(D,$e),Mi=function(t,e,n,r,i,o,s,a,u,c,l,h,f){var p=function(t){t.pNode&&(this.docFrag=document.createDocumentFragment()),"string"==typeof t.descriptor?(this.html=t.descriptor,this.docFrag&&(this.nodes=r(this.html,t.pNode.tagName,t.pNode.namespaceURI,this.docFrag))):n.init(this,t)};return p.prototype={reassign:n.reassign,detach:function(){var t,e;if(this.docFrag){if(this.nodes)for(t=this.nodes.length,e=0;t>e;e+=1)this.docFrag.appendChild(this.nodes[e]);else if(this.items)for(t=this.items.length,e=0;t>e;e+=1)this.docFrag.appendChild(this.items[e].detach());return this.docFrag}},createItem:function(e){if("string"==typeof e.descriptor)return new i(e,this.docFrag);switch(e.descriptor.t){case t.INTERPOLATOR:return new o(e,this.docFrag);case t.SECTION:return new s(e,this.docFrag);case t.TRIPLE:return new a(e,this.docFrag);case t.ELEMENT:return this.root.components[e.descriptor.e]?new l(e,this.docFrag):new u(e,this.docFrag);case t.PARTIAL:return new c(e,this.docFrag);case t.COMMENT:return new h(e,this.docFrag);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/RactiveJS/Ractive/issues. Thanks!")}},teardown:function(t){var e;if(this.nodes&&t)for(;e=this.nodes.pop();)e.parentNode.removeChild(e);else if(this.items)for(;this.items.length;)this.items.pop().teardown(t);this.nodes=this.items=this.docFrag=null},firstNode:function(){return this.items&&this.items[0]?this.items[0].firstNode():this.nodes?this.nodes[0]||null:null},findNextNode:function(t){var e=t.index;return this.items[e+1]?this.items[e+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)},toString:function(){var t,e,n,r;if(this.html)return this.html;if(t="",!this.items)return t;for(n=this.items.length,e=0;n>e;e+=1)r=this.items[e],t+=r.toString();return t},find:function(t){var n,r,i,o,s;if(this.nodes){for(r=this.nodes.length,n=0;r>n;n+=1)if(o=this.nodes[n],1===o.nodeType){if(e(o,t))return o;if(s=o.querySelector(t))return s}return null}if(this.items){for(r=this.items.length,n=0;r>n;n+=1)if(i=this.items[n],i.find&&(s=i.find(t)))return s;return null}},findAll:function(t,n){var r,i,o,s,a,u,c;if(this.nodes){for(i=this.nodes.length,r=0;i>r;r+=1)if(s=this.nodes[r],1===s.nodeType&&(e(s,t)&&n.push(s),a=s.querySelectorAll(t)))for(u=a.length,c=0;u>c;c+=1)n.push(a[c])}else if(this.items)for(i=this.items.length,r=0;i>r;r+=1)o=this.items[r],o.findAll&&o.findAll(t,n);return n},findComponent:function(t){var e,n,r,i;if(this.items){for(e=this.items.length,n=0;e>n;n+=1)if(r=this.items[n],r.findComponent&&(i=r.findComponent(t)))return i;return null}},findAllComponents:function(t,e){var n,r,i;if(this.items)for(r=this.items.length,n=0;r>n;n+=1)i=this.items[n],i.findAllComponents&&i.findAllComponents(t,e);return e}},f.DomFragment=p,p}(D,ae,Be,We,Ue,rn,ln,hn,wr,Ei,Ri,Li,b),ji=function(t,e,n){function r(t){for(var e;e=t._childInitQueue.pop();)e.instance.init&&e.instance.init(e.options),r(e.instance)}return function(i,o){if(this._rendering=!0,t.start(this,o),!this._initing)throw new Error("You cannot call ractive.render() directly!");this.constructor.css&&e.add(this.constructor),this.fragment=new n({descriptor:this.template,root:this,owner:this,pNode:i}),i&&i.appendChild(this.fragment.docFrag),this._parent&&this._parent._rendering||r(this),delete this._rendering,t.end()}}(O,k,Mi),Fi=function(t){return function(){return t("renderHTML() has been deprecated and will be removed in a future version. Please use toHTML() instead"),this.toHTML()}}(Z),Ii=function(t,e,n,r){return function(i,o){var s,a,u;if("function"==typeof i?(o=i,i={}):i=i||{},"object"!=typeof i)throw new Error("The reset method takes either no arguments, or an object containing new data");return s=new t(function(t){a=t}),o&&s.then(o),e.start(this,a),(u=this._wrapped[""])&&u.reset?u.reset(i)===!1&&(this.data=i):this.data=i,n(this,""),r(this,""),e.end(),this.fire("reset",i),s}}(g,O,P,S),Di=function(t,e,n,r,i){return function(o,s,a){var u,c,l;if(c=new r(function(t){l=t}),t.start(this,l),e(o)){u=o,a=s;for(o in u)u.hasOwnProperty(o)&&(s=u[o],o=n(o),i(this,o,s))}else o=n(o),i(this,o,s);return t.end(),a&&c.then(a.bind(this)),c}}(O,te,v,g,H),Pi=function(t){return function(e,n){return t(this,e,void 0===n?-1:-n)}}(f),qi=function(t,e,n,r,i){return function(o){var s,a,u,c,l,h,f,p;if(this.fire("teardown"),c=!this.component||this.component.shouldDestroy,this.constructor.css)if(c)l=o,o=function(){l&&l.call(this),e.remove(this.constructor)};else{h=this.component.parentFragment;do h.owner.type===t.ELEMENT&&h.owner.willDetach&&(f=h.owner);while(!f&&(h=h.parent));if(!f)throw new Error("A component is being torn down but doesn't have a nearest detaching element... this shouldn't happen!");f.cssDetachQueue.push(this.constructor)}for(a=new r(function(t){u=t}),n.start(this,u),this.fragment.teardown(c);this._animations[0];)this._animations[0].stop();for(s in this._cache)i(this,s);for(;p=this._unresolvedImplicitDependencies.pop();)p.teardown();return n.end(),o&&a.then(o.bind(this)),a}}(D,k,O,g,P),Hi=function(){return this.fragment.toString()},Bi=function(t,e){var n;{if("string"==typeof t)return n=this.get(t),this.set(t,!n,e);if(this.debug)throw new Error("Bad arguments")}},Wi=function(t,e,n,r){return function(i,o){var s,a;return"function"==typeof i?(o=i,i=""):i=i||"",s=new e(function(t){a=t}),t.start(this,a),n(this,i),r(this,i),t.end(),this.fire("update",i),o&&s.then(o.bind(this)),s}}(O,g,P,S),$i=function(t,e,n){function r(t,i,o,s,a){var u,c,l,h,f,p;if(u=t._twowayBindings[i])for(l=u.length;l--;)h=u[l],(!h.radioName||h.node.checked)&&(h.checkboxName?h.changed()&&s[i]!==!0&&(s[i]=!0,s.push(i)):(f=h.attr.value,p=h.value(),e(f,p)||n(f,p)||(o[i]=p)));if(a&&(c=t._depsMap[i]))for(l=c.length;l--;)r(t,c[l],o,s,a)}return function(e,n){var i,o,s;if("string"!=typeof e&&(e="",n=!0),r(this,e,i={},o=[],n),s=o.length)for(;s--;)e=o[s],i[e]=t(this,e);this.set(i)}}(E,yn,d),Ui=function(t,e,n,r,i,o,s,a,u,c,l,h,f,p,d,g,v,m,y,w,b,x,k,E){return{add:t,animate:e,detach:n,find:r,findAll:i,findAllComponents:o,findComponent:s,fire:a,get:u,insert:c,merge:l,observe:h,off:f,on:p,render:d,renderHTML:g,reset:v,set:m,subtract:y,teardown:w,toHTML:b,toggle:x,update:k,updateModel:E}}(p,ie,oe,se,ve,me,ye,we,xe,Ee,Ne,Re,Le,Me,ji,Fi,Ii,Di,Pi,qi,Hi,Bi,Wi,$i),Vi={},zi={linear:function(t){return t},easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}},Xi=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e,n;return e=16*Math.random()|0,n="x"==t?e:3&e|8,n.toString(16)})},Qi=function(t){for(var e,n,r=Array.prototype.slice.call(arguments,1);n=r.shift();)for(e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t},Ji=["adaptors","components","decorators","easing","events","interpolators","partials","transitions","data"],Gi=function(){function t(t){return t.trim?t.trim():t.replace(/^\s+/,"").replace(/\s+$/,"")}function e(t){return t.str}var n=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,r=/\/\*.*?\*\//g,i=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~]+)?\s*[\s\+\>\~]?)\s*/g;return function(o,s){var a,u;return u=function(t){var n,r,o,a,u,c,l,h,f=[];for(n=[];r=i.exec(t);)n.push({str:r[0],base:r[1],modifiers:r[2]});for(a='[data-rvcguid="'+s+'"]',u=n.map(e),h=n.length;h--;)l=u.slice(),o=n[h],l[h]=o.base+a+o.modifiers||"",c=u.slice(),c[h]=a+" "+c[h],f.push(l.join(" "),c.join(" "));return f.join(", ")},a=o.replace(r,"").replace(n,function(e,n){var r,i;return r=n.split(",").map(t),i=r.map(u).join(", ")+" ",e.replace(n,i)})}}(),Yi=function(t,e,n,r){return function(i,o){t.forEach(function(t){o[t]&&(i[t]=e(o[t]))}),n(i,"defaults",{value:e(o.defaults)}),o.css&&n(i,"css",{value:o.defaults.noCssTransform?o.css:r(o.css,i._guid)})}}(Ji,je,c,Gi),Ki=function(t,e){return/_super/.test(t)?function(){var n,r=this._super;return this._super=e,n=t.apply(this,arguments),this._super=r,n}:t},Zi=function(t,e){var n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},to=function(t,e,n,r,i,o){var s={};return e.concat(t.keys).forEach(function(t){s[t]=!0}),function(a,u){var c,l;e.forEach(function(t){var e=u[t];e&&(a[t]?i(a[t],e):a[t]=e)}),t.keys.forEach(function(t){var e=u[t];void 0!==e&&(a.defaults[t]="function"==typeof e&&"function"==typeof a[t]?r(e,a[t]):u[t])});for(c in u)!s[c]&&u.hasOwnProperty(c)&&(l=u[c],a.prototype[c]="function"==typeof l&&"function"==typeof a.prototype[c]?r(l,a.prototype[c]):l);u.css&&n(a,"css",{value:a.defaults.noCssTransform?u.css:o(u.css,a._guid)})}}(i,Ji,c,Ki,Zi,Gi),eo=function(t,e){return function(n,r){t(n.defaults.template)&&(n.partials||(n.partials={}),e(n.partials,n.defaults.template.partials),r.partials&&e(n.partials,r.partials),n.defaults.template=n.defaults.template.main)}}(te,Zi),no=function(t,e,n){return function(r){var i;if("string"==typeof r.defaults.template){if(!n)throw new Error(t.missingParser);if("#"===r.defaults.template.charAt(0)&&e){if(i=document.getElementById(r.defaults.template.substring(1)),!i||"SCRIPT"!==i.tagName)throw new Error("Could not find template element ("+r.defaults.template+")");r.defaults.template=n(i.innerHTML,r)}else r.defaults.template=n(r.defaults.template,r.defaults)}}}(br,u,wi),ro=function(t,e){return function(n){var r;if(n.partials)for(r in n.partials)if(n.partials.hasOwnProperty(r)&&"string"==typeof n.partials[r]){if(!e)throw new Error(t.missingParser);n.partials[r]=e(n.partials[r],n)}}}(br,wi),io=function(){function t(t){var n="var __ractive=this;return("+t.replace(e,function(t,e){return'__ractive.get("'+e+'")'})+")";return new Function(n)}var e=/\$\{([^\}]+)\}/g;return function(e){return"function"==typeof e?{get:e}:"string"==typeof e?{get:t(e)}:("object"==typeof e&&"string"==typeof e.get&&(e={get:t(e.get),set:e.set}),e)}}(),oo=function(t,e,n){var r=function(t,n){this.root=t.ractive,this.keypath=n,this.priority=0,this.computation=t,e(this)};return r.prototype={update:function(){var e;e=this.root.get(this.keypath),t(e,this.value)||this.computation.bubble()},teardown:function(){n(this)}},r}(d,X,Q),so=function(t,e,n,r){function i(t,e,n){var i,o,s;for(i=e.length;i--;)o=e[i],n[o.keypath]||(e.splice(i,1),e[o.keypath]=null,o.teardown());for(i=n.length;i--;)s=n[i],e[s]||(o=new r(t,s),e.push(e[s]=o))}var o=function(t,e,n){this.ractive=t,this.key=e,this.getter=n.get,this.setter=n.set,this.watchers=[],this.update()};return o.prototype={set:function(t){if(this.setting)return void(this.value=t);if(!this.setter)throw new Error("Computed properties without setters are read-only in the current version");this.setter.call(this.ractive,t)},update:function(){var e,r,o,s;e=this.ractive,r=e._captured,r||(e._captured=[]);try{o=this.getter.call(e)}catch(a){e.debug&&t('Failed to compute "'+this.key+'": '+a.message||a),s=!0}i(this,this.watchers,e._captured),e._captured=r,s||(this.setting=!0,this.value=o,n(e,this.key,o),this.setting=!1),this.deferred=!1},bubble:function(){this.watchers.length<=1?this.update():this.deferred||(e.addComputation(this),this.deferred=!0)}},o}(Z,O,H,oo),ao=function(t,e){return function(n,r){var i,o;for(i in r)o=t(r[i]),n._computations[i]=new e(n,i,o)}}(io,so),uo=function(t,e,n,r,i,o,s,a,u,c,l,h,f,p,d,g,v){var m=["adapt","modifyArrays","magic","twoway","lazy","debug","isolated"];return function(y,w){var b,x,k,E,T,_,N;if(h(w.adaptors)&&(i("The `adaptors` option, to indicate which adaptors should be used with a given Ractive instance, has been deprecated in favour of `adapt`. See [TODO] for more information"),w.adapt=w.adaptors,delete w.adaptors),b=y.constructor.defaults,n.keys.forEach(function(t){void 0===w[t]&&(w[t]=b[t])}),m.forEach(function(t){y[t]=w[t]}),"string"==typeof y.adapt&&(y.adapt=[y.adapt]),y.magic&&!d)throw new Error("Getters and setters (magic mode) are not supported in this browser");if(u(y,{_initing:{value:!0,writable:!0},_guid:{value:f()},_subs:{value:o(null),configurable:!0},_cache:{value:{}},_cacheMap:{value:o(null)},_deps:{value:[]},_depsMap:{value:o(null)},_patternObservers:{value:[]},_evaluators:{value:o(null)},_computations:{value:o(null)},_twowayBindings:{value:{}},_animations:{value:[]},nodes:{value:{}},_wrapped:{value:o(null)},_liveQueries:{value:[]},_liveComponentQueries:{value:[]},_childInitQueue:{value:[]},_changes:{value:[]},_unresolvedImplicitDependencies:{value:[]}}),w._parent&&w._component&&(u(y,{_parent:{value:w._parent},component:{value:w._component}}),w._component.instance=y),w.el&&(y.el=c(w.el),!y.el&&y.debug))throw new Error("Could not find container element");if(w.eventDefinitions&&(i("ractive.eventDefinitions has been deprecated in favour of ractive.events. Support will be removed in future versions"),w.events=w.eventDefinitions),r.forEach(function(t){y.constructor[t]?y[t]=s(o(y.constructor[t]),w[t]):w[t]&&(y[t]=w[t])}),y.data||(y.data={}),N=b.computed?s(o(b.computed),w.computed):w.computed,N&&v(y,N),x=w.template,"string"==typeof x){if(!g)throw new Error(e.missingParser);if("#"===x.charAt(0)&&t){if(k=document.getElementById(x.substring(1)),!k)throw new Error("Could not find template element ("+x+")");E=g(k.innerHTML,w)}else E=g(x,w)}else E=x;l(E)&&(a(y.partials,E.partials),E=E.main),E&&1===E.length&&"string"==typeof E[0]&&(E=E[0]),y.template=E,s(y.partials,w.partials),y.parseOptions={preserveWhitespace:w.preserveWhitespace,sanitize:w.sanitize,stripComments:w.stripComments},y.transitionsEnabled=w.noIntro?!1:w.transitionsEnabled,t&&!y.el&&(y.el=document.createDocumentFragment()),y.el&&!w.append&&(y.el.innerHTML=""),T=new p(function(t){_=t}),y.render(y.el,_),w.complete&&T.then(w.complete.bind(y)),y.transitionsEnabled=w.transitionsEnabled,y._initing=!1}}(u,br,i,Ji,Z,je,Qi,ir,l,ke,te,L,Xi,g,U,wi,ao),co=function(t,e,n){return function(r,i,o){t.keys.forEach(function(t){var n=o[t],r=i.defaults[t];
"function"==typeof n&&"function"==typeof r&&(o[t]=e(n,r))}),r.beforeInit&&r.beforeInit(o),n(r,o),o._parent&&o._parent._rendering?o._parent._childInitQueue.push({instance:r,options:o}):r.init&&r.init(o)}}(i,Ki,uo),lo=function(t,e,n,r,i,o,s,a,u,c,l){var h;return l.push(function(){h=l.Ractive}),function(l){var f,p,d,g=this;if(l.prototype instanceof h&&(l=r({},l,l.prototype,l.defaults)),f=function(t){c(this,f,t||{})},f.prototype=t(g.prototype),f.prototype.constructor=f,e(f,{extend:{value:g.extend},_guid:{value:n()}}),i(f,g),o(f,l),f.adaptors&&(d=f.defaults.adapt.length))for(;d--;)p=f.defaults.adapt[d],"string"==typeof p&&(f.defaults.adapt[d]=f.adaptors[p]||p);return l.template&&(a(f),s(f,l),u(f)),f}}(je,l,Xi,Qi,Yi,to,eo,no,ro,co,b),ho=function(t,e,n,r,i,o,s,a,u,c,l,h,f,p){var d=function(t){f(this,t)};return d.prototype=r,n(d,{partials:{value:i},adaptors:{value:o},easing:{value:a},transitions:{value:{}},events:{value:{}},components:{value:s},decorators:{value:{}},interpolators:{value:u},defaults:{value:t.defaults},svg:{value:e},VERSION:{value:"0.4.0"}}),d.eventDefinitions=d.events,d.prototype.constructor=d,d.Promise=c,d.extend=l,d.parse=h,p.Ractive=d,d}(i,o,l,Ui,xr,j,Vi,zi,ee,g,lo,wi,uo,b),fo=function(t,e){for(var n="function";e.length;)e.pop()();if(typeof Date.now!==n||typeof String.prototype.trim!==n||typeof Object.keys!==n||typeof Array.prototype.indexOf!==n||typeof Array.prototype.forEach!==n||typeof Array.prototype.map!==n||typeof Array.prototype.filter!==n||"undefined"!=typeof window&&typeof window.addEventListener!==n)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");return"undefined"!=typeof window&&window.Node&&!window.Node.prototype.contains&&window.HTMLElement&&window.HTMLElement.prototype.contains&&(window.Node.prototype.contains=window.HTMLElement.prototype.contains),t}(ho,b,r);"undefined"!=typeof module&&module.exports?module.exports=fo:"function"==typeof n&&n.amd&&n("ractive",[],function(){return fo}),t.Ractive=fo,fo.noConflict=function(){return t.Ractive=e,fo}}("undefined"!=typeof window?window:this),function(t,r){if("undefined"!=typeof module&&module.exports&&"function"==typeof e)r(e("ractive"),e("backbone"));else if("function"==typeof n&&n.amd)n("ractive-backbone",["ractive","backbone"],r);else{if(!t.Ractive||!t.Backbone)throw new Error("Could not find Ractive or Backbone! Both must be loaded before the Ractive-Backbone plugin");r(t.Ractive,t.Backbone)}}("undefined"!=typeof window?window:this,function(t,e){var n,r;if(!t||!e)throw new Error("Could not find Ractive or Backbone! Check your paths config");return t.adaptors.Backbone={filter:function(t){return t instanceof e.Model||t instanceof e.Collection},wrap:function(t,i,o,s){return i instanceof e.Model?new n(t,i,o,s):new r(t,i,o,s)}},n=function(t,e,n,r){var i=this;this.value=e,e.on("change",this.modelChangeHandler=function(){i.setting=!0,t.set(r(e.changed)),i.setting=!1})},n.prototype={teardown:function(){this.value.off("change",this.changeHandler)},get:function(){return this.value.attributes},set:function(t,e){this.setting||-1!==t.indexOf(".")||this.value.set(t,e)},reset:function(t){return t instanceof e.Model||"object"!=typeof t?!1:void this.value.reset(t)}},r=function(t,e,n){var r=this;this.value=e,e.on("add remove reset sort",this.changeHandler=function(){r.setting=!0,t.set(n,e.models),r.setting=!1})},r.prototype={teardown:function(){this.value.off("add remove reset sort",this.changeHandler)},get:function(){return this.value.models},reset:function(t){return this.setting?void 0:t instanceof e.Collection||"[object Array]"!==Object.prototype.toString.call(t)?!1:void this.value.reset(t)}},t.adaptors.Backbone}),n("Freequency/View",["require","exports","module","jquery","underscore","backbone","ractive","ractive-backbone"],function(t){var e=t("jquery"),n=t("underscore"),r=t("backbone"),i=t("ractive"),o=t("ractive-backbone"),s=function(t){this.$el=e(t),this.template?(this.r=new i({el:this.$el,template:this.template,complete:this.ready.bind(this),adapt:[o]}),this.initialize.apply(this,arguments)):(this.initialize.apply(this,arguments),this.ready())};return s.prototype={initialize:e.noop,ready:e.noop},n.extend(s.prototype,r.Events),s.extend=function(t,e){var r,i=this;r=t&&n.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,e);var o=function(){this.constructor=r};return o.prototype=i.prototype,r.prototype=new o,t&&n.extend(r.prototype,t),r.__super__=i.prototype,r},s}),n("text",["module"],function(t){var n,r,i,o,s,a=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],u=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,c=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,l="undefined"!=typeof location&&location.href,h=l&&location.protocol&&location.protocol.replace(/\:/,""),f=l&&location.hostname,p=l&&(location.port||void 0),d={},g=t.config&&t.config()||{};return n={version:"2.0.12",strip:function(t){if(t){t=t.replace(u,"");var e=t.match(c);e&&(t=e[1])}else t="";return t},jsEscape:function(t){return t.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:g.createXhr||function(){var t,e,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(e=0;3>e;e+=1){n=a[e];try{t=new ActiveXObject(n)}catch(r){}if(t){a=[n];break}}return t},parseName:function(t){var e,n,r,i=!1,o=t.indexOf("."),s=0===t.indexOf("./")||0===t.indexOf("../");return-1!==o&&(!s||o>1)?(e=t.substring(0,o),n=t.substring(o+1,t.length)):e=t,r=n||e,o=r.indexOf("!"),-1!==o&&(i="strip"===r.substring(o+1),r=r.substring(0,o),n?n=r:e=r),{moduleName:e,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(t,e,r,i){var o,s,a,u=n.xdRegExp.exec(t);return u?(o=u[2],s=u[3],s=s.split(":"),a=s[1],s=s[0],!(o&&o!==e||s&&s.toLowerCase()!==r.toLowerCase()||(a||s)&&a!==i)):!0},finishLoad:function(t,e,r,i){r=e?n.strip(r):r,g.isBuild&&(d[t]=r),i(r)},load:function(t,e,r,i){if(i&&i.isBuild&&!i.inlineText)return void r();g.isBuild=i&&i.isBuild;var o=n.parseName(t),s=o.moduleName+(o.ext?"."+o.ext:""),a=e.toUrl(s),u=g.useXhr||n.useXhr;return 0===a.indexOf("empty:")?void r():void(!l||u(a,h,f,p)?n.get(a,function(e){n.finishLoad(t,o.strip,e,r)},function(t){r.error&&r.error(t)}):e([s],function(t){n.finishLoad(o.moduleName+"."+o.ext,o.strip,t,r)}))},write:function(t,e,r){if(d.hasOwnProperty(e)){var i=n.jsEscape(d[e]);r.asModule(t+"!"+e,"define(function () { return '"+i+"';});\n")}},writeFile:function(t,e,r,i,o){var s=n.parseName(e),a=s.ext?"."+s.ext:"",u=s.moduleName+a,c=r.toUrl(s.moduleName+a)+".js";n.load(u,r,function(){var e=function(t){return i(c,t)};e.asModule=function(t,e){return i.asModule(t,c,e)},n.write(t,u,e,o)},o)}},"node"===g.env||!g.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]?(r=e.nodeRequire("fs"),n.get=function(t,e,n){try{var i=r.readFileSync(t,"utf8");0===i.indexOf("﻿")&&(i=i.substring(1)),e(i)}catch(o){n&&n(o)}}):"xhr"===g.env||!g.env&&n.createXhr()?n.get=function(t,e,r,i){var o,s=n.createXhr();if(s.open("GET",t,!0),i)for(o in i)i.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),i[o]);g.onXhr&&g.onXhr(s,t),s.onreadystatechange=function(){var n,i;4===s.readyState&&(n=s.status||0,n>399&&600>n?(i=new Error(t+" HTTP status: "+n),i.xhr=s,r&&r(i)):e(s.responseText),g.onXhrComplete&&g.onXhrComplete(s,t))},s.send(null)}:"rhino"===g.env||!g.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?n.get=function(t,e){var n,r,i="utf-8",o=new java.io.File(t),s=java.lang.System.getProperty("line.separator"),a=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),i)),u="";try{for(n=new java.lang.StringBuffer,r=a.readLine(),r&&r.length()&&65279===r.charAt(0)&&(r=r.substring(1)),null!==r&&n.append(r);null!==(r=a.readLine());)n.append(s),n.append(r);u=String(n.toString())}finally{a.close()}e(u)}:("xpconnect"===g.env||!g.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(i=Components.classes,o=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),s="@mozilla.org/windows-registry-key;1"in i,n.get=function(t,e){var n,r,a,u={};s&&(t=t.replace(/\//g,"\\")),a=new FileUtils.File(t);try{n=i["@mozilla.org/network/file-input-stream;1"].createInstance(o.nsIFileInputStream),n.init(a,1,0,!1),r=i["@mozilla.org/intl/converter-input-stream;1"].createInstance(o.nsIConverterInputStream),r.init(n,"utf-8",n.available(),o.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),r.readString(n.available(),u),r.close(),n.close(),e(u.value)}catch(c){throw new Error((a&&a.path||"")+": "+c)}}),n}),n("text!templates/charts.html",[],function(){return'<header>\n    <div class="title">\n        Classement\n    </div>\n    <div class="menu">\n        <button on-click="setTab:1" class="{{tab === 1 ? \'active\' : \'\'}}">Aujourdh\'ui</button>\n        <button on-click="setTab:2" class="{{tab === 2 ? \'active\' : \'\'}}">Semaine</button>\n        <button on-click="setTab:3" class="{{tab === 3 ? \'active\' : \'\'}}">Année</button>\n    </div>\n</header>\n<div class="dragdealer">\n    <div class="handle">\n        <div class="chart view" data-type="hitParade">\n        </div>\n        <div class="chart view" data-type="hitParade">\n        </div>\n        <div class="chart view" data-type="hitParade">\n        </div>\n    </div>\n</div>\n'}),n("text!templates/chart.html",[],function(){return'<div class="tracks">\n    {{#tracks}}\n    <div class="track">\n        <div class="track-artwork" on-click="selectTrack:{{this}}">\n            <img src="{{artworkUrl}}" />\n        </div>\n        <div class="track-details">\n            <div class="track-title" on-click="selectTrack:{{this}}">{{rank}}.&nbsp;{{title}}</div>\n            <div class="track-artist">{{artist.name}}</div>\n            <div class="track-stats"><i class="fa fa-thumbs-up"></i>&nbsp;{{likes}}&nbsp;&nbsp;<i class="fa fa-thumbs-down"></i>&nbsp;{{dislikes}}</div>\n        </div>\n    </div>\n    {{/tracks}}\n</div>\n'}),n("models/Track",["require","exports","module","backbone"],function(t){function e(t){var e=t[0],n=t[1],r=t[2],i=(299*e+587*n+114*r)/1e3;return i}function n(t){return t>=128?[0,0,0]:[255,255,255]}function r(t,r){for(var i,o,s=e(t),a=[],u=0;u<r.length;u++)Math.abs(e(r[u])-s)>80&&a.push(r[u]);return i=a[0]?a[0]:n(s),o=a[1]?a[1]:n(s)}var i=t("backbone"),o=i.Model.extend({initialize:function(){this.get("artworkUrl")||this.set("artworkUrl","images/default-cover.png"),this.set("artworkSecondaryColor",r(this.get("artworkColor"),this.get("artworkPalette")))},like:function(){var t=this;return this.get("isDummy")||(this.set("isLiked",!0),Parse.Cloud.run("likeTrack",{trackId:this.id}).then(function(){t.set("isLiked",!0)},function(){t.set("isLiked",!1)})),this},dislike:function(){var t=this;this.get("isDummy")||(this.set("isDisliked",!0),Parse.Cloud.run("dislikeTrack",{trackId:this.id}).then(function(){t.set("isDisliked",!0)},function(){t.set("isDisliked",!1)}))}});return o}),n("collections/Tracks",["require","exports","module","underscore","backbone","models/Track"],function(t){var e=t("underscore"),n=t("backbone"),r=t("models/Track"),i=n.Collection.extend({model:r,initialize:function(t,e){this.page=0,this.end=!1,this.fetching=!1,this.currentIndex=-1,this.type=e},next:function(){var t=this.currentIndex+1,e=this.at(t);return e&&(this.currentIndex=t),e},more:function(){this.fetching||this.end||(this.fetching=!0,Parse.Cloud.run("getTracks",{type:this.type,page:this.page},{success:function(t){e.each(t,function(t,e){"hitParade"===this.type&&(t.rank=e+1+10*this.page),this.add(t)},this),0===this.page&&this.trigger("ready"),t.length?this.page++:this.end=!0,this.fetching=!1}.bind(this),error:function(){this.fetching=!1}.bind(this)}))},comparator:function(t){return"hitParade"===this.type?t.get("rank"):void 0}});return i}),n("Freequency/bus",["require","exports","module","underscore","backbone"],function(t){var e=t("underscore"),n=t("backbone"),r={};return e.extend(r,n.Events),r}),n("views/ChartView",["require","exports","module","Freequency/View","text!templates/chart.html","collections/Tracks","Freequency/bus"],function(t){var e=t("Freequency/View"),n=t("text!templates/chart.html"),r=t("collections/Tracks"),i=t("Freequency/bus");return e.extend({template:n,initialize:function(){this.r.set("tracks",new r([],this.$el.data("type"))),this.r.get("tracks").more(),this.r.on({selectTrack:function(t,e){i.trigger("actionSelectTrack",e)}})},ready:function(){}})}),function(t,e){"function"==typeof n&&n.amd?n("dragdealer",e):t.Dragdealer=e()}(this,function(){var t=function(t,e){this.bindMethods(),this.options=this.applyDefaults(e||{}),this.wrapper=this.getWrapperElement(t),this.wrapper&&(this.handle=this.getHandleElement(this.wrapper,this.options.handleClass),this.handle&&(this.init(),this.bindEventListeners()))};t.prototype={defaults:{disabled:!1,horizontal:!0,vertical:!1,slide:!0,steps:0,snap:!1,loose:!1,speed:.1,xPrecision:0,yPrecision:0,handleClass:"handle"},init:function(){this.value={prev:[-1,-1],current:[this.options.x||0,this.options.y||0],target:[this.options.x||0,this.options.y||0]},this.offset={wrapper:[0,0],mouse:[0,0],prev:[-999999,-999999],current:[0,0],target:[0,0]},this.change=[0,0],this.stepRatios=this.calculateStepRatios(),this.activity=!1,this.dragging=!1,this.tapping=!1,this.reflow(),this.options.disabled&&this.disable()},applyDefaults:function(t){for(var e in this.defaults)t.hasOwnProperty(e)||(t[e]=this.defaults[e]);return t},getWrapperElement:function(t){return"string"==typeof t?document.getElementById(t):t},getHandleElement:function(t,e){var n,r=t.getElementsByTagName("div"),i=new RegExp("(^|\\s)"+e+"(\\s|$)");for(n=0;n<r.length;n++)if(i.test(r[n].className))return r[n]},calculateStepRatios:function(){var t=[];if(this.options.steps>1)for(var e=0;e<=this.options.steps-1;e++)t[e]=e/(this.options.steps-1);return t},setWrapperOffset:function(){this.offset.wrapper=a.get(this.wrapper)},calculateBounds:function(){var t={top:this.options.top||0,bottom:-(this.options.bottom||0)+this.wrapper.offsetHeight,left:this.options.left||0,right:-(this.options.right||0)+this.wrapper.offsetWidth};return t.availWidth=t.right-t.left-this.handle.offsetWidth,t.availHeight=t.bottom-t.top-this.handle.offsetHeight,t},calculateValuePrecision:function(){var t=this.options.xPrecision||Math.abs(this.bounds.availWidth),e=this.options.yPrecision||Math.abs(this.bounds.availHeight);return[t?1/t:0,e?1/e:0]},bindMethods:function(){this.onHandleMouseDown=e(this.onHandleMouseDown,this),this.onHandleTouchStart=e(this.onHandleTouchStart,this),this.onDocumentMouseMove=e(this.onDocumentMouseMove,this),this.onWrapperTouchMove=e(this.onWrapperTouchMove,this),this.onWrapperMouseDown=e(this.onWrapperMouseDown,this),this.onWrapperTouchStart=e(this.onWrapperTouchStart,this),this.onDocumentMouseUp=e(this.onDocumentMouseUp,this),this.onDocumentTouchEnd=e(this.onDocumentTouchEnd,this),this.onHandleClick=e(this.onHandleClick,this),this.onWindowResize=e(this.onWindowResize,this)},bindEventListeners:function(){n(this.handle,"mousedown",this.onHandleMouseDown),n(this.handle,"touchstart",this.onHandleTouchStart),n(document,"mousemove",this.onDocumentMouseMove),n(this.wrapper,"touchmove",this.onWrapperTouchMove),n(this.wrapper,"mousedown",this.onWrapperMouseDown),n(this.wrapper,"touchstart",this.onWrapperTouchStart),n(document,"mouseup",this.onDocumentMouseUp),n(document,"touchend",this.onDocumentTouchEnd),n(this.handle,"click",this.onHandleClick),n(window,"resize",this.onWindowResize);var t=this;this.interval=setInterval(function(){t.animate()},25),this.animate(!1,!0)},unbindEventListeners:function(){r(this.handle,"mousedown",this.onHandleMouseDown),r(this.handle,"touchstart",this.onHandleTouchStart),r(document,"mousemove",this.onDocumentMouseMove),r(this.wrapper,"touchmove",this.onWrapperTouchMove),r(this.wrapper,"mousedown",this.onWrapperMouseDown),r(this.wrapper,"touchstart",this.onWrapperTouchStart),r(document,"mouseup",this.onDocumentMouseUp),r(document,"touchend",this.onDocumentTouchEnd),r(this.handle,"click",this.onHandleClick),r(window,"resize",this.onWindowResize),clearInterval(this.interval)},onHandleMouseDown:function(t){s.refresh(t),i(t),o(t),this.activity=!1,this.startDrag()},onHandleTouchStart:function(t){s.refresh(t),o(t),this.activity=!1,this.startDrag()},onDocumentMouseMove:function(t){s.refresh(t),this.dragging&&(this.activity=!0)},onWrapperTouchMove:function(t){return s.refresh(t),!this.activity&&this.draggingOnDisabledAxis()?void(this.dragging&&this.stopDrag()):(i(t),void(this.activity=!0))},onWrapperMouseDown:function(t){s.refresh(t),i(t),this.startTap()},onWrapperTouchStart:function(t){s.refresh(t),i(t),this.startTap()},onDocumentMouseUp:function(){this.stopDrag(),this.stopTap()},onDocumentTouchEnd:function(){this.stopDrag(),this.stopTap()},onHandleClick:function(t){this.activity&&(i(t),o(t))},onWindowResize:function(){this.reflow()},enable:function(){this.disabled=!1,this.handle.className=this.handle.className.replace(/\s?disabled/g,"")},disable:function(){this.disabled=!0,this.handle.className+=" disabled"},reflow:function(){this.setWrapperOffset(),this.bounds=this.calculateBounds(),this.valuePrecision=this.calculateValuePrecision(),this.updateOffsetFromValue()},getStep:function(){return[this.getStepNumber(this.value.target[0]),this.getStepNumber(this.value.target[1])]},getValue:function(){return this.value.target},setStep:function(t,e,n){this.setValue(this.options.steps&&t>1?(t-1)/(this.options.steps-1):0,this.options.steps&&e>1?(e-1)/(this.options.steps-1):0,n)},setValue:function(t,e,n){this.setTargetValue([t,e||0]),n&&(this.groupCopy(this.value.current,this.value.target),this.updateOffsetFromValue(),this.callAnimationCallback())},startTap:function(){this.disabled||(this.tapping=!0,this.setWrapperOffset(),this.setTargetValueByOffset([s.x-this.offset.wrapper[0]-this.handle.offsetWidth/2,s.y-this.offset.wrapper[1]-this.handle.offsetHeight/2]))},stopTap:function(){!this.disabled&&this.tapping&&(this.tapping=!1,this.setTargetValue(this.value.current))},startDrag:function(){this.disabled||(this.dragging=!0,this.setWrapperOffset(),this.offset.mouse=[s.x-a.get(this.handle)[0],s.y-a.get(this.handle)[1]])},stopDrag:function(){if(!this.disabled&&this.dragging){this.dragging=!1;var t=this.groupClone(this.value.current);if(this.options.slide){var e=this.change;t[0]+=4*e[0],t[1]+=4*e[1]}this.setTargetValue(t)}},callAnimationCallback:function(){var t=this.value.current;this.options.snap&&this.options.steps>1&&(t=this.getClosestSteps(t)),this.groupCompare(t,this.value.prev)||("function"==typeof this.options.animationCallback&&this.options.animationCallback.call(this,t[0],t[1]),this.groupCopy(this.value.prev,t))},callTargetCallback:function(){"function"==typeof this.options.callback&&this.options.callback.call(this,this.value.target[0],this.value.target[1])},animate:function(t,e){if(!t||this.dragging){if(this.dragging){var n=this.groupClone(this.value.target),r=[s.x-this.offset.wrapper[0]-this.offset.mouse[0],s.y-this.offset.wrapper[1]-this.offset.mouse[1]];this.setTargetValueByOffset(r,this.options.loose),this.change=[this.value.target[0]-n[0],this.value.target[1]-n[1]]}(this.dragging||e)&&this.groupCopy(this.value.current,this.value.target),(this.dragging||this.glide()||e)&&(this.updateOffsetFromValue(),this.callAnimationCallback())}},glide:function(){var t=[this.value.target[0]-this.value.current[0],this.value.target[1]-this.value.current[1]];return t[0]||t[1]?(Math.abs(t[0])>this.valuePrecision[0]||Math.abs(t[1])>this.valuePrecision[1]?(this.value.current[0]+=t[0]*this.options.speed,this.value.current[1]+=t[1]*this.options.speed):this.groupCopy(this.value.current,this.value.target),!0):!1},updateOffsetFromValue:function(){this.offset.current=this.getOffsetsByRatios(this.options.snap?this.getClosestSteps(this.value.current):this.value.current),this.groupCompare(this.offset.current,this.offset.prev)||(this.renderHandlePosition(),this.groupCopy(this.offset.prev,this.offset.current))},renderHandlePosition:function(){this.options.horizontal&&(this.handle.style.left=String(this.offset.current[0])+"px"),this.options.vertical&&(this.handle.style.top=String(this.offset.current[1])+"px")},setTargetValue:function(t,e){var n=e?this.getLooseValue(t):this.getProperValue(t);this.groupCopy(this.value.target,n),this.offset.target=this.getOffsetsByRatios(n),this.callTargetCallback()},setTargetValueByOffset:function(t,e){var n=this.getRatiosByOffsets(t),r=e?this.getLooseValue(n):this.getProperValue(n);this.groupCopy(this.value.target,r),this.offset.target=this.getOffsetsByRatios(r)},getLooseValue:function(t){var e=this.getProperValue(t);return[e[0]+(t[0]-e[0])/4,e[1]+(t[1]-e[1])/4]},getProperValue:function(t){var e=this.groupClone(t);return e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0),e[0]=Math.min(e[0],1),e[1]=Math.min(e[1],1),(!this.dragging&&!this.tapping||this.options.snap)&&this.options.steps>1&&(e=this.getClosestSteps(e)),e},getRatiosByOffsets:function(t){return[this.getRatioByOffset(t[0],this.bounds.availWidth,this.bounds.left),this.getRatioByOffset(t[1],this.bounds.availHeight,this.bounds.top)]},getRatioByOffset:function(t,e,n){return e?(t-n)/e:0},getOffsetsByRatios:function(t){return[this.getOffsetByRatio(t[0],this.bounds.availWidth,this.bounds.left),this.getOffsetByRatio(t[1],this.bounds.availHeight,this.bounds.top)]},getOffsetByRatio:function(t,e,n){return Math.round(t*e)+n},getStepNumber:function(t){return this.getClosestStep(t)*(this.options.steps-1)+1},getClosestSteps:function(t){return[this.getClosestStep(t[0]),this.getClosestStep(t[1])]},getClosestStep:function(t){for(var e=0,n=1,r=0;r<=this.options.steps-1;r++)Math.abs(this.stepRatios[r]-t)<n&&(n=Math.abs(this.stepRatios[r]-t),e=r);return this.stepRatios[e]},groupCompare:function(t,e){return t[0]==e[0]&&t[1]==e[1]},groupCopy:function(t,e){t[0]=e[0],t[1]=e[1]},groupClone:function(t){return[t[0],t[1]]},draggingOnDisabledAxis:function(){return!this.options.horizontal&&s.xDiff>s.yDiff||!this.options.vertical&&s.yDiff>s.xDiff}};var e=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)},r=function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent&&t.detachEvent("on"+e,n)},i=function(t){t||(t=window.event),t.preventDefault&&t.preventDefault(),t.returnValue=!1},o=function(t){t||(t=window.event),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0},s={x:0,y:0,xDiff:0,yDiff:0,refresh:function(t){t||(t=window.event),"mousemove"==t.type?this.set(t):t.touches&&this.set(t.touches[0])},set:function(t){var e=this.x,n=this.y;t.pageX||t.pageY?(this.x=t.pageX,this.y=t.pageY):(t.clientX||t.clientY)&&(this.x=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.y=t.clientY+document.body.scrollTop+document.documentElement.scrollTop),this.xDiff=Math.abs(this.x-e),this.yDiff=Math.abs(this.y-n)}},a={get:function(t){var e=0,n=0;if(t.offsetParent)do e+=t.offsetLeft,n+=t.offsetTop;while(t=t.offsetParent);return[e,n]}};return t}),n("views/ChartsView",["require","exports","module","Freequency/View","text!templates/charts.html","views/ChartView","dragdealer"],function(t){var e=t("Freequency/View"),n=t("text!templates/charts.html"),r=t("views/ChartView"),i=t("dragdealer");return e.extend({template:n,initialize:function(){var t=this;this.r.set("tab",1),this.r.on({setTab:function(e,n){this.set("tab",n),t.dragdealer.setValue((n-1)/2)}})},ready:function(){var t=this;this.dragdealer=new i(this.$el.find(".dragdealer")[0],{steps:3,x:(this.r.get("tab")-1)/2,loose:!0,callback:function(e){var n=2*e+1;n!==t.r.get("tab")&&t.r.set("tab",n)}});var e=this.$el.find(".chart");e.each(function(){new r(this)})}})}),n("text!templates/radio.html",[],function(){return'<div class="tune" style="margin-top: {{MARGIN}}px;">\n</div>\n\n<div class="tune-details" style="margin-top: {{MARGIN}}px;">\n    <div class="tune-title">{{track.title}}</div>\n    <div class="tune-artist">{{track.artist.name}}</div>\n</div>\n\n<div class="actions" style="margin-top: {{MARGIN}}px;">\n    <button on-click="dislike" class="dislike-button"><i class="fa fa-thumbs-down"></i>\n    </button>\n    <button on-click="togglePlay">\n        {{^isPaused}}<i class="fa fa-pause" on-click="pause"></i>{{/isPaused}}{{#isPaused}}<i class="fa fa-play" on-click="play"></i>{{/isPaused}}\n    </button>\n    <button on-click="like" class="like-button"><i class="fa fa-thumbs-up"></i>\n    </button>\n</div>\n'}),n("text!templates/tune.html",[],function(){return'<div class="handle">\n    <div class="track-artwork" style="-webkit-transform: rotate({{c * 45}}deg);">\n        <img src="{{track.artworkUrl.replace(\'-large.\', \'-t500x500.\')}}" />\n    </div>\n</div>\n'}),n("views/TuneView",["require","exports","module","Freequency/View","text!templates/tune.html","Freequency/bus","collections/Tracks","dragdealer"],function(t){var e=t("Freequency/View"),n=t("text!templates/tune.html"),r=t("Freequency/bus"),i=t("collections/Tracks"),o=t("dragdealer"),s=e.extend({template:n,initialize:function(t,e){this.model=e,this.r.set("track",e),this.r.set("c",0)},like:function(){this.dragdealer.setValue(1)},dislike:function(){this.dragdealer.setValue(0)},activate:function(){var t=this;return this.$el.addClass("active"),this.dragdealer=new o(this.$el[0],{steps:3,speed:.3,x:.5,animationCallback:function(e){var n=e-.5;t.r.set("c",n),Math.abs(n)>=.5&&(n>0?t.model.like():t.model.dislike(),r.trigger("uiTuneRenderNextTrack"))}}),r.on("actionLikeTrack",this.like,this),r.on("actionDislikeTrack",this.dislike,this),this},teardown:function(){this.dragdealer.unbindEventListeners(),this.r.teardown(),this.$el.remove(),r.off("actionLikeTrack",this.like),r.off("actionDislikeTrack",this.dislike)}});return e.extend({initialize:function(){this.trackViews=[],this.trackQueue=new Backbone.Collection,this.tracks=new i([],"radio"),this.tracks.more(),this.tracks.on("add",this.queueTrack,this),r.on("uiTuneRenderNextTrack",this.next,this),r.on("actionSelectTrack",this.select,this)},queueTrack:function(t){return this.trackQueue.add(t),this.renderQueue(),this},renderQueue:function(){for(var t=2-this.trackViews.length;t>0;){var e=this.trackQueue.first();if(!e)break;this.renderTrack(e),this.trackQueue.remove(e),t--}return this},renderTrack:function(t,e){var n=$('<div class="dragdealer"></div>');n.prependTo(this.$el);var r=new s(n,t);return e?this.trackViews.splice(Math.min(e,this.trackViews.length?this.trackViews.length-1:0),0,r):this.trackViews.push(r),1==this.trackViews.length&&this.activateTrack(),this},next:function(){return this.trackViews.shift().teardown(),this.trackViews.length&&this.activateTrack(),this.renderQueue(),this},select:function(t){return this.trackViews[0]?this.trackViews[0].model.id!==t.id&&(this.trackViews[1]&&this.trackViews[1].model.id===t.id||this.renderTrack(t,1),this.next()):this.renderTrack(t),this},activateTrack:function(){var t=this.trackViews[0];return t.activate(),r.trigger("uiRadioLoadTrack",t.model),this}})}),function(t){function e(){}function n(t){o=[t]}function r(t,e,n){return t&&t.apply(e.context||e,n)}function i(i){function A(t){X++||(Q(),W&&(T[U]={s:[t]}),P&&(t=P.apply(i,[t])),r(F,i,[t,w,i]),r(D,i,[i,w]))}function O(t){X++||(Q(),W&&t!=b&&(T[U]=t),r(I,i,[i,t]),r(D,i,[i,t]))}i=t.extend({},N,i);var R,L,M,j,F=i.success,I=i.error,D=i.complete,P=i.dataFilter,q=i.callbackParameter,H=i.callback,B=i.cache,W=i.pageCache,$=i.charset,U=i.url,V=i.data,z=i.timeout,X=0,Q=e;return k&&k(function(t){t.done(F).fail(I),F=t.resolve,I=t.reject}).promise(i),i.abort=function(){!X++&&Q()},!1===r(i.beforeSend,i,[i])||X?i:(U=U||u,V=V?"string"==typeof V?V:t.param(V,i.traditional):u,U+=V?(/\?/.test(U)?"&":"?")+V:u,q&&(U+=(/\?/.test(U)?"&":"?")+encodeURIComponent(q)+"=?"),B||W||(U+=(/\?/.test(U)?"&":"?")+"_"+(new Date).getTime()+"="),U=U.replace(/=\?(&|$)/,"="+H+"$1"),W&&(R=T[U])?R.s?A(R.s[0]):O(R):(x[H]=n,L=t(y)[0],L.id=h+_++,$&&(L[a]=$),C&&11.6>C.version()?(M=t(y)[0]).text="document.getElementById('"+L.id+"')."+p+"()":L[s]=s,S&&(L.htmlFor=L.id,L.event=f),L[d]=L[p]=L[g]=function(t){if(!L[v]||!/i/.test(L[v])){try{L[f]&&L[f]()}catch(e){}t=o,o=0,t?A(t[0]):O(c)}},L.src=U,Q=function(){j&&clearTimeout(j),L[g]=L[d]=L[p]=null,E[m](L),M&&E[m](M)},E[l](L,q=E.firstChild),M&&E[l](M,q),j=z>0&&setTimeout(function(){O(b)},z)),i)}var o,s="async",a="charset",u="",c="error",l="insertBefore",h="_jqjsp",f="onclick",p="on"+c,d="onload",g="onreadystatechange",v="readyState",m="removeChild",y="<script>",w="success",b="timeout",x=window,k=t.Deferred,E=t("head")[0]||document.documentElement,T={},_=0,N={callback:h,url:location.href},C=x.opera,S=!!t("<div>").html("<!--[if IE]><i><![endif]-->").find("i").length;i.setup=function(e){t.extend(N,e)},t.jsonp=i}(jQuery),function(t){t.getImageData=function(e){var n=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;if(e.url){var r="https:"===location.protocol,i="";i=!e.server||!n.test(e.server)||r&&0==e.server.indexOf("http:")?"//img-to-json.appspot.com/":e.server,i+="?callback=?",t.jsonp({url:i,data:{url:escape(e.url)},dataType:"jsonp",timeout:e.timeout||1e4,success:function(n){var r=new Image;t(r).load(function(){this.width=n.width,this.height=n.height,typeof e.success==typeof Function&&e.success(this)}).attr("src",n.data)},error:function(t,n){typeof e.error==typeof Function&&e.error(t,n)}})}else typeof e.error==typeof Function&&e.error(null,"no_url")}}(jQuery),n("jquery.getImageData",["jquery"],function(t){return function(){var e;return e||t.jQuery.getImageData}}(this)),n("views/RadioView",["require","exports","module","Freequency/View","Freequency/bus","text!templates/radio.html","collections/Tracks","views/TuneView","jquery.getImageData"],function(t){var e=t("Freequency/View"),n=t("Freequency/bus"),r=t("text!templates/radio.html"),i=(t("collections/Tracks"),t("views/TuneView"));return t("jquery.getImageData"),SC.initialize({client_id:"7ccdc0307e486c6d902883fa8d0f7b22"}),e.extend({template:r,initialize:function(){var t=this;this.r.set("isPaused",!1),this.r.on({play:function(){this.set("isPaused",!1),t.play()},pause:function(){this.set("isPaused",!0),t.pause()},like:function(){n.trigger("actionLikeTrack")},dislike:function(){n.trigger("actionDislikeTrack")}}),n.on("uiRadioLoadTrack",this.loadTrack,this)},ready:function(){var t=this.$el.find(".tune");new i(t),this.layout()},loadTrack:function(t){var e=this;this.track=t,this.r.set("track",t),SC.stream("/tracks/"+t.get("soundcloudId"),function(n){e.track&&e.track.id===t.id&&(e.sound&&e.sound.stop(),e.sound=n,e.r.get("isPaused")||e.sound.play())})},play:function(){this.sound&&this.sound.play()},pause:function(){this.sound&&this.sound.pause()},layout:function(){var t=this.$el.height(),e=[];return this.$el.children().each(function(){var n=$(this).height();t-=n,e.push(n)}),this.r.set("MARGIN",t/(e.length+1)),this}})}),n("lib/blur",["require","exports","module"],function(){function t(t,i,o){if(!(isNaN(o)||1>o)){o|=0;var s,a,u,c,l,h,f,p,d,g,v,m,y,w,b,x,k,E,T,_,N,C=0,S=0,A=t.width,O=t.height,s=i.getImageData(C,S,A,O),R=s.data,L=o+o+1,M=A-1,j=O-1,F=o+1,I=F*(F+1)/2,D=new e,P=D;for(c=1;L>c;c++)if(P=P.next=new e,c==F)var q=P;P.next=D;var H=null,B=null;p=f=0;var W=n[o],$=r[o];for(u=0;O>u;u++){for(b=x=k=d=g=v=0,m=F*(E=R[f]),y=F*(T=R[f+1]),w=F*(_=R[f+2]),d+=I*E,g+=I*T,v+=I*_,P=D,c=0;F>c;c++)P.r=E,P.g=T,P.b=_,P=P.next;for(c=1;F>c;c++)l=f+((c>M?M:c)<<2),d+=(P.r=E=R[l])*(N=F-c),g+=(P.g=T=R[l+1])*N,v+=(P.b=_=R[l+2])*N,b+=E,x+=T,k+=_,P=P.next;for(H=D,B=q,a=0;A>a;a++)R[f]=d*W>>$,R[f+1]=g*W>>$,R[f+2]=v*W>>$,d-=m,g-=y,v-=w,m-=H.r,y-=H.g,w-=H.b,l=p+((l=a+o+1)<M?l:M)<<2,b+=H.r=R[l],x+=H.g=R[l+1],k+=H.b=R[l+2],d+=b,g+=x,v+=k,H=H.next,m+=E=B.r,y+=T=B.g,w+=_=B.b,b-=E,x-=T,k-=_,B=B.next,f+=4;
p+=A}for(a=0;A>a;a++){for(x=k=b=g=v=d=0,f=a<<2,m=F*(E=R[f]),y=F*(T=R[f+1]),w=F*(_=R[f+2]),d+=I*E,g+=I*T,v+=I*_,P=D,c=0;F>c;c++)P.r=E,P.g=T,P.b=_,P=P.next;for(h=A,c=1;o>=c;c++)f=h+a<<2,d+=(P.r=E=R[f])*(N=F-c),g+=(P.g=T=R[f+1])*N,v+=(P.b=_=R[f+2])*N,b+=E,x+=T,k+=_,P=P.next,j>c&&(h+=A);for(f=a,H=D,B=q,u=0;O>u;u++)l=f<<2,R[l]=d*W>>$,R[l+1]=g*W>>$,R[l+2]=v*W>>$,d-=m,g-=y,v-=w,m-=H.r,y-=H.g,w-=H.b,l=a+((l=u+F)<j?l:j)*A<<2,d+=b+=H.r=R[l],g+=x+=H.g=R[l+1],v+=k+=H.b=R[l+2],H=H.next,m+=E=B.r,y+=T=B.g,w+=_=B.b,b-=E,x-=T,k-=_,B=B.next,f+=A}i.putImageData(s,C,S)}}function e(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var n=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],r=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];return t}),n("views/BackgroundView",["require","exports","module","Freequency/View","Freequency/bus","lib/blur"],function(t){var e=t("Freequency/View"),n=t("Freequency/bus"),r=t("lib/blur");return e.extend({initialize:function(){n.on("uiRadioLoadTrack",this.loadBackground,this)},ready:function(){},loadBackground:function(t){var e=this;e.track=t;var n=document.createElement("img");n.crossOrigin="anonymous",n.src=t.get("artworkUrl").replace("-large.","-t500x500."),n.onload=function(){var i=Math.max($(window).width(),$(window).height()),o=document.createElement("canvas");o.width=i,o.height=i;var s=o.getContext("2d");s.drawImage(n,0,0,i,i),r(o,s,180);var a=o.toDataURL();if(e.track&&e.track.id===t.id){var u=$("<div />");u.css("backgroundImage","url("+a+")"),e.$el.append(u),setTimeout(function(){u.addClass("active")},16)}}}})}),n("views/HeaderView",["require","exports","module","Freequency/View","Freequency/bus","lib/blur"],function(t){{var e=t("Freequency/View");t("Freequency/bus"),t("lib/blur")}return e.extend({initialize:function(){},ready:function(){}})}),n("main",["require","exports","module","Freequency/logIn","views/ChartsView","views/RadioView","views/BackgroundView","views/HeaderView"],function(t){Parse.initialize("ZEd3WrkLmul92BiQvQ5TvqujFgVaNSR9lbr12xQ9","1JGmdsxrtvQ6bLrGG9CmT7L2bYNrD77SH7xAIMIY");var e={logIn:t("Freequency/logIn")},n=t("views/ChartsView"),r=t("views/RadioView"),i=t("views/BackgroundView"),o=t("views/HeaderView");e.logIn().done(function(){new o("#header"),new n("#charts"),new r("#radio"),new i("#background")})}),e(["main"])}();